(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~tinymce-plugin-paste-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/paste/plugin.min.js":
/*!**********************************************************!*\
  !*** ./node_modules/tinymce/plugins/paste/plugin.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(y){"use strict";var e,t,n,r,m=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},c=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},f=function(n,r){n.addCommand("mceTogglePlainTextPaste",function(){var e,t;e=n,"text"===(t=r).pasteFormat.get()?(t.pasteFormat.set("html"),o(e,!1)):(t.pasteFormat.set("text"),o(e,!0)),e.focus()}),n.addCommand("mceInsertClipboardContent",function(e,t){t.content&&r.pasteHtml(t.content,t.internal),t.text&&r.pasteText(t.text)})},a=function(e){return function(){return e}},i=a(!1),s=a(!0),u=function(){return l},l=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:i,isSome:i,isNone:s,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(undefined),or:n,orThunk:t,map:u,each:function(){},bind:u,exists:i,forall:s,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:a("none()")}),d=function(n){var e=a(n),t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:s,isNone:i,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return d(e(n))},each:function(e){e(n)},bind:r,exists:r,forall:r,filter:function(e){return e(n)?o:l},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(i,function(e){return t(n,e)})}};return o},p={some:d,none:u,from:function(e){return null===e||e===undefined?l:d(e)}},g=(r="function",function(e){return typeof e===r}),v=Array.prototype.slice,h=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r},b=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},x=g(Array.from)?Array.from:function(e){return v.call(e)},P=tinymce.util.Tools.resolve("tinymce.Env"),w=tinymce.util.Tools.resolve("tinymce.util.Delay"),_=tinymce.util.Tools.resolve("tinymce.util.Promise"),T=tinymce.util.Tools.resolve("tinymce.util.VK"),C=function(e){return e.getParam("paste_data_images",!1)},D=function(e){return e.getParam("paste_retain_style_properties")},k=function(e){return e.getParam("validate")},S=function(e){return e.getParam("paste_data_images",!1,"boolean")},O="x-tinymce/html",R="\x3c!-- "+O+" --\x3e",A=function(e){return-1!==e.indexOf(R)},I=tinymce.util.Tools.resolve("tinymce.util.Tools"),F=tinymce.util.Tools.resolve("tinymce.html.Entities"),E=function(e,t,n){var r=e.split(/\n\n/),o=function(e,t){var n,r=[],o="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+F.encodeAllRaw(t[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(t,n),a="</"+t+">",i=I.map(r,function(e){return e.split(/\n/).join("<br />")});return 1===i.length?i[0]:I.map(i,function(e){return o+e+a}).join("")},M=tinymce.util.Tools.resolve("tinymce.html.DomParser"),N=tinymce.util.Tools.resolve("tinymce.html.Serializer"),B="\xa0",$=tinymce.util.Tools.resolve("tinymce.html.Node"),j=tinymce.util.Tools.resolve("tinymce.html.Schema");function H(t,e){return I.each(e,function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function L(e){var t=j(),n=M({},t),r="",o=t.getShortEndedElements(),a=I.makeMap("script noscript style textarea video audio iframe object"," "),i=t.getBlockElements();return e=H(e,[/<!\[[^\]]+\]>/g]),function s(e){var t=e.name,n=e;if("br"!==t){if("wbr"!==t)if(o[t]&&(r+=" "),a[t])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))for(;s(e),e=e.next;);i[t]&&n.next&&(r+="\n","p"===t&&(r+="\n"))}}else r+="\n"}(n.parse(e)),r}function z(e){return e=H(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function r(e,t,n){return t||n?B:" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function U(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function q(t){var n;return t=t.replace(/^[\u00a0 ]+/,""),I.each([/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],function(e){if(e.test(t))return!(n=!0)}),n}function V(e){var a,i,s=1;function n(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)for(;t+=n(e),e=e.next;);return t}function u(e,t){if(3!==e.type||!t.test(e.value)){if(e=e.firstChild)do{if(!u(e,t))return}while(e=e.next);return 1}e.value=e.value.replace(t,"")}function t(e,t,n){var r=e._listLevel||s;r!==s&&(a=r<s?a&&a.parent.parent:(i=a,null)),a&&a.name===t?a.append(e):(i=i||a,a=new $(t,1),1<n&&a.attr("start",""+n),e.wrap(a)),e.name="li",s<r&&i&&i.lastChild.append(a),s=r,function o(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)for(;o(e),e=e.next;);}(e),u(e,/^\u00a0+/),u(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),u(e,/^\u00a0+/)}for(var r=[],o=e.firstChild;null!=o;)if(r.push(o),null!==(o=o.walk()))for(;void 0!==o&&o.parent!==e;)o=o.walk();for(var l=0;l<r.length;l++)if("p"===(e=r[l]).name&&e.firstChild){var c=n(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(c)){t(e,"ul");continue}if(q(c)){var f=/([0-9]+)\./.exec(c),d=1;f&&(d=parseInt(f[1],10)),t(e,"ol",d);continue}if(e._listLevel){t(e,"ul",1);continue}a=null}else i=a,a=null}function K(n,r,o,a){var i,s={},e=n.dom.parseStyle(a);return I.each(e,function(e,t){switch(t){case"mso-list":(i=/\w+ \w+([0-9]+)/i.exec(a))&&(o._listLevel=parseInt(i[1],10)),/Ignore/i.test(e)&&o.firstChild&&(o._listIgnore=!0,o.firstChild._listIgnore=!0);break;case"horiz-align":t="text-align";break;case"vert-align":t="vertical-align";break;case"font-color":case"mso-foreground":t="color";break;case"mso-background":case"mso-highlight":t="background";break;case"font-weight":case"font-style":return void("normal"!==e&&(s[t]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void o.remove()}0!==t.indexOf("mso-comment")?0!==t.indexOf("mso-")&&("all"===D(n)||r&&r[t])&&(s[t]=e):o.remove()}),/(bold)/i.test(s["font-weight"])&&(delete s["font-weight"],o.wrap(new $("b",1))),/(italic)/i.test(s["font-style"])&&(delete s["font-style"],o.wrap(new $("i",1))),(s=n.dom.serializeStyle(s,o.name))||null}var X=function(e,t){return e.getParam("paste_enable_default_filters",!0)?function(r,e){var o,t=D(r);t&&(o=I.makeMap(t.split(/[, ]/))),e=H(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,B],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(B):""}]]);var n=r.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"),a=j({valid_elements:n,valid_children:"-li[p]"});I.each(a.elements,function(e){e.attributes["class"]||(e.attributes["class"]={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var i=M({},a);i.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",K(r,o,t,t.attr("style"))),"span"===t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),i.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),i.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),i.addNodeFilter("a",function(e){for(var t,n,r,o=e.length;o--;)if(n=(t=e[o]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=(n=n.split("#")[1])&&"#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var s=i.parse(e);return r.getParam("paste_convert_word_fake_lists",!0)&&V(s),e=N({validate:k(r)},a).serialize(s)}(e,t):t},W=function(e,t){return{content:e,cancelled:t}},Y=function(e,t,n,r){var o,a,i,s,u,l,c,f,d,m,p,g,v=(o=t,a=n,i=r,e.fire("PastePreProcess",{content:o,internal:a,wordContent:i})),h=function(e,t){var n=M({},e.schema);n.addNodeFilter("meta",function(e){I.each(e,function(e){return e.remove()})});var r=n.parse(t,{forced_root_block:!1,isRootContent:!0});return N({validate:k(e)},e.schema).serialize(r)}(e,v.content);return e.hasEventListeners("PastePostProcess")&&!v.isDefaultPrevented()?(u=h,l=n,c=r,p=(s=e).dom.create("div",{style:"display:none"},u),f=p,d=l,m=c,g=s.fire("PastePostProcess",{node:f,internal:d,wordContent:m}),W(g.node.innerHTML,g.isDefaultPrevented())):W(h,v.isDefaultPrevented())},Z=function(e,t){return e.insertContent(t,{merge:e.getParam("paste_merge_formats",!0),paste:!0}),!0},G=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},J=function(e){return G(e)&&/.(gif|jpe?g|png)$/.test(e)},Q=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!G(t))&&(o=t,a=n,(r=e).undoManager.extra(function(){a(r,o)},function(){r.execCommand("mceInsertLink",!1,o)}),!0);var r,o,a},ee=function(e,t,n){return!!J(t)&&(o=t,a=n,(r=e).undoManager.extra(function(){a(r,o)},function(){r.insertContent('<img src="'+o+'">')}),!0);var r,o,a},te=function(e,t,n){var r,o;n||!1===e.getParam("smart_paste",!0)?Z(e,t):(r=e,o=t,I.each([Q,ee,Z],function(e){return!0!==e(r,o,Z)}))},ne=function(e){return"\n"===e||"\r"===e},re=function(e,t){var n,r,o,a,i=(n=" ",(r=e.getParam("paste_tab_spaces",4,"number"))<=0?"":new Array(r+1).join(n)),s=t.replace(/\t/g,i);return(a={pcIsSpace:!(o=function(e,t){return-1!==" \f\t\x0B".indexOf(t)||t===B?e.pcIsSpace||""===e.str||e.str.length===s.length-1||(n=s,(r=e.str.length+1)<n.length&&0<=r&&ne(n[r]))?{pcIsSpace:!1,str:e.str+B}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ne(t),str:e.str+t};var n,r}),str:""},b(s,function(e){a=o(a,e)}),a).str},oe=function(e,t,n,r){var o,a,i,s,u,l=(o=e,i=n,s=U(a=t),u=s?X(o,a):a,Y(o,u,i,s));!1===l.cancelled&&te(e,l.content,r)},ae=function(e,t,n){var r=n||A(t);oe(e,t.replace(R,""),r,!1)},ie=function(e,t){var n,r,o,a=e.dom.encode(t).replace(/\r\n/g,"\n"),i=re(e,a),s=(n=i,r=e.getParam("forced_root_block"),o=e.getParam("forced_root_block_attrs"),r?E(n,!0===r?"p":r,o):n.replace(/\r?\n/g,"<br>"));oe(e,s,!1,!0)},se=function(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&0<n.length&&-1===n.indexOf("data:text/mce-internal,")&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var o=e.types[r];try{t[o]=e.getData(o)}catch(a){t[o]=""}}}return t},ue=function(e,t){return t in e&&0<e[t].length},le=function(e){return ue(e,"text/html")||ue(e,"text/plain")},ce=function $e(e){var t=0;return function(){return e+t++}}("mceclip"),fe=function(e,t){var n,r,o,a,i,s,u,l=(n=t.uri,(r=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(n))?{type:r[1],data:decodeURIComponent(r[2])}:{type:null,data:null}),c=l.data,f=l.type,d=ce(),m=e.getParam("images_reuse_filename")&&t.blob.name?(o=e,a=t.blob.name,(i=a.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i))?o.dom.encode(i[1]):null):d,p=new y.Image;if(p.src=t.uri,s=p,!(u=e.getParam("images_dataimg_filter"))||u(s)){var g=e.editorUpload.blobCache,v=void 0,h=g.getByData(c,f);h?v=h:(v=g.create(d,t.blob,c,m),g.add(v)),ae(e,'<img src="'+v.blobUri()+'">',!1)}else ae(e,'<img src="'+t.uri+'">',!1)},de=function(t,e,n){var r,o,a,i,s="paste"===e.type?e.clipboardData:e.dataTransfer;if(S(t)&&s){var u=(a=(o=s).items?h(x(o.items),function(e){return e.getAsFile()}):[],i=o.files?x(o.files):[],function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];t(a,r)&&n.push(a)}return n}(0<a.length?a:i,function(e){return/^image\/(jpeg|png|gif|bmp)$/.test(e.type)}));if(0<u.length)return e.preventDefault(),r=u,_.all(h(r,function(r){return new _(function(e){var t=r.getAsFile?r.getAsFile():r,n=new window.FileReader;n.onload=function(){e({blob:t,uri:n.result})},n.readAsDataURL(t)})})).then(function(e){n&&t.selection.setRng(n),b(e,function(e){fe(t,e)})}),!0}return!1},me=function(e){return T.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},pe=function(s,u,l){var t,c,f=(t=m(p.none()),{clear:function(){t.set(p.none())},set:function(e){t.set(p.some(e))},isSet:function(){return t.get().isSome()},on:function(e){t.get().each(e)}});function d(e,t,n,r){var o;ue(e,"text/html")?o=e["text/html"]:(o=u.getHtml(),r=r||A(o),u.isDefaultContent(o)&&(n=!0)),o=z(o),u.remove();var a=!1===r&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(o),i=J(o);o.length&&(!a||i)||(n=!0),(n||i)&&(o=ue(e,"text/plain")&&a?e["text/plain"]:L(o)),u.isDefaultContent(o)?t||s.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):n?ie(s,o):ae(s,o,r)}s.on("keydown",function(e){function t(e){me(e)&&!e.isDefaultPrevented()&&u.remove()}if(me(e)&&!e.isDefaultPrevented()){if((c=e.shiftKey&&86===e.keyCode)&&P.webkit&&-1!==y.navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),f.set(e),window.setTimeout(function(){f.clear()},100),P.ie&&c)return e.preventDefault(),n=!0,void s.fire("paste",{ieFake:n});u.remove(),u.create(),s.once("keyup",t),s.once("paste",function(){s.off("keyup",t)})}var n});s.on("paste",function(e){var t,n,r=f.isSet(),o=(t=s,se(e.clipboardData||t.getDoc().dataTransfer)),a="text"===l.get()||c,i=ue(o,O);(c=!1,e.isDefaultPrevented()||(n=e.clipboardData,-1!==y.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length))?u.remove():le(o)||!de(s,e,u.getLastRng()||s.selection.getRng())?(r||e.preventDefault(),!P.ie||r&&!e.ieFake||ue(o,"text/html")||(u.create(),s.dom.bind(u.getEl(),"paste",function(e){e.stopPropagation()}),s.getDoc().execCommand("Paste",!1,null),o["text/html"]=u.getHtml()),ue(o,"text/html")?(e.preventDefault(),i=i||A(o["text/html"]),d(o,r,a,i)):w.setEditorTimeout(s,function(){d(o,r,a,i)},0)):u.remove()})},ge=function(i,e,t){var s;pe(i,e,t),i.parser.addNodeFilter("img",function(e,t,n){var r,o=function(e){e.attr("data-mce-object")||s===P.transparentSrc||e.remove()};if(!S(i)&&((r=n).data&&!0===r.data.paste))for(var a=e.length;a--;)(s=e[a].attr("src"))&&(0===s.indexOf("webkit-fake-url")?o(e[a]):i.getParam("allow_html_data_urls",!1,"boolean")||0!==s.indexOf("data:")||o(e[a]))})},ve=function(e){return P.ie&&e.inline?y.document.body:e.getBody()},he=function(t,e,n){var r;ve(r=t)!==r.getBody()&&t.dom.bind(e,"paste keyup",function(e){xe(t,n)||t.fire("paste")})},ye=function(e){return e.dom.get("mcepastebin")},be=function(e,t){return t===e},xe=function(e,t){var n,r=ye(e);return(n=r)&&"mcepastebin"===n.id&&be(t,r.innerHTML)},Pe=function(e){var t=m(null),n="%MCEPASTEBIN%";return{create:function(){return function(e,t,n){var r=e.dom,o=e.getBody();t.set(e.selection.getRng());var a=e.dom.add(ve(e),"div",{id:"mcepastebin","class":"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(P.ie||P.gecko)&&r.setStyle(a,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(a,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),he(e,a,n),a.focus(),e.selection.select(a,!0)}(e,t,n)},remove:function(){return function(e,t){if(ye(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)}(e,t)},getEl:function(){return ye(e)},getHtml:function(){return function(n){var t=function(e,t){e.appendChild(t),n.dom.remove(t,!0)},e=I.grep(ve(n).childNodes,function(e){return"mcepastebin"===e.id}),r=e.shift();I.each(e,function(e){t(r,e)});for(var o=n.dom.select("div[id=mcepastebin]",r),a=o.length-1;0<=a;a--){var i=n.dom.create("div");r.insertBefore(i,o[a]),t(i,o[a])}return r?r.innerHTML:""}(e)},getLastRng:function(){return t.get()},isDefault:function(){return xe(e,n)},isDefaultContent:function(e){return e===n}}},we=function(e,t,n){if(r=e,!1!==P.iOS||"function"!=typeof(null==r?void 0:r.setData))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(O,t),!0}catch(o){return!1}var r},_e=function(e,t,n,r){we(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},Te=function(s){return function(e,t){var n=R+e,r=s.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),o=s.dom.create("div",{contenteditable:"true"},n);s.dom.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(o),s.dom.add(s.getBody(),r);var a=s.selection.getRng();o.focus();var i=s.dom.createRng();i.selectNodeContents(o),s.selection.setRng(i),w.setTimeout(function(){s.selection.setRng(a),r.parentNode.removeChild(r),t()},0)}},Ce=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},De=function(e){return!e.selection.isCollapsed()||!!(t=e).dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody());var t},ke=function(e){var t,n;e.on("cut",(t=e,function(e){De(t)&&_e(e,Ce(t),Te(t),function(){if(P.browser.isChrome()){var e=t.selection.getRng();w.setEditorTimeout(t,function(){t.selection.setRng(e),t.execCommand("Delete")},0)}else t.execCommand("Delete")})})),e.on("copy",(n=e,function(e){De(n)&&_e(e,Ce(n),Te(n),function(){})}))},Se=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Oe=function(e,t){return Se.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},Re=function(e,t){e.focus(),e.selection.setRng(t)},Ae=function(i,s,u){i.getParam("paste_block_drop",!1)&&i.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),C(i)||i.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()}),i.on("drop",function(e){var t=Oe(i,e);if(!e.isDefaultPrevented()&&!u.get()){var n,r=s.getDataTransferItems(e.dataTransfer),o=s.hasContentType(r,O);if(s.hasHtmlOrText(r)&&(!(n=r["text/plain"])||0!==n.indexOf("file://"))||!s.pasteImageData(e,t))if(t&&i.getParam("paste_filter_drop",!0)){var a=r["mce-internal"]||r["text/html"]||r["text/plain"];a&&(e.preventDefault(),w.setEditorTimeout(i,function(){i.undoManager.transact(function(){r["mce-internal"]&&i.execCommand("Delete"),Re(i,t),a=z(a),r["text/html"]?s.pasteHtml(a,o):s.pasteText(a)})}))}}}),i.on("dragstart",function(e){u.set(!0)}),i.on("dragover dragend",function(e){C(i)&&!1===u.get()&&(e.preventDefault(),Re(i,Oe(i,e))),"dragend"===e.type&&u.set(!1)})};function Ie(t,n){t.on("PastePreProcess",function(e){e.content=n(t,e.content,e.internal,e.wordContent)})}function Fe(e,t){if(!U(t))return t;var n=[];return I.each(e.schema.getBlockElements(),function(e,t){n.push(t)}),t=H(t,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),t=H(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function Ee(e,t,n,r){if(r||n)return t;var l,o=e.getParam("paste_webkit_styles");if(!1===e.getParam("paste_remove_styles_if_webkit",!0)||"all"===o)return t;if(o&&(l=o.split(/[, ]/)),l){var c=e.dom,f=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var o=c.parseStyle(c.decode(n)),a={};if("none"===l)return t+r;for(var i=0;i<l.length;i++){var s=o[l[i]],u=c.getStyle(f,l[i],!0);/color/.test(l[i])&&(s=c.toHex(s),u=c.toHex(u)),u!==s&&(a[l[i]]=s)}return(a=c.serializeStyle(a,"span"))?t+' style="'+a+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function Me(n,e){n.$("a",e).find("font,u").each(function(e,t){n.dom.remove(t,!0)})}var Ne=function(e){P.webkit&&Ie(e,Ee),P.ie&&(Ie(e,Fe),function r(t,n){t.on("PastePostProcess",function(e){n(t,e.node)})}(e,Me))},Be=function(n,r){return function(t){t.setActive("text"===r.pasteFormat.get());var e=function(e){return t.setActive(e.state)};return n.on("PastePlainTextToggle",e),function(){return n.off("PastePlainTextToggle",e)}}};!function je(){c.add("paste",function(e){if(!1==!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.getParam("plugins"))||!c.get("powerpaste")||("undefined"!=typeof y.window.console&&y.window.console.log&&y.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))){var t=m(!1),n=m(e.getParam("paste_as_text",!1)?"text":"html"),r=(u=n,l=Pe(s=e),s.on("PreInit",function(){return ge(s,l,u)}),{pasteFormat:u,pasteHtml:function(e,t){return ae(s,e,t)},pasteText:function(e){return ie(s,e)},pasteImageData:function(e,t){return de(s,e,t)},getDataTransferItems:se,hasHtmlOrText:le,hasContentType:ue}),o=Ne(e);return i=r,(a=e).ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return a.execCommand("mceTogglePlainTextPaste")},onSetup:Be(a,i)}),a.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return a.execCommand("mceTogglePlainTextPaste")},onSetup:Be(a,i)}),f(e,r),function(e){var t=e.plugins.paste,n=e.getParam("paste_preprocess");n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=e.getParam("paste_postprocess");r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})}(e),ke(e),Ae(e,r,t),{clipboard:r,quirks:o}}var a,i,s,u,l})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL3Bhc3RlL3BsdWdpbi5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYSwwQkFBMEIsUUFBUSxPQUFPLGVBQWUsU0FBUyxpQkFBaUIsTUFBTSx1RUFBdUUsc0NBQXNDLFFBQVEsRUFBRSxpQkFBaUIsa0RBQWtELFFBQVEsdUhBQXVILHlEQUF5RCx5RUFBeUUsRUFBRSxlQUFlLGtCQUFrQixVQUFVLDhCQUE4QixTQUFTLGtCQUFrQixrQkFBa0IsRUFBRSxtQkFBbUIsV0FBVyw0Q0FBNEMsU0FBUywwQkFBMEIsV0FBVyxzQkFBc0Isc0RBQXNELHFGQUFxRix5RUFBeUUsU0FBUyxzQkFBc0IsZ0JBQWdCLHdCQUF3QixTQUFTLGVBQWUsWUFBWSxJQUFJLG1CQUFtQixZQUFZLGdCQUFnQixhQUFhLCtHQUErRyxlQUFlLGtCQUFrQixLQUFLLDZDQUE2QyxnQkFBZ0Isb0JBQW9CLFVBQVUscUJBQXFCLG9CQUFvQixvQkFBb0IsZUFBZSx1QkFBdUIsNEJBQTRCLGNBQWMsSUFBSSxTQUFTLElBQUksK0JBQStCLHVDQUF1Qyw2QkFBNkIsb0JBQW9CLDBDQUEwQyxzQ0FBc0MsSUFBSSxLQUFLLFdBQVcsWUFBWSxTQUFTLGlCQUFpQix1QkFBdUIsSUFBSSxLQUFLLFdBQVcsd0NBQXdDLGlCQUFpQixtTkFBbU4sMENBQTBDLGVBQWUsbURBQW1ELGVBQWUsOEJBQThCLGVBQWUsb0RBQW9ELDJEQUEyRCx3QkFBd0IsNEhBQTRILHNDQUFzQyxtQkFBbUIsdUJBQXVCLHdFQUF3RSwrQkFBK0IsYUFBYSx5Q0FBeUMsb0NBQW9DLEVBQUUsNkNBQTZDLGFBQWEsV0FBVywrTkFBK04sZ0JBQWdCLDRCQUE0Qiw4REFBOEQsSUFBSSxjQUFjLGdCQUFnQix3SUFBd0ksK0NBQStDLGlCQUFpQixh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c0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFRpbnkgVGVjaG5vbG9naWVzLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTEdQTCBvciBhIGNvbW1lcmNpYWwgbGljZW5zZS5cbiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogRm9yIGNvbW1lcmNpYWwgbGljZW5zZXMgc2VlIGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvXG4gKlxuICogVmVyc2lvbjogNS40LjIgKDIwMjAtMDgtMTcpXG4gKi9cbiFmdW5jdGlvbih5KXtcInVzZSBzdHJpY3RcIjt2YXIgZSx0LG4scixtPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24oZSl7dD1lfX19LGM9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLlBsdWdpbk1hbmFnZXJcIiksbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZpcmUoXCJQYXN0ZVBsYWluVGV4dFRvZ2dsZVwiLHtzdGF0ZTp0fSl9LGY9ZnVuY3Rpb24obixyKXtuLmFkZENvbW1hbmQoXCJtY2VUb2dnbGVQbGFpblRleHRQYXN0ZVwiLGZ1bmN0aW9uKCl7dmFyIGUsdDtlPW4sXCJ0ZXh0XCI9PT0odD1yKS5wYXN0ZUZvcm1hdC5nZXQoKT8odC5wYXN0ZUZvcm1hdC5zZXQoXCJodG1sXCIpLG8oZSwhMSkpOih0LnBhc3RlRm9ybWF0LnNldChcInRleHRcIiksbyhlLCEwKSksZS5mb2N1cygpfSksbi5hZGRDb21tYW5kKFwibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudFwiLGZ1bmN0aW9uKGUsdCl7dC5jb250ZW50JiZyLnBhc3RlSHRtbCh0LmNvbnRlbnQsdC5pbnRlcm5hbCksdC50ZXh0JiZyLnBhc3RlVGV4dCh0LnRleHQpfSl9LGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSxpPWEoITEpLHM9YSghMCksdT1mdW5jdGlvbigpe3JldHVybiBsfSxsPShlPWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzTm9uZSgpfSx7Zm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlKCl9LGlzOmksaXNTb21lOmksaXNOb25lOnMsZ2V0T3I6bj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZ2V0T3JUaHVuazp0PWZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGdldE9yRGllOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlfHxcImVycm9yOiBnZXRPckRpZSBjYWxsZWQgb24gbm9uZS5cIil9LGdldE9yTnVsbDphKG51bGwpLGdldE9yVW5kZWZpbmVkOmEodW5kZWZpbmVkKSxvcjpuLG9yVGh1bms6dCxtYXA6dSxlYWNoOmZ1bmN0aW9uKCl7fSxiaW5kOnUsZXhpc3RzOmksZm9yYWxsOnMsZmlsdGVyOnUsZXF1YWxzOmUsZXF1YWxzXzplLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdG9TdHJpbmc6YShcIm5vbmUoKVwiKX0pLGQ9ZnVuY3Rpb24obil7dmFyIGU9YShuKSx0PWZ1bmN0aW9uKCl7cmV0dXJuIG99LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LG89e2ZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuIG49PT1lfSxpc1NvbWU6cyxpc05vbmU6aSxnZXRPcjplLGdldE9yVGh1bms6ZSxnZXRPckRpZTplLGdldE9yTnVsbDplLGdldE9yVW5kZWZpbmVkOmUsb3I6dCxvclRodW5rOnQsbWFwOmZ1bmN0aW9uKGUpe3JldHVybiBkKGUobikpfSxlYWNoOmZ1bmN0aW9uKGUpe2Uobil9LGJpbmQ6cixleGlzdHM6cixmb3JhbGw6cixmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobik/bzpsfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW25dfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwic29tZShcIituK1wiKVwifSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXMobil9LGVxdWFsc186ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mb2xkKGksZnVuY3Rpb24oZSl7cmV0dXJuIHQobixlKX0pfX07cmV0dXJuIG99LHA9e3NvbWU6ZCxub25lOnUsZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fGU9PT11bmRlZmluZWQ/bDpkKGUpfX0sZz0ocj1cImZ1bmN0aW9uXCIsZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09cn0pLHY9QXJyYXkucHJvdG90eXBlLnNsaWNlLGg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgQXJyYXkobiksbz0wO288bjtvKyspe3ZhciBhPWVbb107cltvXT10KGEsbyl9cmV0dXJuIHJ9LGI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspe3QoZVtuXSxuKX19LHg9ZyhBcnJheS5mcm9tKT9BcnJheS5mcm9tOmZ1bmN0aW9uKGUpe3JldHVybiB2LmNhbGwoZSl9LFA9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLkVudlwiKSx3PXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLkRlbGF5XCIpLF89dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuUHJvbWlzZVwiKSxUPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLlZLXCIpLEM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oXCJwYXN0ZV9kYXRhX2ltYWdlc1wiLCExKX0sRD1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbShcInBhc3RlX3JldGFpbl9zdHlsZV9wcm9wZXJ0aWVzXCIpfSxrPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKFwidmFsaWRhdGVcIil9LFM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oXCJwYXN0ZV9kYXRhX2ltYWdlc1wiLCExLFwiYm9vbGVhblwiKX0sTz1cIngtdGlueW1jZS9odG1sXCIsUj1cIlxceDNjIS0tIFwiK08rXCIgLS1cXHgzZVwiLEE9ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmluZGV4T2YoUil9LEk9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuVG9vbHNcIiksRj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuaHRtbC5FbnRpdGllc1wiKSxFPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLnNwbGl0KC9cXG5cXG4vKSxvPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxvPVwiPFwiK2U7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2ZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmci5wdXNoKG4rJz1cIicrRi5lbmNvZGVBbGxSYXcodFtuXSkrJ1wiJyk7ci5sZW5ndGgmJihvKz1cIiBcIityLmpvaW4oXCIgXCIpKX1yZXR1cm4gbytcIj5cIn0odCxuKSxhPVwiPC9cIit0K1wiPlwiLGk9SS5tYXAocixmdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdCgvXFxuLykuam9pbihcIjxiciAvPlwiKX0pO3JldHVybiAxPT09aS5sZW5ndGg/aVswXTpJLm1hcChpLGZ1bmN0aW9uKGUpe3JldHVybiBvK2UrYX0pLmpvaW4oXCJcIil9LE09dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmh0bWwuRG9tUGFyc2VyXCIpLE49dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmh0bWwuU2VyaWFsaXplclwiKSxCPVwiXFx4YTBcIiwkPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS5odG1sLk5vZGVcIiksaj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuaHRtbC5TY2hlbWFcIik7ZnVuY3Rpb24gSCh0LGUpe3JldHVybiBJLmVhY2goZSxmdW5jdGlvbihlKXt0PWUuY29uc3RydWN0b3I9PT1SZWdFeHA/dC5yZXBsYWNlKGUsXCJcIik6dC5yZXBsYWNlKGVbMF0sZVsxXSl9KSx0fWZ1bmN0aW9uIEwoZSl7dmFyIHQ9aigpLG49TSh7fSx0KSxyPVwiXCIsbz10LmdldFNob3J0RW5kZWRFbGVtZW50cygpLGE9SS5tYWtlTWFwKFwic2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3RcIixcIiBcIiksaT10LmdldEJsb2NrRWxlbWVudHMoKTtyZXR1cm4gZT1IKGUsWy88IVxcW1teXFxdXStcXF0+L2ddKSxmdW5jdGlvbiBzKGUpe3ZhciB0PWUubmFtZSxuPWU7aWYoXCJiclwiIT09dCl7aWYoXCJ3YnJcIiE9PXQpaWYob1t0XSYmKHIrPVwiIFwiKSxhW3RdKXIrPVwiIFwiO2Vsc2V7aWYoMz09PWUudHlwZSYmKHIrPWUudmFsdWUpLCFlLnNob3J0RW5kZWQmJihlPWUuZmlyc3RDaGlsZCkpZm9yKDtzKGUpLGU9ZS5uZXh0Oyk7aVt0XSYmbi5uZXh0JiYocis9XCJcXG5cIixcInBcIj09PXQmJihyKz1cIlxcblwiKSl9fWVsc2Ugcis9XCJcXG5cIn0obi5wYXJzZShlKSkscn1mdW5jdGlvbiB6KGUpe3JldHVybiBlPUgoZSxbL15bXFxzXFxTXSo8Ym9keVtePl0qPlxccyp8XFxzKjxcXC9ib2R5W14+XSo+W1xcc1xcU10qJC9naSwvPCEtLVN0YXJ0RnJhZ21lbnQtLT58PCEtLUVuZEZyYWdtZW50LS0+L2csWy8oID8pPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj5cXHUwMGEwPFxcL3NwYW4+KCA/KS9nLGZ1bmN0aW9uIHIoZSx0LG4pe3JldHVybiB0fHxuP0I6XCIgXCJ9XSwvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi9nLC88YnI+JC9pXSl9ZnVuY3Rpb24gVShlKXtyZXR1cm4vPGZvbnQgZmFjZT1cIlRpbWVzIE5ldyBSb21hblwifGNsYXNzPVwiP01zb3xzdHlsZT1cIlteXCJdKlxcYm1zby18c3R5bGU9J1teJyddKlxcYm1zby18dzpXb3JkRG9jdW1lbnQvaS50ZXN0KGUpfHwvY2xhc3M9XCJPdXRsaW5lRWxlbWVudC8udGVzdChlKXx8L2lkPVwiP2RvY3NcXC1pbnRlcm5hbFxcLWd1aWRcXC0vLnRlc3QoZSl9ZnVuY3Rpb24gcSh0KXt2YXIgbjtyZXR1cm4gdD10LnJlcGxhY2UoL15bXFx1MDBhMCBdKy8sXCJcIiksSS5lYWNoKFsvXltJVlhMTUNEXXsxLDJ9XFwuWyBcXHUwMGEwXS8sL15baXZ4bG1jZF17MSwyfVxcLlsgXFx1MDBhMF0vLC9eW2Etel17MSwyfVtcXC5cXCldWyBcXHUwMGEwXS8sL15bQS1aXXsxLDJ9W1xcLlxcKV1bIFxcdTAwYTBdLywvXlswLTldK1xcLlsgXFx1MDBhMF0vLC9eW1xcdTMwMDdcXHU0ZTAwXFx1NGU4Y1xcdTRlMDlcXHU1NmRiXFx1NGU5NFxcdTUxNmRcXHU0ZTAzXFx1NTE2YlxcdTRlNWRdK1xcLlsgXFx1MDBhMF0vLC9eW1xcdTU4ZjFcXHU1ZjEwXFx1NTNjMlxcdTU2ZGJcXHU0ZjBkXFx1NTE2ZFxcdTRlMDNcXHU1MTZiXFx1NGU1ZFxcdTYyZmVdK1xcLlsgXFx1MDBhMF0vXSxmdW5jdGlvbihlKXtpZihlLnRlc3QodCkpcmV0dXJuIShuPSEwKX0pLG59ZnVuY3Rpb24gVihlKXt2YXIgYSxpLHM9MTtmdW5jdGlvbiBuKGUpe3ZhciB0PVwiXCI7aWYoMz09PWUudHlwZSlyZXR1cm4gZS52YWx1ZTtpZihlPWUuZmlyc3RDaGlsZClmb3IoO3QrPW4oZSksZT1lLm5leHQ7KTtyZXR1cm4gdH1mdW5jdGlvbiB1KGUsdCl7aWYoMyE9PWUudHlwZXx8IXQudGVzdChlLnZhbHVlKSl7aWYoZT1lLmZpcnN0Q2hpbGQpZG97aWYoIXUoZSx0KSlyZXR1cm59d2hpbGUoZT1lLm5leHQpO3JldHVybiAxfWUudmFsdWU9ZS52YWx1ZS5yZXBsYWNlKHQsXCJcIil9ZnVuY3Rpb24gdChlLHQsbil7dmFyIHI9ZS5fbGlzdExldmVsfHxzO3IhPT1zJiYoYT1yPHM/YSYmYS5wYXJlbnQucGFyZW50OihpPWEsbnVsbCkpLGEmJmEubmFtZT09PXQ/YS5hcHBlbmQoZSk6KGk9aXx8YSxhPW5ldyAkKHQsMSksMTxuJiZhLmF0dHIoXCJzdGFydFwiLFwiXCIrbiksZS53cmFwKGEpKSxlLm5hbWU9XCJsaVwiLHM8ciYmaSYmaS5sYXN0Q2hpbGQuYXBwZW5kKGEpLHM9cixmdW5jdGlvbiBvKGUpe2lmKGUuX2xpc3RJZ25vcmUpZS5yZW1vdmUoKTtlbHNlIGlmKGU9ZS5maXJzdENoaWxkKWZvcig7byhlKSxlPWUubmV4dDspO30oZSksdShlLC9eXFx1MDBhMCsvKSx1KGUsL15cXHMqKFtcXHUyMDIyXFx1MDBiN1xcdTAwYTdcXHUyNUNGXXxcXHcrXFwuKS8pLHUoZSwvXlxcdTAwYTArLyl9Zm9yKHZhciByPVtdLG89ZS5maXJzdENoaWxkO251bGwhPW87KWlmKHIucHVzaChvKSxudWxsIT09KG89by53YWxrKCkpKWZvcig7dm9pZCAwIT09byYmby5wYXJlbnQhPT1lOylvPW8ud2FsaygpO2Zvcih2YXIgbD0wO2w8ci5sZW5ndGg7bCsrKWlmKFwicFwiPT09KGU9cltsXSkubmFtZSYmZS5maXJzdENoaWxkKXt2YXIgYz1uKGUpO2lmKC9eW1xcc1xcdTAwYTBdKltcXHUyMDIyXFx1MDBiN1xcdTAwYTdcXHUyNUNGXVxccyovLnRlc3QoYykpe3QoZSxcInVsXCIpO2NvbnRpbnVlfWlmKHEoYykpe3ZhciBmPS8oWzAtOV0rKVxcLi8uZXhlYyhjKSxkPTE7ZiYmKGQ9cGFyc2VJbnQoZlsxXSwxMCkpLHQoZSxcIm9sXCIsZCk7Y29udGludWV9aWYoZS5fbGlzdExldmVsKXt0KGUsXCJ1bFwiLDEpO2NvbnRpbnVlfWE9bnVsbH1lbHNlIGk9YSxhPW51bGx9ZnVuY3Rpb24gSyhuLHIsbyxhKXt2YXIgaSxzPXt9LGU9bi5kb20ucGFyc2VTdHlsZShhKTtyZXR1cm4gSS5lYWNoKGUsZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZVwibXNvLWxpc3RcIjooaT0vXFx3KyBcXHcrKFswLTldKykvaS5leGVjKGEpKSYmKG8uX2xpc3RMZXZlbD1wYXJzZUludChpWzFdLDEwKSksL0lnbm9yZS9pLnRlc3QoZSkmJm8uZmlyc3RDaGlsZCYmKG8uX2xpc3RJZ25vcmU9ITAsby5maXJzdENoaWxkLl9saXN0SWdub3JlPSEwKTticmVhaztjYXNlXCJob3Jpei1hbGlnblwiOnQ9XCJ0ZXh0LWFsaWduXCI7YnJlYWs7Y2FzZVwidmVydC1hbGlnblwiOnQ9XCJ2ZXJ0aWNhbC1hbGlnblwiO2JyZWFrO2Nhc2VcImZvbnQtY29sb3JcIjpjYXNlXCJtc28tZm9yZWdyb3VuZFwiOnQ9XCJjb2xvclwiO2JyZWFrO2Nhc2VcIm1zby1iYWNrZ3JvdW5kXCI6Y2FzZVwibXNvLWhpZ2hsaWdodFwiOnQ9XCJiYWNrZ3JvdW5kXCI7YnJlYWs7Y2FzZVwiZm9udC13ZWlnaHRcIjpjYXNlXCJmb250LXN0eWxlXCI6cmV0dXJuIHZvaWQoXCJub3JtYWxcIiE9PWUmJihzW3RdPWUpKTtjYXNlXCJtc28tZWxlbWVudFwiOmlmKC9eKGNvbW1lbnR8Y29tbWVudC1saXN0KSQvaS50ZXN0KGUpKXJldHVybiB2b2lkIG8ucmVtb3ZlKCl9MCE9PXQuaW5kZXhPZihcIm1zby1jb21tZW50XCIpPzAhPT10LmluZGV4T2YoXCJtc28tXCIpJiYoXCJhbGxcIj09PUQobil8fHImJnJbdF0pJiYoc1t0XT1lKTpvLnJlbW92ZSgpfSksLyhib2xkKS9pLnRlc3Qoc1tcImZvbnQtd2VpZ2h0XCJdKSYmKGRlbGV0ZSBzW1wiZm9udC13ZWlnaHRcIl0sby53cmFwKG5ldyAkKFwiYlwiLDEpKSksLyhpdGFsaWMpL2kudGVzdChzW1wiZm9udC1zdHlsZVwiXSkmJihkZWxldGUgc1tcImZvbnQtc3R5bGVcIl0sby53cmFwKG5ldyAkKFwiaVwiLDEpKSksKHM9bi5kb20uc2VyaWFsaXplU3R5bGUocyxvLm5hbWUpKXx8bnVsbH12YXIgWD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmdldFBhcmFtKFwicGFzdGVfZW5hYmxlX2RlZmF1bHRfZmlsdGVyc1wiLCEwKT9mdW5jdGlvbihyLGUpe3ZhciBvLHQ9RChyKTt0JiYobz1JLm1ha2VNYXAodC5zcGxpdCgvWywgXS8pKSksZT1IKGUsWy88YnIgY2xhc3M9XCI/QXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPz4vZ2ksLzxiW14+XStpZD1cIj9kb2NzLWludGVybmFsLVtePl0qPi9naSwvPCEtLVtcXHNcXFNdKz8tLT4vZ2ksLzwoIXxzY3JpcHRbXj5dKj4uKj88XFwvc2NyaXB0KD89Wz5cXHNdKXxcXC8/KFxcP3htbCg6XFx3Kyk/fGltZ3xtZXRhfGxpbmt8c3R5bGV8XFx3OlxcdyspKD89W1xcc1xcLz5dKSlbXj5dKj4vZ2ksWy88KFxcLz8pcz4vZ2ksXCI8JDFzdHJpa2U+XCJdLFsvJm5ic3A7L2dpLEJdLFsvPHNwYW5cXHMrc3R5bGVcXHMqPVxccypcIlxccyptc28tc3BhY2VydW5cXHMqOlxccyp5ZXNcXHMqOz9cXHMqXCJcXHMqPihbXFxzXFx1MDBhMF0qKTxcXC9zcGFuPi9naSxmdW5jdGlvbihlLHQpe3JldHVybiAwPHQubGVuZ3RoP3QucmVwbGFjZSgvLi8sXCIgXCIpLnNsaWNlKE1hdGguZmxvb3IodC5sZW5ndGgvMikpLnNwbGl0KFwiXCIpLmpvaW4oQik6XCJcIn1dXSk7dmFyIG49ci5nZXRQYXJhbShcInBhc3RlX3dvcmRfdmFsaWRfZWxlbWVudHNcIixcIi1zdHJvbmcvYiwtZW0vaSwtdSwtc3BhbiwtcCwtb2wsLXVsLC1saSwtaDEsLWgyLC1oMywtaDQsLWg1LC1oNiwtcC9kaXYsLWFbaHJlZnxuYW1lXSxzdWIsc3VwLHN0cmlrZSxicixkZWwsdGFibGVbd2lkdGhdLHRyLHRkW2NvbHNwYW58cm93c3Bhbnx3aWR0aF0sdGhbY29sc3Bhbnxyb3dzcGFufHdpZHRoXSx0aGVhZCx0Zm9vdCx0Ym9keVwiKSxhPWooe3ZhbGlkX2VsZW1lbnRzOm4sdmFsaWRfY2hpbGRyZW46XCItbGlbcF1cIn0pO0kuZWFjaChhLmVsZW1lbnRzLGZ1bmN0aW9uKGUpe2UuYXR0cmlidXRlc1tcImNsYXNzXCJdfHwoZS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09e30sZS5hdHRyaWJ1dGVzT3JkZXIucHVzaChcImNsYXNzXCIpKSxlLmF0dHJpYnV0ZXMuc3R5bGV8fChlLmF0dHJpYnV0ZXMuc3R5bGU9e30sZS5hdHRyaWJ1dGVzT3JkZXIucHVzaChcInN0eWxlXCIpKX0pO3ZhciBpPU0oe30sYSk7aS5hZGRBdHRyaWJ1dGVGaWx0ZXIoXCJzdHlsZVwiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoO24tLTspKHQ9ZVtuXSkuYXR0cihcInN0eWxlXCIsSyhyLG8sdCx0LmF0dHIoXCJzdHlsZVwiKSkpLFwic3BhblwiPT09dC5uYW1lJiZ0LnBhcmVudCYmIXQuYXR0cmlidXRlcy5sZW5ndGgmJnQudW53cmFwKCl9KSxpLmFkZEF0dHJpYnV0ZUZpbHRlcihcImNsYXNzXCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lLmxlbmd0aDtyLS07KW49KHQ9ZVtyXSkuYXR0cihcImNsYXNzXCIpLC9eKE1zb0NvbW1lbnRSZWZlcmVuY2V8TXNvQ29tbWVudFRleHR8bXNvRGVsKSQvaS50ZXN0KG4pJiZ0LnJlbW92ZSgpLHQuYXR0cihcImNsYXNzXCIsbnVsbCl9KSxpLmFkZE5vZGVGaWx0ZXIoXCJkZWxcIixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOyllW3RdLnJlbW92ZSgpfSksaS5hZGROb2RlRmlsdGVyKFwiYVwiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsbz1lLmxlbmd0aDtvLS07KWlmKG49KHQ9ZVtvXSkuYXR0cihcImhyZWZcIikscj10LmF0dHIoXCJuYW1lXCIpLG4mJi0xIT09bi5pbmRleE9mKFwiI19tc29jb21fXCIpKXQucmVtb3ZlKCk7ZWxzZSBpZihuJiYwPT09bi5pbmRleE9mKFwiZmlsZTovL1wiKSYmKG49KG49bi5zcGxpdChcIiNcIilbMV0pJiZcIiNcIituKSxufHxyKXtpZihyJiYhL15fPyg/OnRvY3xlZG58ZnRuKS9pLnRlc3Qocikpe3QudW53cmFwKCk7Y29udGludWV9dC5hdHRyKHtocmVmOm4sbmFtZTpyfSl9ZWxzZSB0LnVud3JhcCgpfSk7dmFyIHM9aS5wYXJzZShlKTtyZXR1cm4gci5nZXRQYXJhbShcInBhc3RlX2NvbnZlcnRfd29yZF9mYWtlX2xpc3RzXCIsITApJiZWKHMpLGU9Tih7dmFsaWRhdGU6ayhyKX0sYSkuc2VyaWFsaXplKHMpfShlLHQpOnR9LFc9ZnVuY3Rpb24oZSx0KXtyZXR1cm57Y29udGVudDplLGNhbmNlbGxlZDp0fX0sWT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxhLGkscyx1LGwsYyxmLGQsbSxwLGcsdj0obz10LGE9bixpPXIsZS5maXJlKFwiUGFzdGVQcmVQcm9jZXNzXCIse2NvbnRlbnQ6byxpbnRlcm5hbDphLHdvcmRDb250ZW50Oml9KSksaD1mdW5jdGlvbihlLHQpe3ZhciBuPU0oe30sZS5zY2hlbWEpO24uYWRkTm9kZUZpbHRlcihcIm1ldGFcIixmdW5jdGlvbihlKXtJLmVhY2goZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5yZW1vdmUoKX0pfSk7dmFyIHI9bi5wYXJzZSh0LHtmb3JjZWRfcm9vdF9ibG9jazohMSxpc1Jvb3RDb250ZW50OiEwfSk7cmV0dXJuIE4oe3ZhbGlkYXRlOmsoZSl9LGUuc2NoZW1hKS5zZXJpYWxpemUocil9KGUsdi5jb250ZW50KTtyZXR1cm4gZS5oYXNFdmVudExpc3RlbmVycyhcIlBhc3RlUG9zdFByb2Nlc3NcIikmJiF2LmlzRGVmYXVsdFByZXZlbnRlZCgpPyh1PWgsbD1uLGM9cixwPShzPWUpLmRvbS5jcmVhdGUoXCJkaXZcIix7c3R5bGU6XCJkaXNwbGF5Om5vbmVcIn0sdSksZj1wLGQ9bCxtPWMsZz1zLmZpcmUoXCJQYXN0ZVBvc3RQcm9jZXNzXCIse25vZGU6ZixpbnRlcm5hbDpkLHdvcmRDb250ZW50Om19KSxXKGcubm9kZS5pbm5lckhUTUwsZy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpOlcoaCx2LmlzRGVmYXVsdFByZXZlbnRlZCgpKX0sWj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmluc2VydENvbnRlbnQodCx7bWVyZ2U6ZS5nZXRQYXJhbShcInBhc3RlX21lcmdlX2Zvcm1hdHNcIiwhMCkscGFzdGU6ITB9KSwhMH0sRz1mdW5jdGlvbihlKXtyZXR1cm4vXmh0dHBzPzpcXC9cXC9bXFx3XFw/XFwtXFwvKz0uJiVAfiNdKyQvaS50ZXN0KGUpfSxKPWZ1bmN0aW9uKGUpe3JldHVybiBHKGUpJiYvLihnaWZ8anBlP2d8cG5nKSQvLnRlc3QoZSl9LFE9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiEoITEhPT1lLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpfHwhRyh0KSkmJihvPXQsYT1uLChyPWUpLnVuZG9NYW5hZ2VyLmV4dHJhKGZ1bmN0aW9uKCl7YShyLG8pfSxmdW5jdGlvbigpe3IuZXhlY0NvbW1hbmQoXCJtY2VJbnNlcnRMaW5rXCIsITEsbyl9KSwhMCk7dmFyIHIsbyxhfSxlZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuISFKKHQpJiYobz10LGE9biwocj1lKS51bmRvTWFuYWdlci5leHRyYShmdW5jdGlvbigpe2EocixvKX0sZnVuY3Rpb24oKXtyLmluc2VydENvbnRlbnQoJzxpbWcgc3JjPVwiJytvKydcIj4nKX0pLCEwKTt2YXIgcixvLGF9LHRlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO258fCExPT09ZS5nZXRQYXJhbShcInNtYXJ0X3Bhc3RlXCIsITApP1ooZSx0KToocj1lLG89dCxJLmVhY2goW1EsZWUsWl0sZnVuY3Rpb24oZSl7cmV0dXJuITAhPT1lKHIsbyxaKX0pKX0sbmU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJcXG5cIj09PWV8fFwiXFxyXCI9PT1lfSxyZT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxhLGk9KG49XCIgXCIsKHI9ZS5nZXRQYXJhbShcInBhc3RlX3RhYl9zcGFjZXNcIiw0LFwibnVtYmVyXCIpKTw9MD9cIlwiOm5ldyBBcnJheShyKzEpLmpvaW4obikpLHM9dC5yZXBsYWNlKC9cXHQvZyxpKTtyZXR1cm4oYT17cGNJc1NwYWNlOiEobz1mdW5jdGlvbihlLHQpe3JldHVybi0xIT09XCIgXFxmXFx0XFx4MEJcIi5pbmRleE9mKHQpfHx0PT09Qj9lLnBjSXNTcGFjZXx8XCJcIj09PWUuc3RyfHxlLnN0ci5sZW5ndGg9PT1zLmxlbmd0aC0xfHwobj1zLChyPWUuc3RyLmxlbmd0aCsxKTxuLmxlbmd0aCYmMDw9ciYmbmUobltyXSkpP3twY0lzU3BhY2U6ITEsc3RyOmUuc3RyK0J9OntwY0lzU3BhY2U6ITAsc3RyOmUuc3RyK1wiIFwifTp7cGNJc1NwYWNlOm5lKHQpLHN0cjplLnN0cit0fTt2YXIgbixyfSksc3RyOlwiXCJ9LGIocyxmdW5jdGlvbihlKXthPW8oYSxlKX0pLGEpLnN0cn0sb2U9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8sYSxpLHMsdSxsPShvPWUsaT1uLHM9VShhPXQpLHU9cz9YKG8sYSk6YSxZKG8sdSxpLHMpKTshMT09PWwuY2FuY2VsbGVkJiZ0ZShlLGwuY29udGVudCxyKX0sYWU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW58fEEodCk7b2UoZSx0LnJlcGxhY2UoUixcIlwiKSxyLCExKX0saWU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8sYT1lLmRvbS5lbmNvZGUodCkucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIiksaT1yZShlLGEpLHM9KG49aSxyPWUuZ2V0UGFyYW0oXCJmb3JjZWRfcm9vdF9ibG9ja1wiKSxvPWUuZ2V0UGFyYW0oXCJmb3JjZWRfcm9vdF9ibG9ja19hdHRyc1wiKSxyP0UobiwhMD09PXI/XCJwXCI6cixvKTpuLnJlcGxhY2UoL1xccj9cXG4vZyxcIjxicj5cIikpO29lKGUscywhMSwhMCl9LHNlPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O2lmKGUpe2lmKGUuZ2V0RGF0YSl7dmFyIG49ZS5nZXREYXRhKFwiVGV4dFwiKTtuJiYwPG4ubGVuZ3RoJiYtMT09PW4uaW5kZXhPZihcImRhdGE6dGV4dC9tY2UtaW50ZXJuYWwsXCIpJiYodFtcInRleHQvcGxhaW5cIl09bil9aWYoZS50eXBlcylmb3IodmFyIHI9MDtyPGUudHlwZXMubGVuZ3RoO3IrKyl7dmFyIG89ZS50eXBlc1tyXTt0cnl7dFtvXT1lLmdldERhdGEobyl9Y2F0Y2goYSl7dFtvXT1cIlwifX19cmV0dXJuIHR9LHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQgaW4gZSYmMDxlW3RdLmxlbmd0aH0sbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHVlKGUsXCJ0ZXh0L2h0bWxcIil8fHVlKGUsXCJ0ZXh0L3BsYWluXCIpfSxjZT1mdW5jdGlvbiAkZShlKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlK3QrK319KFwibWNlY2xpcFwiKSxmZT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxhLGkscyx1LGw9KG49dC51cmksKHI9L2RhdGE6KFteO10rKTtiYXNlNjQsKFthLXowLTlcXCtcXC89XSspL2kuZXhlYyhuKSk/e3R5cGU6clsxXSxkYXRhOmRlY29kZVVSSUNvbXBvbmVudChyWzJdKX06e3R5cGU6bnVsbCxkYXRhOm51bGx9KSxjPWwuZGF0YSxmPWwudHlwZSxkPWNlKCksbT1lLmdldFBhcmFtKFwiaW1hZ2VzX3JldXNlX2ZpbGVuYW1lXCIpJiZ0LmJsb2IubmFtZT8obz1lLGE9dC5ibG9iLm5hbWUsKGk9YS5tYXRjaCgvKFtcXHNcXFNdKz8pXFwuKD86anBlZ3xqcGd8cG5nfGdpZikkL2kpKT9vLmRvbS5lbmNvZGUoaVsxXSk6bnVsbCk6ZCxwPW5ldyB5LkltYWdlO2lmKHAuc3JjPXQudXJpLHM9cCwhKHU9ZS5nZXRQYXJhbShcImltYWdlc19kYXRhaW1nX2ZpbHRlclwiKSl8fHUocykpe3ZhciBnPWUuZWRpdG9yVXBsb2FkLmJsb2JDYWNoZSx2PXZvaWQgMCxoPWcuZ2V0QnlEYXRhKGMsZik7aD92PWg6KHY9Zy5jcmVhdGUoZCx0LmJsb2IsYyxtKSxnLmFkZCh2KSksYWUoZSwnPGltZyBzcmM9XCInK3YuYmxvYlVyaSgpKydcIj4nLCExKX1lbHNlIGFlKGUsJzxpbWcgc3JjPVwiJyt0LnVyaSsnXCI+JywhMSl9LGRlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixvLGEsaSxzPVwicGFzdGVcIj09PWUudHlwZT9lLmNsaXBib2FyZERhdGE6ZS5kYXRhVHJhbnNmZXI7aWYoUyh0KSYmcyl7dmFyIHU9KGE9KG89cykuaXRlbXM/aCh4KG8uaXRlbXMpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFzRmlsZSgpfSk6W10saT1vLmZpbGVzP3goby5maWxlcyk6W10sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGE9ZVtyXTt0KGEscikmJm4ucHVzaChhKX1yZXR1cm4gbn0oMDxhLmxlbmd0aD9hOmksZnVuY3Rpb24oZSl7cmV0dXJuL15pbWFnZVxcLyhqcGVnfHBuZ3xnaWZ8Ym1wKSQvLnRlc3QoZS50eXBlKX0pKTtpZigwPHUubGVuZ3RoKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCkscj11LF8uYWxsKGgocixmdW5jdGlvbihyKXtyZXR1cm4gbmV3IF8oZnVuY3Rpb24oZSl7dmFyIHQ9ci5nZXRBc0ZpbGU/ci5nZXRBc0ZpbGUoKTpyLG49bmV3IHdpbmRvdy5GaWxlUmVhZGVyO24ub25sb2FkPWZ1bmN0aW9uKCl7ZSh7YmxvYjp0LHVyaTpuLnJlc3VsdH0pfSxuLnJlYWRBc0RhdGFVUkwodCl9KX0pKS50aGVuKGZ1bmN0aW9uKGUpe24mJnQuc2VsZWN0aW9uLnNldFJuZyhuKSxiKGUsZnVuY3Rpb24oZSl7ZmUodCxlKX0pfSksITB9cmV0dXJuITF9LG1lPWZ1bmN0aW9uKGUpe3JldHVybiBULm1ldGFLZXlQcmVzc2VkKGUpJiY4Nj09PWUua2V5Q29kZXx8ZS5zaGlmdEtleSYmNDU9PT1lLmtleUNvZGV9LHBlPWZ1bmN0aW9uKHMsdSxsKXt2YXIgdCxjLGY9KHQ9bShwLm5vbmUoKSkse2NsZWFyOmZ1bmN0aW9uKCl7dC5zZXQocC5ub25lKCkpfSxzZXQ6ZnVuY3Rpb24oZSl7dC5zZXQocC5zb21lKGUpKX0saXNTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXQoKS5pc1NvbWUoKX0sb246ZnVuY3Rpb24oZSl7dC5nZXQoKS5lYWNoKGUpfX0pO2Z1bmN0aW9uIGQoZSx0LG4scil7dmFyIG87dWUoZSxcInRleHQvaHRtbFwiKT9vPWVbXCJ0ZXh0L2h0bWxcIl06KG89dS5nZXRIdG1sKCkscj1yfHxBKG8pLHUuaXNEZWZhdWx0Q29udGVudChvKSYmKG49ITApKSxvPXoobyksdS5yZW1vdmUoKTt2YXIgYT0hMT09PXImJiEvPCg/OlxcLz8oPyEoPzpkaXZ8cHxicnxzcGFuKT4pXFx3K3woPzooPyEoPzpzcGFuIHN0eWxlPVwid2hpdGUtc3BhY2U6XFxzP3ByZTs/XCI+KXxiclxccz9cXC8+KSlcXHcrXFxzW14+XSspPi9pLnRlc3QobyksaT1KKG8pO28ubGVuZ3RoJiYoIWF8fGkpfHwobj0hMCksKG58fGkpJiYobz11ZShlLFwidGV4dC9wbGFpblwiKSYmYT9lW1widGV4dC9wbGFpblwiXTpMKG8pKSx1LmlzRGVmYXVsdENvbnRlbnQobyk/dHx8cy53aW5kb3dNYW5hZ2VyLmFsZXJ0KFwiUGxlYXNlIHVzZSBDdHJsK1YvQ21kK1Yga2V5Ym9hcmQgc2hvcnRjdXRzIHRvIHBhc3RlIGNvbnRlbnRzLlwiKTpuP2llKHMsbyk6YWUocyxvLHIpfXMub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXttZShlKSYmIWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJnUucmVtb3ZlKCl9aWYobWUoZSkmJiFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtpZigoYz1lLnNoaWZ0S2V5JiY4Nj09PWUua2V5Q29kZSkmJlAud2Via2l0JiYtMSE9PXkubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiVmVyc2lvbi9cIikpcmV0dXJuO2lmKGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZi5zZXQoZSksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmNsZWFyKCl9LDEwMCksUC5pZSYmYylyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLG49ITAsdm9pZCBzLmZpcmUoXCJwYXN0ZVwiLHtpZUZha2U6bn0pO3UucmVtb3ZlKCksdS5jcmVhdGUoKSxzLm9uY2UoXCJrZXl1cFwiLHQpLHMub25jZShcInBhc3RlXCIsZnVuY3Rpb24oKXtzLm9mZihcImtleXVwXCIsdCl9KX12YXIgbn0pO3Mub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj1mLmlzU2V0KCksbz0odD1zLHNlKGUuY2xpcGJvYXJkRGF0YXx8dC5nZXREb2MoKS5kYXRhVHJhbnNmZXIpKSxhPVwidGV4dFwiPT09bC5nZXQoKXx8YyxpPXVlKG8sTyk7KGM9ITEsZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG49ZS5jbGlwYm9hcmREYXRhLC0xIT09eS5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBbmRyb2lkXCIpJiZuJiZuLml0ZW1zJiYwPT09bi5pdGVtcy5sZW5ndGgpKT91LnJlbW92ZSgpOmxlKG8pfHwhZGUocyxlLHUuZ2V0TGFzdFJuZygpfHxzLnNlbGVjdGlvbi5nZXRSbmcoKSk/KHJ8fGUucHJldmVudERlZmF1bHQoKSwhUC5pZXx8ciYmIWUuaWVGYWtlfHx1ZShvLFwidGV4dC9odG1sXCIpfHwodS5jcmVhdGUoKSxzLmRvbS5iaW5kKHUuZ2V0RWwoKSxcInBhc3RlXCIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pLHMuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoXCJQYXN0ZVwiLCExLG51bGwpLG9bXCJ0ZXh0L2h0bWxcIl09dS5nZXRIdG1sKCkpLHVlKG8sXCJ0ZXh0L2h0bWxcIik/KGUucHJldmVudERlZmF1bHQoKSxpPWl8fEEob1tcInRleHQvaHRtbFwiXSksZChvLHIsYSxpKSk6dy5zZXRFZGl0b3JUaW1lb3V0KHMsZnVuY3Rpb24oKXtkKG8scixhLGkpfSwwKSk6dS5yZW1vdmUoKX0pfSxnZT1mdW5jdGlvbihpLGUsdCl7dmFyIHM7cGUoaSxlLHQpLGkucGFyc2VyLmFkZE5vZGVGaWx0ZXIoXCJpbWdcIixmdW5jdGlvbihlLHQsbil7dmFyIHIsbz1mdW5jdGlvbihlKXtlLmF0dHIoXCJkYXRhLW1jZS1vYmplY3RcIil8fHM9PT1QLnRyYW5zcGFyZW50U3JjfHxlLnJlbW92ZSgpfTtpZighUyhpKSYmKChyPW4pLmRhdGEmJiEwPT09ci5kYXRhLnBhc3RlKSlmb3IodmFyIGE9ZS5sZW5ndGg7YS0tOykocz1lW2FdLmF0dHIoXCJzcmNcIikpJiYoMD09PXMuaW5kZXhPZihcIndlYmtpdC1mYWtlLXVybFwiKT9vKGVbYV0pOmkuZ2V0UGFyYW0oXCJhbGxvd19odG1sX2RhdGFfdXJsc1wiLCExLFwiYm9vbGVhblwiKXx8MCE9PXMuaW5kZXhPZihcImRhdGE6XCIpfHxvKGVbYV0pKX0pfSx2ZT1mdW5jdGlvbihlKXtyZXR1cm4gUC5pZSYmZS5pbmxpbmU/eS5kb2N1bWVudC5ib2R5OmUuZ2V0Qm9keSgpfSxoZT1mdW5jdGlvbih0LGUsbil7dmFyIHI7dmUocj10KSE9PXIuZ2V0Qm9keSgpJiZ0LmRvbS5iaW5kKGUsXCJwYXN0ZSBrZXl1cFwiLGZ1bmN0aW9uKGUpe3hlKHQsbil8fHQuZmlyZShcInBhc3RlXCIpfSl9LHllPWZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbS5nZXQoXCJtY2VwYXN0ZWJpblwiKX0sYmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PWV9LHhlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj15ZShlKTtyZXR1cm4obj1yKSYmXCJtY2VwYXN0ZWJpblwiPT09bi5pZCYmYmUodCxyLmlubmVySFRNTCl9LFBlPWZ1bmN0aW9uKGUpe3ZhciB0PW0obnVsbCksbj1cIiVNQ0VQQVNURUJJTiVcIjtyZXR1cm57Y3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmRvbSxvPWUuZ2V0Qm9keSgpO3Quc2V0KGUuc2VsZWN0aW9uLmdldFJuZygpKTt2YXIgYT1lLmRvbS5hZGQodmUoZSksXCJkaXZcIix7aWQ6XCJtY2VwYXN0ZWJpblwiLFwiY2xhc3NcIjpcIm1jZS1wYXN0ZWJpblwiLGNvbnRlbnRFZGl0YWJsZTohMCxcImRhdGEtbWNlLWJvZ3VzXCI6XCJhbGxcIixzdHlsZTpcInBvc2l0aW9uOiBmaXhlZDsgdG9wOiA1MCU7IHdpZHRoOiAxMHB4OyBoZWlnaHQ6IDEwcHg7IG92ZXJmbG93OiBoaWRkZW47IG9wYWNpdHk6IDBcIn0sbik7KFAuaWV8fFAuZ2Vja28pJiZyLnNldFN0eWxlKGEsXCJsZWZ0XCIsXCJydGxcIj09PXIuZ2V0U3R5bGUobyxcImRpcmVjdGlvblwiLCEwKT82NTUzNTotNjU1MzUpLHIuYmluZChhLFwiYmVmb3JlZGVhY3RpdmF0ZSBmb2N1c2luIGZvY3Vzb3V0XCIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pLGhlKGUsYSxuKSxhLmZvY3VzKCksZS5zZWxlY3Rpb24uc2VsZWN0KGEsITApfShlLHQsbil9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKHllKGUpKXtmb3IodmFyIG49dm9pZCAwLHI9dC5nZXQoKTtuPWUuZG9tLmdldChcIm1jZXBhc3RlYmluXCIpOyllLmRvbS5yZW1vdmUobiksZS5kb20udW5iaW5kKG4pO3ImJmUuc2VsZWN0aW9uLnNldFJuZyhyKX10LnNldChudWxsKX0oZSx0KX0sZ2V0RWw6ZnVuY3Rpb24oKXtyZXR1cm4geWUoZSl9LGdldEh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtlLmFwcGVuZENoaWxkKHQpLG4uZG9tLnJlbW92ZSh0LCEwKX0sZT1JLmdyZXAodmUobikuY2hpbGROb2RlcyxmdW5jdGlvbihlKXtyZXR1cm5cIm1jZXBhc3RlYmluXCI9PT1lLmlkfSkscj1lLnNoaWZ0KCk7SS5lYWNoKGUsZnVuY3Rpb24oZSl7dChyLGUpfSk7Zm9yKHZhciBvPW4uZG9tLnNlbGVjdChcImRpdltpZD1tY2VwYXN0ZWJpbl1cIixyKSxhPW8ubGVuZ3RoLTE7MDw9YTthLS0pe3ZhciBpPW4uZG9tLmNyZWF0ZShcImRpdlwiKTtyLmluc2VydEJlZm9yZShpLG9bYV0pLHQoaSxvW2FdKX1yZXR1cm4gcj9yLmlubmVySFRNTDpcIlwifShlKX0sZ2V0TGFzdFJuZzpmdW5jdGlvbigpe3JldHVybiB0LmdldCgpfSxpc0RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4geGUoZSxuKX0saXNEZWZhdWx0Q29udGVudDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PW59fX0sd2U9ZnVuY3Rpb24oZSx0LG4pe2lmKHI9ZSwhMSE9PVAuaU9TfHxcImZ1bmN0aW9uXCIhPXR5cGVvZihudWxsPT1yP3ZvaWQgMDpyLnNldERhdGEpKXJldHVybiExO3RyeXtyZXR1cm4gZS5jbGVhckRhdGEoKSxlLnNldERhdGEoXCJ0ZXh0L2h0bWxcIix0KSxlLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsbiksZS5zZXREYXRhKE8sdCksITB9Y2F0Y2gobyl7cmV0dXJuITF9dmFyIHJ9LF9lPWZ1bmN0aW9uKGUsdCxuLHIpe3dlKGUuY2xpcGJvYXJkRGF0YSx0Lmh0bWwsdC50ZXh0KT8oZS5wcmV2ZW50RGVmYXVsdCgpLHIoKSk6bih0Lmh0bWwscil9LFRlPWZ1bmN0aW9uKHMpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPVIrZSxyPXMuZG9tLmNyZWF0ZShcImRpdlwiLHtjb250ZW50ZWRpdGFibGU6XCJmYWxzZVwiLFwiZGF0YS1tY2UtYm9ndXNcIjpcImFsbFwifSksbz1zLmRvbS5jcmVhdGUoXCJkaXZcIix7Y29udGVudGVkaXRhYmxlOlwidHJ1ZVwifSxuKTtzLmRvbS5zZXRTdHlsZXMocix7cG9zaXRpb246XCJmaXhlZFwiLHRvcDpcIjBcIixsZWZ0OlwiLTMwMDBweFwiLHdpZHRoOlwiMTAwMHB4XCIsb3ZlcmZsb3c6XCJoaWRkZW5cIn0pLHIuYXBwZW5kQ2hpbGQobykscy5kb20uYWRkKHMuZ2V0Qm9keSgpLHIpO3ZhciBhPXMuc2VsZWN0aW9uLmdldFJuZygpO28uZm9jdXMoKTt2YXIgaT1zLmRvbS5jcmVhdGVSbmcoKTtpLnNlbGVjdE5vZGVDb250ZW50cyhvKSxzLnNlbGVjdGlvbi5zZXRSbmcoaSksdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5zZWxlY3Rpb24uc2V0Um5nKGEpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSx0KCl9LDApfX0sQ2U9ZnVuY3Rpb24oZSl7cmV0dXJue2h0bWw6ZS5zZWxlY3Rpb24uZ2V0Q29udGVudCh7Y29udGV4dHVhbDohMH0pLHRleHQ6ZS5zZWxlY3Rpb24uZ2V0Q29udGVudCh7Zm9ybWF0OlwidGV4dFwifSl9fSxEZT1mdW5jdGlvbihlKXtyZXR1cm4hZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKXx8ISEodD1lKS5kb20uZ2V0UGFyZW50KHQuc2VsZWN0aW9uLmdldFN0YXJ0KCksXCJ0ZFtkYXRhLW1jZS1zZWxlY3RlZF0sdGhbZGF0YS1tY2Utc2VsZWN0ZWRdXCIsdC5nZXRCb2R5KCkpO3ZhciB0fSxrZT1mdW5jdGlvbihlKXt2YXIgdCxuO2Uub24oXCJjdXRcIiwodD1lLGZ1bmN0aW9uKGUpe0RlKHQpJiZfZShlLENlKHQpLFRlKHQpLGZ1bmN0aW9uKCl7aWYoUC5icm93c2VyLmlzQ2hyb21lKCkpe3ZhciBlPXQuc2VsZWN0aW9uLmdldFJuZygpO3cuc2V0RWRpdG9yVGltZW91dCh0LGZ1bmN0aW9uKCl7dC5zZWxlY3Rpb24uc2V0Um5nKGUpLHQuZXhlY0NvbW1hbmQoXCJEZWxldGVcIil9LDApfWVsc2UgdC5leGVjQ29tbWFuZChcIkRlbGV0ZVwiKX0pfSkpLGUub24oXCJjb3B5XCIsKG49ZSxmdW5jdGlvbihlKXtEZShuKSYmX2UoZSxDZShuKSxUZShuKSxmdW5jdGlvbigpe30pfSkpfSxTZT10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuZG9tLlJhbmdlVXRpbHNcIiksT2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gU2UuZ2V0Q2FyZXRSYW5nZUZyb21Qb2ludCh0LmNsaWVudFgsdC5jbGllbnRZLGUuZ2V0RG9jKCkpfSxSZT1mdW5jdGlvbihlLHQpe2UuZm9jdXMoKSxlLnNlbGVjdGlvbi5zZXRSbmcodCl9LEFlPWZ1bmN0aW9uKGkscyx1KXtpLmdldFBhcmFtKFwicGFzdGVfYmxvY2tfZHJvcFwiLCExKSYmaS5vbihcImRyYWdlbmQgZHJhZ292ZXIgZHJhZ2dlc3R1cmUgZHJhZ2Ryb3AgZHJvcCBkcmFnXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9KSxDKGkpfHxpLm9uKFwiZHJvcFwiLGZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YVRyYW5zZmVyO3QmJnQuZmlsZXMmJjA8dC5maWxlcy5sZW5ndGgmJmUucHJldmVudERlZmF1bHQoKX0pLGkub24oXCJkcm9wXCIsZnVuY3Rpb24oZSl7dmFyIHQ9T2UoaSxlKTtpZighZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmIXUuZ2V0KCkpe3ZhciBuLHI9cy5nZXREYXRhVHJhbnNmZXJJdGVtcyhlLmRhdGFUcmFuc2Zlciksbz1zLmhhc0NvbnRlbnRUeXBlKHIsTyk7aWYocy5oYXNIdG1sT3JUZXh0KHIpJiYoIShuPXJbXCJ0ZXh0L3BsYWluXCJdKXx8MCE9PW4uaW5kZXhPZihcImZpbGU6Ly9cIikpfHwhcy5wYXN0ZUltYWdlRGF0YShlLHQpKWlmKHQmJmkuZ2V0UGFyYW0oXCJwYXN0ZV9maWx0ZXJfZHJvcFwiLCEwKSl7dmFyIGE9cltcIm1jZS1pbnRlcm5hbFwiXXx8cltcInRleHQvaHRtbFwiXXx8cltcInRleHQvcGxhaW5cIl07YSYmKGUucHJldmVudERlZmF1bHQoKSx3LnNldEVkaXRvclRpbWVvdXQoaSxmdW5jdGlvbigpe2kudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXtyW1wibWNlLWludGVybmFsXCJdJiZpLmV4ZWNDb21tYW5kKFwiRGVsZXRlXCIpLFJlKGksdCksYT16KGEpLHJbXCJ0ZXh0L2h0bWxcIl0/cy5wYXN0ZUh0bWwoYSxvKTpzLnBhc3RlVGV4dChhKX0pfSkpfX19KSxpLm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oZSl7dS5zZXQoITApfSksaS5vbihcImRyYWdvdmVyIGRyYWdlbmRcIixmdW5jdGlvbihlKXtDKGkpJiYhMT09PXUuZ2V0KCkmJihlLnByZXZlbnREZWZhdWx0KCksUmUoaSxPZShpLGUpKSksXCJkcmFnZW5kXCI9PT1lLnR5cGUmJnUuc2V0KCExKX0pfTtmdW5jdGlvbiBJZSh0LG4pe3Qub24oXCJQYXN0ZVByZVByb2Nlc3NcIixmdW5jdGlvbihlKXtlLmNvbnRlbnQ9bih0LGUuY29udGVudCxlLmludGVybmFsLGUud29yZENvbnRlbnQpfSl9ZnVuY3Rpb24gRmUoZSx0KXtpZighVSh0KSlyZXR1cm4gdDt2YXIgbj1bXTtyZXR1cm4gSS5lYWNoKGUuc2NoZW1hLmdldEJsb2NrRWxlbWVudHMoKSxmdW5jdGlvbihlLHQpe24ucHVzaCh0KX0pLHQ9SCh0LFtbbmV3IFJlZ0V4cChcIig/Ojxicj4mbmJzcDtbXFxcXHNcXFxcclxcXFxuXSt8PGJyPikqKDxcXFxcLz8oXCIrbi5qb2luKFwifFwiKStcIilbXj5dKj4pKD86PGJyPiZuYnNwO1tcXFxcc1xcXFxyXFxcXG5dK3w8YnI+KSpcIixcImdcIiksXCIkMVwiXV0pLHQ9SCh0LFtbLzxicj48YnI+L2csXCI8QlI+PEJSPlwiXSxbLzxicj4vZyxcIiBcIl0sWy88QlI+PEJSPi9nLFwiPGJyPlwiXV0pfWZ1bmN0aW9uIEVlKGUsdCxuLHIpe2lmKHJ8fG4pcmV0dXJuIHQ7dmFyIGwsbz1lLmdldFBhcmFtKFwicGFzdGVfd2Via2l0X3N0eWxlc1wiKTtpZighMT09PWUuZ2V0UGFyYW0oXCJwYXN0ZV9yZW1vdmVfc3R5bGVzX2lmX3dlYmtpdFwiLCEwKXx8XCJhbGxcIj09PW8pcmV0dXJuIHQ7aWYobyYmKGw9by5zcGxpdCgvWywgXS8pKSxsKXt2YXIgYz1lLmRvbSxmPWUuc2VsZWN0aW9uLmdldE5vZGUoKTt0PXQucmVwbGFjZSgvKDxbXj5dKykgc3R5bGU9XCIoW15cIl0qKVwiKFtePl0qPikvZ2ksZnVuY3Rpb24oZSx0LG4scil7dmFyIG89Yy5wYXJzZVN0eWxlKGMuZGVjb2RlKG4pKSxhPXt9O2lmKFwibm9uZVwiPT09bClyZXR1cm4gdCtyO2Zvcih2YXIgaT0wO2k8bC5sZW5ndGg7aSsrKXt2YXIgcz1vW2xbaV1dLHU9Yy5nZXRTdHlsZShmLGxbaV0sITApOy9jb2xvci8udGVzdChsW2ldKSYmKHM9Yy50b0hleChzKSx1PWMudG9IZXgodSkpLHUhPT1zJiYoYVtsW2ldXT1zKX1yZXR1cm4oYT1jLnNlcmlhbGl6ZVN0eWxlKGEsXCJzcGFuXCIpKT90Kycgc3R5bGU9XCInK2ErJ1wiJytyOnQrcn0pfWVsc2UgdD10LnJlcGxhY2UoLyg8W14+XSspIHN0eWxlPVwiKFteXCJdKilcIihbXj5dKj4pL2dpLFwiJDEkM1wiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyg8W14+XSspIGRhdGEtbWNlLXN0eWxlPVwiKFteXCJdKylcIihbXj5dKj4pL2dpLGZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0Kycgc3R5bGU9XCInK24rJ1wiJytyfSl9ZnVuY3Rpb24gTWUobixlKXtuLiQoXCJhXCIsZSkuZmluZChcImZvbnQsdVwiKS5lYWNoKGZ1bmN0aW9uKGUsdCl7bi5kb20ucmVtb3ZlKHQsITApfSl9dmFyIE5lPWZ1bmN0aW9uKGUpe1Aud2Via2l0JiZJZShlLEVlKSxQLmllJiYoSWUoZSxGZSksZnVuY3Rpb24gcih0LG4pe3Qub24oXCJQYXN0ZVBvc3RQcm9jZXNzXCIsZnVuY3Rpb24oZSl7bih0LGUubm9kZSl9KX0oZSxNZSkpfSxCZT1mdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbih0KXt0LnNldEFjdGl2ZShcInRleHRcIj09PXIucGFzdGVGb3JtYXQuZ2V0KCkpO3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiB0LnNldEFjdGl2ZShlLnN0YXRlKX07cmV0dXJuIG4ub24oXCJQYXN0ZVBsYWluVGV4dFRvZ2dsZVwiLGUpLGZ1bmN0aW9uKCl7cmV0dXJuIG4ub2ZmKFwiUGFzdGVQbGFpblRleHRUb2dnbGVcIixlKX19fTshZnVuY3Rpb24gamUoKXtjLmFkZChcInBhc3RlXCIsZnVuY3Rpb24oZSl7aWYoITE9PSEoIS8oXnxbICxdKXBvd2VycGFzdGUoWywgXXwkKS8udGVzdChlLmdldFBhcmFtKFwicGx1Z2luc1wiKSl8fCFjLmdldChcInBvd2VycGFzdGVcIil8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgeS53aW5kb3cuY29uc29sZSYmeS53aW5kb3cuY29uc29sZS5sb2cmJnkud2luZG93LmNvbnNvbGUubG9nKFwiUG93ZXJQYXN0ZSBpcyBpbmNvbXBhdGlibGUgd2l0aCBQYXN0ZSBwbHVnaW4hIFJlbW92ZSAncGFzdGUnIGZyb20gdGhlICdwbHVnaW5zJyBvcHRpb24uXCIpLDApKSl7dmFyIHQ9bSghMSksbj1tKGUuZ2V0UGFyYW0oXCJwYXN0ZV9hc190ZXh0XCIsITEpP1widGV4dFwiOlwiaHRtbFwiKSxyPSh1PW4sbD1QZShzPWUpLHMub24oXCJQcmVJbml0XCIsZnVuY3Rpb24oKXtyZXR1cm4gZ2UocyxsLHUpfSkse3Bhc3RlRm9ybWF0OnUscGFzdGVIdG1sOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFlKHMsZSx0KX0scGFzdGVUZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBpZShzLGUpfSxwYXN0ZUltYWdlRGF0YTpmdW5jdGlvbihlLHQpe3JldHVybiBkZShzLGUsdCl9LGdldERhdGFUcmFuc2Zlckl0ZW1zOnNlLGhhc0h0bWxPclRleHQ6bGUsaGFzQ29udGVudFR5cGU6dWV9KSxvPU5lKGUpO3JldHVybiBpPXIsKGE9ZSkudWkucmVnaXN0cnkuYWRkVG9nZ2xlQnV0dG9uKFwicGFzdGV0ZXh0XCIse2FjdGl2ZTohMSxpY29uOlwicGFzdGUtdGV4dFwiLHRvb2x0aXA6XCJQYXN0ZSBhcyB0ZXh0XCIsb25BY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gYS5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVBsYWluVGV4dFBhc3RlXCIpfSxvblNldHVwOkJlKGEsaSl9KSxhLnVpLnJlZ2lzdHJ5LmFkZFRvZ2dsZU1lbnVJdGVtKFwicGFzdGV0ZXh0XCIse3RleHQ6XCJQYXN0ZSBhcyB0ZXh0XCIsaWNvbjpcInBhc3RlLXRleHRcIixvbkFjdGlvbjpmdW5jdGlvbigpe3JldHVybiBhLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlUGxhaW5UZXh0UGFzdGVcIil9LG9uU2V0dXA6QmUoYSxpKX0pLGYoZSxyKSxmdW5jdGlvbihlKXt2YXIgdD1lLnBsdWdpbnMucGFzdGUsbj1lLmdldFBhcmFtKFwicGFzdGVfcHJlcHJvY2Vzc1wiKTtuJiZlLm9uKFwiUGFzdGVQcmVQcm9jZXNzXCIsZnVuY3Rpb24oZSl7bi5jYWxsKHQsdCxlKX0pO3ZhciByPWUuZ2V0UGFyYW0oXCJwYXN0ZV9wb3N0cHJvY2Vzc1wiKTtyJiZlLm9uKFwiUGFzdGVQb3N0UHJvY2Vzc1wiLGZ1bmN0aW9uKGUpe3IuY2FsbCh0LHQsZSl9KX0oZSksa2UoZSksQWUoZSxyLHQpLHtjbGlwYm9hcmQ6cixxdWlya3M6b319dmFyIGEsaSxzLHUsbH0pfSgpfSh3aW5kb3cpOyJdLCJzb3VyY2VSb290IjoiIn0=