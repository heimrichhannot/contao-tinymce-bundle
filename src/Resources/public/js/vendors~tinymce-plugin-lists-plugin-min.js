(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~tinymce-plugin-lists-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/lists/plugin.min.js":
/*!**********************************************************!*\
  !*** ./node_modules/tinymce/plugins/lists/plugin.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(u){"use strict";var e,n,t,r,o,i,a,c=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(){},y=function(e){return function(){return e}},f=function(n){return function(e){return!n(e)}},d=y(!1),l=y(!0),m=function(){return p},p=(e=function(e){return e.isNone()},{fold:function(e,n){return e()},is:d,isSome:d,isNone:l,getOr:t=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(undefined),or:t,orThunk:n,map:m,each:s,bind:m,exists:d,forall:l,filter:m,equals:e,equals_:e,toArray:function(){return[]},toString:y("none()")}),g=function(t){var e=y(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:d,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return g(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:p},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(d,function(e){return n(t,e)})}};return o},v={some:g,none:m,from:function(e){return null===e||e===undefined?p:g(e)}},h=function(r){return function(e){return t=typeof(n=e),(null===n?"null":"object"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":t)===r;var n,t}},S=function(n){return function(e){return typeof e===n}},b=h("string"),C=h("array"),N=S("boolean"),O=S("function"),L=S("number"),w=Array.prototype.slice,T=Array.prototype.push,D=function(e,n){for(var t=e.length,r=new Array(t),o=0;o<t;o++){var i=e[o];r[o]=n(i,o)}return r},k=function(e,n){for(var t=0,r=e.length;t<r;t++){n(e[t],t)}},x=function(e,n){for(var t=[],r=0,o=e.length;r<o;r++){var i=e[r];n(i,r)&&t.push(i)}return t},A=function(e,n,t){return k(e,function(e){t=n(t,e)}),t},E=function(e,n,t){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(n(i,r))return v.some(i);if(t(i,r))break}return v.none()},P=function(e,n){return E(e,n,d)},B=function(e,n){return function(e){for(var n=[],t=0,r=e.length;t<r;++t){if(!C(e[t]))throw new Error("Arr.flatten item "+t+" was not an array, input: "+e);T.apply(n,e[t])}return n}(D(e,n))},R=function(e){var n=w.call(e,0);return n.reverse(),n},I=function(e){return 0===e.length?v.none():v.some(e[0])},M=function(e){return 0===e.length?v.none():v.some(e[e.length-1])},U=function(){return(U=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},_=function(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.test(n))return r}return undefined}(e,n);if(!t)return{major:0,minor:0};var r=function(e){return Number(n.replace(t,"$"+e))};return $(r(1),r(2))},F=function(){return $(0,0)},$=function(e,n){return{major:e,minor:n}},H={nu:$,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?F():_(e,t)},unknown:F},j="Edge",q="Chrome",K="Opera",V="Firefox",W="Safari",Q=function(e){var n=e.current,t=e.version,r=function(e){return function(){return n===e}};return{current:n,version:t,isEdge:r(j),isChrome:r(q),isIE:r("IE"),isOpera:r(K),isFirefox:r(V),isSafari:r(W)}},X={unknown:function(){return Q({current:undefined,version:H.unknown()})},nu:Q,edge:y(j),chrome:y(q),ie:y("IE"),opera:y(K),firefox:y(V),safari:y(W)},z="Windows",Y="Android",G="Solaris",J="FreeBSD",Z="ChromeOS",ee=function(e){var n=e.current,t=e.version,r=function(e){return function(){return n===e}};return{current:n,version:t,isWindows:r(z),isiOS:r("iOS"),isAndroid:r(Y),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r(G),isFreeBSD:r(J),isChromeOS:r(Z)}},ne={unknown:function(){return ee({current:undefined,version:H.unknown()})},nu:ee,windows:y(z),ios:y("iOS"),android:y(Y),linux:y("Linux"),osx:y("OSX"),solaris:y(G),freebsd:y(J),chromeos:y(Z)},te=function(e,n){var t=String(n).toLowerCase();return P(e,function(e){return e.search(t)})},re=function(e,t){return te(e,t).map(function(e){var n=H.detect(e.versionRegexes,t);return{current:e.name,version:n}})},oe=function(e,t){return te(e,t).map(function(e){var n=H.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ie=function(e,n){return-1!==e.indexOf(n)},ae=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ue=function(n){return function(e){return ie(e,n)}},se=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ie(e,"edge/")&&ie(e,"chrome")&&ie(e,"safari")&&ie(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ae],search:function(e){return ie(e,"chrome")&&!ie(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ie(e,"msie")||ie(e,"trident")}},{name:"Opera",versionRegexes:[ae,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ue("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ue("firefox")},{name:"Safari",versionRegexes:[ae,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ie(e,"safari")||ie(e,"mobile/"))&&ie(e,"applewebkit")}}],ce=[{name:"Windows",search:ue("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ie(e,"iphone")||ie(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ue("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ue("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ue("linux"),versionRegexes:[]},{name:"Solaris",search:ue("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ue("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ue("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],fe={browsers:y(se),oses:y(ce)},de=function(e,n){var t,r,o,i,a,u,s,c,f,d,l,m,p=fe.browsers(),g=fe.oses(),v=re(p,e).fold(X.unknown,X.nu),h=oe(g,e).fold(ne.unknown,ne.nu);return{browser:v,os:h,deviceType:(r=v,o=e,i=n,a=(t=h).isiOS()&&!0===/ipad/i.test(o),u=t.isiOS()&&!a,s=t.isiOS()||t.isAndroid(),c=s||i("(pointer:coarse)"),f=a||!u&&s&&i("(min-device-width:768px)"),d=u||s&&!f,l=r.isSafari()&&t.isiOS()&&!1===/safari/i.test(o),m=!d&&!f&&!l,{isiPad:y(a),isiPhone:y(u),isTablet:y(f),isPhone:y(d),isTouch:y(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:y(l),isDesktop:y(m)})}},le=function(e){return u.window.matchMedia(e).matches},me=(i=!(r=function(){return de(u.navigator.userAgent,le)}),function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return i||(i=!0,o=r.apply(null,e)),o}),pe=function(e){if(null===e||e===undefined)throw new Error("Node cannot be null or undefined");return{dom:y(e)}},ge={fromHtml:function(e,n){var t=(n||u.document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw u.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return pe(t.childNodes[0])},fromTag:function(e,n){var t=(n||u.document).createElement(e);return pe(t)},fromText:function(e,n){var t=(n||u.document).createTextNode(e);return pe(t)},fromDom:pe,fromPoint:function(e,n,t){var r=e.dom();return v.from(r.elementFromPoint(n,t)).map(pe)}},ve=function(e,n){return e.dom()===n.dom()},he=function(e,n){return t=e.dom(),r=n.dom(),o=t,i=r,a=u.Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(o.compareDocumentPosition(i)&a);var t,r,o,i,a},ye=function(e,n){return me().browser.isIE()?he(e,n):(t=n,r=e.dom(),o=t.dom(),r!==o&&r.contains(o));var t,r,o},Se=function(e,n){var t=e.dom();if(1!==t.nodeType)return!1;var r=t;if(r.matches!==undefined)return r.matches(n);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},be=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ce=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ne=tinymce.util.Tools.resolve("tinymce.util.VK"),Oe=function(e,n,t){return e.isSome()&&n.isSome()?v.some(t(e.getOrDie(),n.getOrDie())):v.none()},Le=("undefined"!=typeof u.window?u.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),we=(a=1,function(e){return e.dom().nodeType===a}),Te=function(e){return v.from(e.dom().parentNode).map(ge.fromDom)},De=function(e){return D(e.dom().childNodes,ge.fromDom)},ke=function(e,n){var t=e.dom().childNodes;return v.from(t[n]).map(ge.fromDom)},xe=function(e){return ke(e,0)},Ae=function(e){return ke(e,e.dom().childNodes.length-1)},Ee=function(n,t){Te(n).each(function(e){e.dom().insertBefore(t.dom(),n.dom())})},Pe=function(e,n){e.dom().appendChild(n.dom())},Be=function(n,e){k(e,function(e){Pe(n,e)})},Re=function(e){var n=e.dom();null!==n.parentNode&&n.parentNode.removeChild(n)},Ie=function(e,n,t){return e.fire("ListMutation",{action:n,element:t})},Me=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ue=tinymce.util.Tools.resolve("tinymce.util.Tools"),_e=function(n){return function(e){return e&&e.nodeName.toLowerCase()===n}},Fe=function(n){return function(e){return e&&n.test(e.nodeName)}},$e=function(e){return e&&3===e.nodeType},He=Fe(/^(OL|UL|DL)$/),je=Fe(/^(OL|UL)$/),qe=_e("ol"),Ke=Fe(/^(LI|DT|DD)$/),Ve=Fe(/^(DT|DD)$/),We=Fe(/^(TH|TD)$/),Qe=_e("br"),Xe=function(e,n){return n&&!!e.schema.getTextBlockElements()[n.nodeName]},ze=function(e,n){return e&&e.nodeName in n},Ye=function(e,n,t){var r=e.isEmpty(n);return!(t&&0<e.select("span[data-mce-type=bookmark]",n).length)&&r},Ge=function(e,n){return e.isChildOf(n,e.getRoot())},Je=function(e,n){var t=n||e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",nn(e,t))},Ze=function(e){var n,t,r,o=Je(e),i=e.selection.getSelectedBlocks();return r=i,(t=o)&&1===r.length&&r[0]===t?(n=o,Ue.grep(n.querySelectorAll("ol,ul,dl"),function(e){return He(e)})):Ue.grep(i,function(e){return He(e)&&o!==e})},en=function(e){var t,n,r,o=e.selection.getSelectedBlocks();return Ue.grep((t=e,n=o,r=Ue.map(n,function(e){var n=t.dom.getParent(e,"li,dd,dt",nn(t,e));return n||e}),Me.unique(r)),function(e){return Ke(e)})},nn=function(e,n){var t=e.dom.getParents(n,"TD,TH");return 0<t.length?t[0]:e.getBody()},tn=function(e,n){var t=e.dom.getParents(n,"ol,ul",nn(e,n));return M(t)},rn=function(e){var n,t,r,o=(t=tn(n=e,n.selection.getStart()),r=x(n.selection.getSelectedBlocks(),je),t.toArray().concat(r));return on(e,o)},on=function(n,e){var t=D(e,function(e){return tn(n,e).getOr(e)});return Me.unique(t)},an=function(e,n){var t,r,o,i,a=e.dom,u=e.schema.getBlockElements(),s=a.createFragment(),c=!1===(t=e.getParam("forced_root_block","p"))?"":!0===t?"p":t;if(c&&((o=a.create(c)).tagName===c.toUpperCase()&&a.setAttribs(o,e.getParam("forced_root_block_attrs",{})),ze(n.firstChild,u)||s.appendChild(o)),n)for(;r=n.firstChild;){var f=r.nodeName;i||"SPAN"===f&&"bookmark"===r.getAttribute("data-mce-type")||(i=!0),ze(r,u)?(s.appendChild(r),o=null):c?(o||(o=a.create(c),s.appendChild(o)),o.appendChild(r)):s.appendChild(r)}return c?i||o.appendChild(a.create("br",{"data-mce-bogus":"1"})):s.appendChild(a.create("br")),s},un=Object.keys,sn=function(e,n){for(var t=un(e),r=0,o=t.length;r<o;r++){var i=t[r];n(e[i],i)}},cn=function(e,n){var t,r,o,i,a={};return t=n,i=a,r=function(e,n){i[n]=e},o=s,sn(e,function(e,n){(t(e,n)?r:o)(e,n)}),a},fn=function(e,n){var t=e.dom();sn(n,function(e,n){!function(e,n,t){if(!(b(t)||N(t)||L(t)))throw u.console.error("Invalid call to Attr.set. Key ",n,":: Value ",t,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,t+"")}(t,n,e)})},dn=function(e){return A(e.dom().attributes,function(e,n){return e[n.name]=n.value,e},{})},ln=(O(u.Element.prototype.attachShadow)&&O(u.Node.prototype.getRootNode),function(e,n,t){if(!b(t))throw u.console.error("Invalid call to CSS.set. Property ",n,":: Value ",t,":: Element ",e),new Error("CSS value must be a string: "+t);var r;(r=e).style!==undefined&&O(r.style.getPropertyValue)&&e.style.setProperty(n,t)}),mn=function(e){return n=e,t=!0,ge.fromDom(n.dom().cloneNode(t));var n,t},pn=function(e,n){var t,r,o,i,a=(t=e,r=n,o=ge.fromTag(r),i=dn(t),fn(o,i),o);Ee(e,a);var u=De(e);return Be(a,u),Re(e),a},gn=function(e,n){Pe(e.item,n.list)},vn=function(f,e,d){var n=e.slice(0,d.depth);return M(n).each(function(e){var n,t,r,o,i,a,u,s,c=(n=f,t=d.itemAttributes,r=d.content,o=ge.fromTag("li",n),fn(o,t),Be(o,r),o);a=c,Pe((i=e).list,a),i.item=a,s=d,Le((u=e).list)!==s.listType&&(u.list=pn(u.list,s.listType)),fn(u.list,s.listAttributes)}),n},hn=function(e,n,t){var r,o=function(e,n,t){for(var r,o,i,a=[],u=0;u<t;u++)a.push((r=e,o=n.listType,i={list:ge.fromTag(o,r),item:ge.fromTag("li",r)},Pe(i.list,i.item),i));return a}(e,t,t.depth-n.length);return function(e){for(var n=1;n<e.length;n++)gn(e[n-1],e[n])}(o),function(e,n){for(var t=0;t<e.length-1;t++)r=e[t].item,o="list-style-type",i="none",a=r.dom(),ln(a,o,i);var r,o,i,a;M(e).each(function(e){fn(e.list,n.listAttributes),fn(e.item,n.itemAttributes),Be(e.item,n.content)})}(o,t),r=o,Oe(M(n),I(r),gn),n.concat(o)},yn=function(e){return Se(e,"OL,UL")},Sn=function(e){return xe(e).map(yn).getOr(!1)},bn=function(e){return 0<e.depth},Cn=function(e){return e.isSelected},Nn=function(e){var n=De(e),t=Ae(e).map(yn).getOr(!1)?n.slice(0,-1):n;return D(t,mn)},On=function(u){return k(u,function(r,e){var n,t,o,i,a;o=(n=u)[t=e].depth,i=function(e){return e.depth===o&&!e.dirty},a=function(e){return e.depth<o},E(R(n.slice(0,t)),i,a).orThunk(function(){return E(n.slice(t+1),i,a)}).fold(function(){var e;r.dirty&&((e=r).listAttributes=cn(e.listAttributes,function(e,n){return"start"!==n}))},function(e){return t=e,(n=r).listType=t.listType,void(n.listAttributes=U({},t.listAttributes));var n,t})}),u},Ln=function(i,a,u,s){return xe(s).filter(yn).fold(function(){a.each(function(e){ve(e.start,s)&&u.set(!0)});var n,t,r,e=(n=s,t=i,r=u.get(),Te(n).filter(we).map(function(e){return{depth:t,dirty:!1,isSelected:r,content:Nn(n),itemAttributes:dn(n),listAttributes:dn(e),listType:Le(e)}}));a.each(function(e){ve(e.end,s)&&u.set(!1)});var o=Ae(s).filter(yn).map(function(e){return wn(i,a,u,e)}).getOr([]);return e.toArray().concat(o)},function(e){return wn(i,a,u,e)})},wn=function(n,t,r,e){return B(De(e),function(e){return(yn(e)?wn:Ln)(n+1,t,r,e)})},Tn=function(e,n){var t,r=(t=!1,{get:function(){return t},set:function(e){t=e}});return D(e,function(e){return{sourceList:e,entries:wn(0,n,r,e)}})},Dn=function(i,e){var n=On(e);return D(n,function(e){var n,t,r,o=(n=e.content,r=(t||u.document).createDocumentFragment(),k(n,function(e){r.appendChild(e.dom())}),ge.fromDom(r));return ge.fromDom(an(i,o.dom()))})},kn=function(e,n){var t,r,o=On(n);return t=e.contentDocument,r=A(o,function(e,n){return(n.depth>e.length?hn:vn)(t,e,n)},[]),I(r).map(function(e){return e.list}).toArray()},xn=function(u,e,s){var n,t=Tn(e,(n=D(en(u),ge.fromDom),Oe(P(n,f(Sn)),P(R(n),f(Sn)),function(e,n){return{start:e,end:n}})));k(t,function(e){var n,t;n=e.entries,t=s,k(x(n,Cn),function(e){return function(e,n){switch(e){case"Indent":n.depth++;break;case"Outdent":n.depth--;break;case"Flatten":n.depth=0}n.dirty=!0}(t,e)});var r,o,i,a=(r=u,o=e.entries,B(function(e,n){if(0===e.length)return[];for(var t=n(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],s=n(u);s!==t&&(r.push(o),o=[]),t=s,o.push(u)}return 0!==o.length&&r.push(o),r}(o,bn),function(e){return(I(e).map(bn).getOr(!1)?kn:Dn)(r,e)}));k(a,function(e){Ie(u,"Indent"===s?"IndentList":"OutdentList",e.dom())}),i=e.sourceList,k(a,function(e){Ee(i,e)}),Re(e.sourceList)})},An=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),En=An.DOM,Pn=function(n,t){Se(t,"dd")?pn(t,"dt"):Se(t,"dt")&&Te(t).each(function(e){return function(e,n,t){var r=En.select('span[data-mce-type="bookmark"]',n),o=an(e,t),i=En.createRng();i.setStartAfter(t),i.setEndAfter(n);for(var a,u=i.extractContents(),s=u.firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&e.dom.isEmpty(s)){En.remove(s);break}e.dom.isEmpty(u)||En.insertAfter(u,n),En.insertAfter(o,n),Ye(e.dom,t.parentNode)&&(a=t.parentNode,Ue.each(r,function(e){a.parentNode.insertBefore(e,t.parentNode)}),En.remove(a)),En.remove(t),Ye(e.dom,n)&&En.remove(n)}(n,e.dom(),t.dom())})},Bn=function(e){Se(e,"dt")&&pn(e,"dd")},Rn=function(e,n){if($e(e))return{container:e,offset:n};var t=be.getNode(e,n);return $e(t)?{container:t,offset:n>=e.childNodes.length?t.data.length:0}:t.previousSibling&&$e(t.previousSibling)?{container:t.previousSibling,offset:t.previousSibling.data.length}:t.nextSibling&&$e(t.nextSibling)?{container:t.nextSibling,offset:0}:{container:e,offset:n}},In=function(e){var n=e.cloneRange(),t=Rn(e.startContainer,e.startOffset);n.setStart(t.container,t.offset);var r=Rn(e.endContainer,e.endOffset);return n.setEnd(r.container,r.offset),n},Mn=function(e,n){var t,r=D(rn(e),ge.fromDom),o=D(x(en(e),Ve),ge.fromDom),i=!1;if(r.length||o.length){var a=e.selection.getBookmark();xn(e,r,n),t=e,k(o,"Indent"===n?Bn:function(e){return Pn(t,e)}),e.selection.moveToBookmark(a),e.selection.setRng(In(e.selection.getRng())),e.nodeChanged(),i=!0}return i},Un=function(e){return Mn(e,"Indent")},_n=function(e){return Mn(e,"Outdent")},Fn=function(e){return Mn(e,"Flatten")},$n=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Hn=An.DOM,jn=function(o){var i={},e=function(e){var n,t,r;t=o[e?"startContainer":"endContainer"],r=o[e?"startOffset":"endOffset"],1===t.nodeType&&(n=Hn.create("span",{"data-mce-type":"bookmark"}),t.hasChildNodes()?(r=Math.min(r,t.childNodes.length-1),e?t.insertBefore(n,t.childNodes[r]):Hn.insertAfter(n,t.childNodes[r])):t.appendChild(n),t=n,r=0),i[e?"startContainer":"endContainer"]=t,i[e?"startOffset":"endOffset"]=r};return e(!0),o.collapsed||e(),i},qn=function(o){function e(e){var n,t,r;n=r=o[e?"startContainer":"endContainer"],t=o[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(t=function(e){for(var n=e.parentNode.firstChild,t=0;n;){if(n===e)return t;1===n.nodeType&&"bookmark"===n.getAttribute("data-mce-type")||t++,n=n.nextSibling}return-1}(n),n=n.parentNode,Hn.remove(r),!n.hasChildNodes()&&Hn.isBlock(n)&&n.appendChild(Hn.create("br"))),o[e?"startContainer":"endContainer"]=n,o[e?"startOffset":"endOffset"]=t)}e(!0),e();var n=Hn.createRng();return n.setStart(o.startContainer,o.startOffset),o.endContainer&&n.setEnd(o.endContainer,o.endOffset),In(n)},Kn=function(e){switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Vn=function(e){return/\btox\-/.test(e.className)},Wn=function(e,t,r){var n=function(e){var n=E(e.parents,He,We).filter(function(e){return e.nodeName===t&&!Vn(e)}).isSome();r(n)},o=e.dom.getParents(e.selection.getNode());return n({parents:o}),e.on("NodeChange",n),function(){return e.off("NodeChange",n)}},Qn=function(t,e){Ue.each(e,function(e,n){t.setAttribute(n,e)})},Xn=function(e,n,t){var r,o,i,a,u,s,c;r=e,o=n,a=(i=t)["list-style-type"]?i["list-style-type"]:null,r.setStyle(o,"list-style-type",a),u=e,Qn(s=n,(c=t)["list-attributes"]),Ue.each(u.select("li",s),function(e){Qn(e,c["list-item-attributes"])})},zn=function(e,n,t,r){var o=n[t?"startContainer":"endContainer"],i=n[t?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!t&&Qe(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Xe(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Yn=function(f,d,l){void 0===l&&(l={});var e=f.selection.getRng(),m="LI",n=nn(f,f.selection.getStart(!0)),p=f.dom;if("false"!==p.getContentEditable(f.selection.getNode())){"DL"===(d=d.toUpperCase())&&(m="DT");var t=jn(e);Ue.each(function(t,e,r){for(var o,i=[],a=t.dom,n=zn(t,e,!0,r),u=zn(t,e,!1,r),s=[],c=n;c&&(s.push(c),c!==u);c=c.nextSibling);return Ue.each(s,function(e){if(Xe(t,e))return i.push(e),void(o=null);if(a.isBlock(e)||Qe(e))return Qe(e)&&a.remove(e),void(o=null);var n=e.nextSibling;$n.isBookmarkNode(e)&&(Xe(t,n)||!n&&e.parentNode===r)?o=null:(o||(o=a.create("p"),e.parentNode.insertBefore(o,e),i.push(o)),o.appendChild(e))}),i}(f,e,n),function(e){var n,t,r,o,i,a,u,s,c=e.previousSibling;c&&He(c)&&c.nodeName===d&&(t=c,r=l,o=p.getStyle(t,"list-style-type"),i=r?r["list-style-type"]:"",o===(i=null===i?"":i))?(n=c,e=p.rename(e,m),c.appendChild(e)):(n=p.create(d),e.parentNode.insertBefore(n,e),n.appendChild(e),e=p.rename(e,m)),a=p,u=e,s=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],Ue.each(s,function(e){var n;return a.setStyle(u,((n={})[e]="",n))}),Xn(p,n,l),Jn(f.dom,n)}),f.selection.setRng(qn(t))}},Gn=function(e,n,t){return s=t,(u=n)&&s&&He(u)&&u.nodeName===s.nodeName&&(i=n,a=t,(o=e).getStyle(i,"list-style-type",!0)===o.getStyle(a,"list-style-type",!0))&&(r=t,n.className===r.className);var r,o,i,a,u,s},Jn=function(e,n){var t,r;if(t=n.nextSibling,Gn(e,n,t)){for(;r=t.firstChild;)n.appendChild(r);e.remove(t)}if(t=n.previousSibling,Gn(e,n,t)){for(;r=t.lastChild;)n.insertBefore(r,n.firstChild);e.remove(t)}},Zn=function(n,e,t,r,o){if(e.nodeName!==r||et(o)){var i=jn(n.selection.getRng(!0));Ue.each([e].concat(t),function(e){!function(e,n,t,r){if(n.nodeName!==t){var o=e.dom.rename(n,t);Xn(e.dom,o,r),Ie(e,Kn(t),o)}else Xn(e.dom,n,r),Ie(e,Kn(t),n)}(n,e,r,o)}),n.selection.setRng(qn(i))}else Fn(n)},et=function(e){return"list-style-type"in e},nt=function(e,n,t){var r=Je(e),o=Ze(e);t=t||{},r&&0<o.length?Zn(e,r,o,n,t):function(e,n,t,r){if(n!==e.getBody())if(n)if(n.nodeName!==t||et(r)||Vn(n)){var o=jn(e.selection.getRng(!0));Xn(e.dom,n,r);var i=e.dom.rename(n,t);Jn(e.dom,i),e.selection.setRng(qn(o)),Ie(e,Kn(t),i)}else Fn(e);else Yn(e,t,r),Ie(e,Kn(t),n)}(e,r,n,t)},tt=An.DOM,rt=function(i,e){Ue.each(Ue.grep(i.select("ol,ul",e)),function(e){var n,t,r,o;n=i,"LI"===(o=(t=e).parentNode).nodeName&&o.firstChild===t&&((r=o.previousSibling)&&"LI"===r.nodeName?(r.appendChild(t),Ye(n,o)&&tt.remove(o)):tt.setStyle(o,"listStyleType","none")),He(o)&&(r=o.previousSibling)&&"LI"===r.nodeName&&r.appendChild(t)})},ot=function(e,n,t,r){var o=n.startContainer,i=n.startOffset;if($e(o)&&(t?i<o.data.length:0<i))return o;var a=e.schema.getNonEmptyElements();1===o.nodeType&&(o=be.getNode(o,i));var u,s,c=new Ce(o,r);for(t&&(u=e.dom,Qe(s=o)&&u.isBlock(s.nextSibling)&&!Qe(s.previousSibling)&&c.next());o=c[t?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if($e(o)&&0<o.data.length)return o}},it=function(e,n){var t=n.childNodes;return 1===t.length&&!He(t[0])&&e.isBlock(t[0])},at=function(e,n,t){var r,o,i,a=it(e,t)?t.firstChild:t;if(it(o=e,i=n)&&o.remove(i.firstChild,!0),!Ye(e,n,!0))for(;r=n.firstChild;)a.appendChild(r)},ut=function(n,e,t){var r,o=e.parentNode;if(Ge(n,e)&&Ge(n,t)){He(t.lastChild)&&(r=t.lastChild),o===t.lastChild&&Qe(o.previousSibling)&&n.remove(o.previousSibling);var i=t.lastChild;i&&Qe(i)&&e.hasChildNodes()&&n.remove(i),Ye(n,t,!0)&&n.$(t).empty(),at(n,e,t),r&&t.appendChild(r);var a=ye(ge.fromDom(t),ge.fromDom(e))?n.getParents(e,He,t):[];n.remove(e),k(a,function(e){Ye(n,e)&&e!==n.getRoot()&&n.remove(e)})}},st=function(e,n,t,r){var o,i,a,u=e.dom;if(u.isEmpty(r))i=t,a=r,(o=e).dom.$(a).empty(),ut(o.dom,i,a),o.selection.setCursorLocation(a);else{var s=jn(n);ut(u,t,r),e.selection.setRng(qn(s))}},ct=function(n,t){var e=n.dom,r=n.selection,o=r.getStart(),i=nn(n,o),a=e.getParent(r.getStart(),"LI",i);if(a){var u=a.parentNode;if(u===n.getBody()&&Ye(e,u))return!0;var s=In(r.getRng()),c=e.getParent(ot(n,s,t,i),"LI",i);if(c&&c!==a)return n.undoManager.transact(function(){var e;t?st(n,s,c,a):(e=a).parentNode.firstChild===e?_n(n):function(e,n,t,r){var o=jn(n);ut(e.dom,t,r);var i=qn(o);e.selection.setRng(i)}(n,s,a,c)}),!0;if(!c&&!t&&0===s.startOffset&&0===s.endOffset)return n.undoManager.transact(function(){Fn(n)}),!0}return!1},ft=function(o,i){var a=o.dom,e=o.selection.getStart(),u=nn(o,e),s=a.getParent(e,a.isBlock,u);if(s&&a.isEmpty(s)){var n=In(o.selection.getRng()),c=a.getParent(ot(o,n,i,u),"LI",u);if(c)return o.undoManager.transact(function(){var e,n,t,r;n=s,t=u,r=(e=a).getParent(n.parentNode,e.isBlock,t),e.remove(n),r&&e.isEmpty(r)&&e.remove(r),Jn(a,c.parentNode),o.selection.select(c,!0),o.selection.collapse(i)}),!0}return!1},dt=function(e,n){return e.selection.isCollapsed()?ct(i=e,a=n)||ft(i,a):(r=(t=e).selection.getStart(),o=nn(t,r),!!(t.dom.getParent(r,"LI,DT,DD",o)||0<en(t).length)&&(t.undoManager.transact(function(){t.execCommand("Delete"),rt(t.dom,t.getBody())}),!0));var t,r,o,i,a},lt=function(t){var r=t.dom,e=Je(t);qe(e)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:r.getAttrib(e,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(e){var n=e.getData();t.undoManager.transact(function(){r.setAttrib(Je(t),"start","1"===n.start?"":n.start)}),e.close()}})},mt=function(n,t){return function(){var e=n.dom.getParent(n.selection.getStart(),"UL,OL,DL");return e&&e.nodeName===t}},pt=function(e){var n,t;e.getParam("lists_indent_on_tab",!0)&&(n=e).on("keydown",function(e){e.keyCode!==Ne.TAB||Ne.metaKeyPressed(e)||n.undoManager.transact(function(){(e.shiftKey?_n:Un)(n)&&e.preventDefault()})}),(t=e).on("keydown",function(e){e.keyCode===Ne.BACKSPACE?dt(t,!1)&&e.preventDefault():e.keyCode===Ne.DELETE&&dt(t,!0)&&e.preventDefault()})};!function gt(){c.add("lists",function(e){var t,n,r,o,i,a,u,s;return!1==!(!/(^|[ ,])rtc([, ]|$)/.test(e.getParam("plugins","","string"))||!c.get("rtc"))&&(pt(e),(t=e).on("BeforeExecCommand",function(e){var n=e.command.toLowerCase();"indent"===n?Un(t):"outdent"===n&&_n(t)}),t.addCommand("InsertUnorderedList",function(e,n){nt(t,"UL",n)}),t.addCommand("InsertOrderedList",function(e,n){nt(t,"OL",n)}),t.addCommand("InsertDefinitionList",function(e,n){nt(t,"DL",n)}),t.addCommand("RemoveList",function(){Fn(t)}),t.addCommand("mceListProps",function(){lt(t)}),t.addQueryStateHandler("InsertUnorderedList",mt(t,"UL")),t.addQueryStateHandler("InsertOrderedList",mt(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",mt(t,"DL"))),i=function(e){return function(){return n.execCommand(e)}},r="advlist",o=(n=e).getParam("plugins","","string"),-1===Ue.inArray(o.split(/[ ,]/),r)&&(n.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:i("InsertOrderedList"),onSetup:function(e){return Wn(n,"OL",e.setActive)}}),n.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:i("InsertUnorderedList"),onSetup:function(e){return Wn(n,"UL",e.setActive)}})),u={text:"List properties...",icon:"ordered-list",onAction:function(){return lt(a)},onSetup:function(n){return Wn(a,"OL",function(e){return n.setDisabled(!e)})}},(a=e).ui.registry.addMenuItem("listprops",u),a.ui.registry.addContextMenu("lists",{update:function(e){var n=Je(a,e);return qe(n)?["listprops"]:[]}}),s=e,{backspaceDelete:function(e){dt(s,e)}}})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL2xpc3RzL3BsdWdpbi5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYSxzRkFBc0YsZUFBZSxrQkFBa0IsVUFBVSxlQUFlLG1CQUFtQixhQUFhLDhCQUE4QixTQUFTLGtCQUFrQixrQkFBa0IsRUFBRSxtQkFBbUIsV0FBVyw0Q0FBNEMsU0FBUywwQkFBMEIsV0FBVyxzQkFBc0Isc0RBQXNELG1KQUFtSixTQUFTLHNCQUFzQixnQkFBZ0Isd0JBQXdCLFNBQVMsZUFBZSxZQUFZLElBQUksbUJBQW1CLFlBQVksZ0JBQWdCLGFBQWEsK0dBQStHLGVBQWUsa0JBQWtCLEtBQUssNkNBQTZDLGdCQUFnQixvQkFBb0IsVUFBVSxxQkFBcUIsb0JBQW9CLG9CQUFvQixlQUFlLHVCQUF1Qiw0QkFBNEIsY0FBYyxJQUFJLFNBQVMsSUFBSSwrQkFBK0IsdUNBQXVDLGVBQWUsbUJBQW1CLDBQQUEwUCxTQUFTLGVBQWUsbUJBQW1CLHFCQUFxQix3SUFBd0ksc0NBQXNDLElBQUksS0FBSyxXQUFXLFlBQVksU0FBUyxpQkFBaUIsdUJBQXVCLElBQUksS0FBSyxXQUFXLGlCQUFpQiw0QkFBNEIsSUFBSSxLQUFLLFdBQVcsa0JBQWtCLFNBQVMsbUJBQW1CLHVCQUF1QixTQUFTLElBQUksbUJBQW1CLHVCQUF1QixJQUFJLEtBQUssV0FBVywyQkFBMkIsZ0JBQWdCLGdCQUFnQixpQkFBaUIsZ0JBQWdCLGlCQUFpQixtQkFBbUIsNEJBQTRCLElBQUksS0FBSyxrRkFBa0YsZ0JBQWdCLFNBQVMsU0FBUyxlQUFlLGtCQUFrQixxQkFBcUIsZUFBZSwwQ0FBMEMsZUFBZSxtREFBbUQsY0FBYyxvQ0FBb0MsaUNBQWlDLElBQUksdUZBQXVGLFNBQVMsd0JBQXdCLGlCQUFpQixvQkFBb0IsWUFBWSxX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NEVBQTRFLDBDQUEwQyxFQUFFLGlDQUFpQywwR0FBMEcsR0FBRyxlQUFlLDBCQUEwQixvQkFBb0IsNElBQTRJLDhCQUE4Qix3Q0FBd0MsbURBQW1ELGFBQWEsaURBQWlELGFBQWEsb0RBQW9ELGFBQWEsdUNBQXVDLE1BQU0seUNBQXlDLE1BQU0sMkxBQTJMLGtCQUFrQix5QkFBeUIsbUlBQW1JLDBHQUEwRywrQkFBK0IsMkNBQTJDLDRHQUE0RywrQkFBK0IsTUFBTSxrRUFBa0UsYUFBYSxxQkFBcUIsNkJBQTZCLHlCQUF5QixHQUFHLG9GQUFvRixtQkFBbUIsY0FBYywrQkFBK0IsT0FBTyw0QkFBNEIsVUFBVSxFQUFFLEdBQUcsUyIsImZpbGUiOiJ2ZW5kb3JzfnRpbnltY2UtcGx1Z2luLWxpc3RzLXBsdWdpbi1taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgVGlueSBUZWNobm9sb2dpZXMsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBMR1BMIG9yIGEgY29tbWVyY2lhbCBsaWNlbnNlLlxuICogRm9yIExHUEwgc2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKiBGb3IgY29tbWVyY2lhbCBsaWNlbnNlcyBzZWUgaHR0cHM6Ly93d3cudGlueS5jbG91ZC9cbiAqXG4gKiBWZXJzaW9uOiA1LjQuMiAoMjAyMC0wOC0xNylcbiAqL1xuIWZ1bmN0aW9uKHUpe1widXNlIHN0cmljdFwiO3ZhciBlLG4sdCxyLG8saSxhLGM9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLlBsdWdpbk1hbmFnZXJcIikscz1mdW5jdGlvbigpe30seT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19LGY9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiFuKGUpfX0sZD15KCExKSxsPXkoITApLG09ZnVuY3Rpb24oKXtyZXR1cm4gcH0scD0oZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5pc05vbmUoKX0se2ZvbGQ6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZSgpfSxpczpkLGlzU29tZTpkLGlzTm9uZTpsLGdldE9yOnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGdldE9yVGh1bms6bj1mdW5jdGlvbihlKXtyZXR1cm4gZSgpfSxnZXRPckRpZTpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZXx8XCJlcnJvcjogZ2V0T3JEaWUgY2FsbGVkIG9uIG5vbmUuXCIpfSxnZXRPck51bGw6eShudWxsKSxnZXRPclVuZGVmaW5lZDp5KHVuZGVmaW5lZCksb3I6dCxvclRodW5rOm4sbWFwOm0sZWFjaDpzLGJpbmQ6bSxleGlzdHM6ZCxmb3JhbGw6bCxmaWx0ZXI6bSxlcXVhbHM6ZSxlcXVhbHNfOmUsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltdfSx0b1N0cmluZzp5KFwibm9uZSgpXCIpfSksZz1mdW5jdGlvbih0KXt2YXIgZT15KHQpLG49ZnVuY3Rpb24oKXtyZXR1cm4gb30scj1mdW5jdGlvbihlKXtyZXR1cm4gZSh0KX0sbz17Zm9sZDpmdW5jdGlvbihlLG4pe3JldHVybiBuKHQpfSxpczpmdW5jdGlvbihlKXtyZXR1cm4gdD09PWV9LGlzU29tZTpsLGlzTm9uZTpkLGdldE9yOmUsZ2V0T3JUaHVuazplLGdldE9yRGllOmUsZ2V0T3JOdWxsOmUsZ2V0T3JVbmRlZmluZWQ6ZSxvcjpuLG9yVGh1bms6bixtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSh0KSl9LGVhY2g6ZnVuY3Rpb24oZSl7ZSh0KX0sYmluZDpyLGV4aXN0czpyLGZvcmFsbDpyLGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZSh0KT9vOnB9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bdF19LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJzb21lKFwiK3QrXCIpXCJ9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pcyh0KX0sZXF1YWxzXzpmdW5jdGlvbihlLG4pe3JldHVybiBlLmZvbGQoZCxmdW5jdGlvbihlKXtyZXR1cm4gbih0LGUpfSl9fTtyZXR1cm4gb30sdj17c29tZTpnLG5vbmU6bSxmcm9tOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZD9wOmcoZSl9fSxoPWZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD10eXBlb2Yobj1lKSwobnVsbD09PW4/XCJudWxsXCI6XCJvYmplY3RcIj09dCYmKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG4pfHxuLmNvbnN0cnVjdG9yJiZcIkFycmF5XCI9PT1uLmNvbnN0cnVjdG9yLm5hbWUpP1wiYXJyYXlcIjpcIm9iamVjdFwiPT10JiYoU3RyaW5nLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG4pfHxuLmNvbnN0cnVjdG9yJiZcIlN0cmluZ1wiPT09bi5jb25zdHJ1Y3Rvci5uYW1lKT9cInN0cmluZ1wiOnQpPT09cjt2YXIgbix0fX0sUz1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09bn19LGI9aChcInN0cmluZ1wiKSxDPWgoXCJhcnJheVwiKSxOPVMoXCJib29sZWFuXCIpLE89UyhcImZ1bmN0aW9uXCIpLEw9UyhcIm51bWJlclwiKSx3PUFycmF5LnByb3RvdHlwZS5zbGljZSxUPUFycmF5LnByb3RvdHlwZS5wdXNoLEQ9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9ZS5sZW5ndGgscj1uZXcgQXJyYXkodCksbz0wO288dDtvKyspe3ZhciBpPWVbb107cltvXT1uKGksbyl9cmV0dXJuIHJ9LGs9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9MCxyPWUubGVuZ3RoO3Q8cjt0Kyspe24oZVt0XSx0KX19LHg9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9W10scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTtuKGkscikmJnQucHVzaChpKX1yZXR1cm4gdH0sQT1mdW5jdGlvbihlLG4sdCl7cmV0dXJuIGsoZSxmdW5jdGlvbihlKXt0PW4odCxlKX0pLHR9LEU9ZnVuY3Rpb24oZSxuLHQpe2Zvcih2YXIgcj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTtpZihuKGkscikpcmV0dXJuIHYuc29tZShpKTtpZih0KGkscikpYnJlYWt9cmV0dXJuIHYubm9uZSgpfSxQPWZ1bmN0aW9uKGUsbil7cmV0dXJuIEUoZSxuLGQpfSxCPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1bXSx0PTAscj1lLmxlbmd0aDt0PHI7Kyt0KXtpZighQyhlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJBcnIuZmxhdHRlbiBpdGVtIFwiK3QrXCIgd2FzIG5vdCBhbiBhcnJheSwgaW5wdXQ6IFwiK2UpO1QuYXBwbHkobixlW3RdKX1yZXR1cm4gbn0oRChlLG4pKX0sUj1mdW5jdGlvbihlKXt2YXIgbj13LmNhbGwoZSwwKTtyZXR1cm4gbi5yZXZlcnNlKCksbn0sST1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUubGVuZ3RoP3Yubm9uZSgpOnYuc29tZShlWzBdKX0sTT1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUubGVuZ3RoP3Yubm9uZSgpOnYuc29tZShlW2UubGVuZ3RoLTFdKX0sVT1mdW5jdGlvbigpe3JldHVybihVPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgbix0PTEscj1hcmd1bWVudHMubGVuZ3RoO3Q8cjt0KyspZm9yKHZhciBvIGluIG49YXJndW1lbnRzW3RdKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pJiYoZVtvXT1uW29dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sXz1mdW5jdGlvbihlLG4pe3ZhciB0PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWVbdF07aWYoci50ZXN0KG4pKXJldHVybiByfXJldHVybiB1bmRlZmluZWR9KGUsbik7aWYoIXQpcmV0dXJue21ham9yOjAsbWlub3I6MH07dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihuLnJlcGxhY2UodCxcIiRcIitlKSl9O3JldHVybiAkKHIoMSkscigyKSl9LEY9ZnVuY3Rpb24oKXtyZXR1cm4gJCgwLDApfSwkPWZ1bmN0aW9uKGUsbil7cmV0dXJue21ham9yOmUsbWlub3I6bn19LEg9e251OiQsZGV0ZWN0OmZ1bmN0aW9uKGUsbil7dmFyIHQ9U3RyaW5nKG4pLnRvTG93ZXJDYXNlKCk7cmV0dXJuIDA9PT1lLmxlbmd0aD9GKCk6XyhlLHQpfSx1bmtub3duOkZ9LGo9XCJFZGdlXCIscT1cIkNocm9tZVwiLEs9XCJPcGVyYVwiLFY9XCJGaXJlZm94XCIsVz1cIlNhZmFyaVwiLFE9ZnVuY3Rpb24oZSl7dmFyIG49ZS5jdXJyZW50LHQ9ZS52ZXJzaW9uLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG49PT1lfX07cmV0dXJue2N1cnJlbnQ6bix2ZXJzaW9uOnQsaXNFZGdlOnIoaiksaXNDaHJvbWU6cihxKSxpc0lFOnIoXCJJRVwiKSxpc09wZXJhOnIoSyksaXNGaXJlZm94OnIoViksaXNTYWZhcmk6cihXKX19LFg9e3Vua25vd246ZnVuY3Rpb24oKXtyZXR1cm4gUSh7Y3VycmVudDp1bmRlZmluZWQsdmVyc2lvbjpILnVua25vd24oKX0pfSxudTpRLGVkZ2U6eShqKSxjaHJvbWU6eShxKSxpZTp5KFwiSUVcIiksb3BlcmE6eShLKSxmaXJlZm94OnkoViksc2FmYXJpOnkoVyl9LHo9XCJXaW5kb3dzXCIsWT1cIkFuZHJvaWRcIixHPVwiU29sYXJpc1wiLEo9XCJGcmVlQlNEXCIsWj1cIkNocm9tZU9TXCIsZWU9ZnVuY3Rpb24oZSl7dmFyIG49ZS5jdXJyZW50LHQ9ZS52ZXJzaW9uLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG49PT1lfX07cmV0dXJue2N1cnJlbnQ6bix2ZXJzaW9uOnQsaXNXaW5kb3dzOnIoeiksaXNpT1M6cihcImlPU1wiKSxpc0FuZHJvaWQ6cihZKSxpc09TWDpyKFwiT1NYXCIpLGlzTGludXg6cihcIkxpbnV4XCIpLGlzU29sYXJpczpyKEcpLGlzRnJlZUJTRDpyKEopLGlzQ2hyb21lT1M6cihaKX19LG5lPXt1bmtub3duOmZ1bmN0aW9uKCl7cmV0dXJuIGVlKHtjdXJyZW50OnVuZGVmaW5lZCx2ZXJzaW9uOkgudW5rbm93bigpfSl9LG51OmVlLHdpbmRvd3M6eSh6KSxpb3M6eShcImlPU1wiKSxhbmRyb2lkOnkoWSksbGludXg6eShcIkxpbnV4XCIpLG9zeDp5KFwiT1NYXCIpLHNvbGFyaXM6eShHKSxmcmVlYnNkOnkoSiksY2hyb21lb3M6eShaKX0sdGU9ZnVuY3Rpb24oZSxuKXt2YXIgdD1TdHJpbmcobikudG9Mb3dlckNhc2UoKTtyZXR1cm4gUChlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNlYXJjaCh0KX0pfSxyZT1mdW5jdGlvbihlLHQpe3JldHVybiB0ZShlLHQpLm1hcChmdW5jdGlvbihlKXt2YXIgbj1ILmRldGVjdChlLnZlcnNpb25SZWdleGVzLHQpO3JldHVybntjdXJyZW50OmUubmFtZSx2ZXJzaW9uOm59fSl9LG9lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRlKGUsdCkubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPUguZGV0ZWN0KGUudmVyc2lvblJlZ2V4ZXMsdCk7cmV0dXJue2N1cnJlbnQ6ZS5uYW1lLHZlcnNpb246bn19KX0saWU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihuKX0sYWU9Ly4qP3ZlcnNpb25cXC9cXCA/KFswLTldKylcXC4oWzAtOV0rKS4qLyx1ZT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGllKGUsbil9fSxzZT1be25hbWU6XCJFZGdlXCIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9lZGdlXFwvID8oWzAtOV0rKVxcLihbMC05XSspJC9dLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gaWUoZSxcImVkZ2UvXCIpJiZpZShlLFwiY2hyb21lXCIpJiZpZShlLFwic2FmYXJpXCIpJiZpZShlLFwiYXBwbGV3ZWJraXRcIil9fSx7bmFtZTpcIkNocm9tZVwiLHZlcnNpb25SZWdleGVzOlsvLio/Y2hyb21lXFwvKFswLTldKylcXC4oWzAtOV0rKS4qLyxhZV0sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBpZShlLFwiY2hyb21lXCIpJiYhaWUoZSxcImNocm9tZWZyYW1lXCIpfX0se25hbWU6XCJJRVwiLHZlcnNpb25SZWdleGVzOlsvLio/bXNpZVxcID8oWzAtOV0rKVxcLihbMC05XSspLiovLC8uKj9ydjooWzAtOV0rKVxcLihbMC05XSspLiovXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIGllKGUsXCJtc2llXCIpfHxpZShlLFwidHJpZGVudFwiKX19LHtuYW1lOlwiT3BlcmFcIix2ZXJzaW9uUmVnZXhlczpbYWUsLy4qP29wZXJhXFwvKFswLTldKylcXC4oWzAtOV0rKS4qL10sc2VhcmNoOnVlKFwib3BlcmFcIil9LHtuYW1lOlwiRmlyZWZveFwiLHZlcnNpb25SZWdleGVzOlsvLio/ZmlyZWZveFxcL1xcID8oWzAtOV0rKVxcLihbMC05XSspLiovXSxzZWFyY2g6dWUoXCJmaXJlZm94XCIpfSx7bmFtZTpcIlNhZmFyaVwiLHZlcnNpb25SZWdleGVzOlthZSwvLio/Y3B1IG9zIChbMC05XSspXyhbMC05XSspLiovXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuKGllKGUsXCJzYWZhcmlcIil8fGllKGUsXCJtb2JpbGUvXCIpKSYmaWUoZSxcImFwcGxld2Via2l0XCIpfX1dLGNlPVt7bmFtZTpcIldpbmRvd3NcIixzZWFyY2g6dWUoXCJ3aW5cIiksdmVyc2lvblJlZ2V4ZXM6Wy8uKj93aW5kb3dzXFwgbnRcXCA/KFswLTldKylcXC4oWzAtOV0rKS4qL119LHtuYW1lOlwiaU9TXCIsc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBpZShlLFwiaXBob25lXCIpfHxpZShlLFwiaXBhZFwiKX0sdmVyc2lvblJlZ2V4ZXM6Wy8uKj92ZXJzaW9uXFwvXFwgPyhbMC05XSspXFwuKFswLTldKykuKi8sLy4qY3B1IG9zIChbMC05XSspXyhbMC05XSspLiovLC8uKmNwdSBpcGhvbmUgb3MgKFswLTldKylfKFswLTldKykuKi9dfSx7bmFtZTpcIkFuZHJvaWRcIixzZWFyY2g6dWUoXCJhbmRyb2lkXCIpLHZlcnNpb25SZWdleGVzOlsvLio/YW5kcm9pZFxcID8oWzAtOV0rKVxcLihbMC05XSspLiovXX0se25hbWU6XCJPU1hcIixzZWFyY2g6dWUoXCJtYWMgb3MgeFwiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP21hY1xcIG9zXFwgeFxcID8oWzAtOV0rKV8oWzAtOV0rKS4qL119LHtuYW1lOlwiTGludXhcIixzZWFyY2g6dWUoXCJsaW51eFwiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6XCJTb2xhcmlzXCIsc2VhcmNoOnVlKFwic3Vub3NcIiksdmVyc2lvblJlZ2V4ZXM6W119LHtuYW1lOlwiRnJlZUJTRFwiLHNlYXJjaDp1ZShcImZyZWVic2RcIiksdmVyc2lvblJlZ2V4ZXM6W119LHtuYW1lOlwiQ2hyb21lT1NcIixzZWFyY2g6dWUoXCJjcm9zXCIpLHZlcnNpb25SZWdleGVzOlsvLio/Y2hyb21lXFwvKFswLTldKylcXC4oWzAtOV0rKS4qL119XSxmZT17YnJvd3NlcnM6eShzZSksb3Nlczp5KGNlKX0sZGU9ZnVuY3Rpb24oZSxuKXt2YXIgdCxyLG8saSxhLHUscyxjLGYsZCxsLG0scD1mZS5icm93c2VycygpLGc9ZmUub3NlcygpLHY9cmUocCxlKS5mb2xkKFgudW5rbm93bixYLm51KSxoPW9lKGcsZSkuZm9sZChuZS51bmtub3duLG5lLm51KTtyZXR1cm57YnJvd3Nlcjp2LG9zOmgsZGV2aWNlVHlwZToocj12LG89ZSxpPW4sYT0odD1oKS5pc2lPUygpJiYhMD09PS9pcGFkL2kudGVzdChvKSx1PXQuaXNpT1MoKSYmIWEscz10LmlzaU9TKCl8fHQuaXNBbmRyb2lkKCksYz1zfHxpKFwiKHBvaW50ZXI6Y29hcnNlKVwiKSxmPWF8fCF1JiZzJiZpKFwiKG1pbi1kZXZpY2Utd2lkdGg6NzY4cHgpXCIpLGQ9dXx8cyYmIWYsbD1yLmlzU2FmYXJpKCkmJnQuaXNpT1MoKSYmITE9PT0vc2FmYXJpL2kudGVzdChvKSxtPSFkJiYhZiYmIWwse2lzaVBhZDp5KGEpLGlzaVBob25lOnkodSksaXNUYWJsZXQ6eShmKSxpc1Bob25lOnkoZCksaXNUb3VjaDp5KGMpLGlzQW5kcm9pZDp0LmlzQW5kcm9pZCxpc2lPUzp0LmlzaU9TLGlzV2ViVmlldzp5KGwpLGlzRGVza3RvcDp5KG0pfSl9fSxsZT1mdW5jdGlvbihlKXtyZXR1cm4gdS53aW5kb3cubWF0Y2hNZWRpYShlKS5tYXRjaGVzfSxtZT0oaT0hKHI9ZnVuY3Rpb24oKXtyZXR1cm4gZGUodS5uYXZpZ2F0b3IudXNlckFnZW50LGxlKX0pLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3JldHVybiBpfHwoaT0hMCxvPXIuYXBwbHkobnVsbCxlKSksb30pLHBlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHxlPT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcihcIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybntkb206eShlKX19LGdlPXtmcm9tSHRtbDpmdW5jdGlvbihlLG4pe3ZhciB0PShufHx1LmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKHQuaW5uZXJIVE1MPWUsIXQuaGFzQ2hpbGROb2RlcygpfHwxPHQuY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgdS5jb25zb2xlLmVycm9yKFwiSFRNTCBkb2VzIG5vdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZVwiLGUpLG5ldyBFcnJvcihcIkhUTUwgbXVzdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZVwiKTtyZXR1cm4gcGUodC5jaGlsZE5vZGVzWzBdKX0sZnJvbVRhZzpmdW5jdGlvbihlLG4pe3ZhciB0PShufHx1LmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KGUpO3JldHVybiBwZSh0KX0sZnJvbVRleHQ6ZnVuY3Rpb24oZSxuKXt2YXIgdD0obnx8dS5kb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIHBlKHQpfSxmcm9tRG9tOnBlLGZyb21Qb2ludDpmdW5jdGlvbihlLG4sdCl7dmFyIHI9ZS5kb20oKTtyZXR1cm4gdi5mcm9tKHIuZWxlbWVudEZyb21Qb2ludChuLHQpKS5tYXAocGUpfX0sdmU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5kb20oKT09PW4uZG9tKCl9LGhlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQ9ZS5kb20oKSxyPW4uZG9tKCksbz10LGk9cixhPXUuTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlksMCE9KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaSkmYSk7dmFyIHQscixvLGksYX0seWU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbWUoKS5icm93c2VyLmlzSUUoKT9oZShlLG4pOih0PW4scj1lLmRvbSgpLG89dC5kb20oKSxyIT09byYmci5jb250YWlucyhvKSk7dmFyIHQscixvfSxTZT1mdW5jdGlvbihlLG4pe3ZhciB0PWUuZG9tKCk7aWYoMSE9PXQubm9kZVR5cGUpcmV0dXJuITE7dmFyIHI9dDtpZihyLm1hdGNoZXMhPT11bmRlZmluZWQpcmV0dXJuIHIubWF0Y2hlcyhuKTtpZihyLm1zTWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXJldHVybiByLm1zTWF0Y2hlc1NlbGVjdG9yKG4pO2lmKHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXJldHVybiByLndlYmtpdE1hdGNoZXNTZWxlY3RvcihuKTtpZihyLm1vek1hdGNoZXNTZWxlY3RvciE9PXVuZGVmaW5lZClyZXR1cm4gci5tb3pNYXRjaGVzU2VsZWN0b3Iobik7dGhyb3cgbmV3IEVycm9yKFwiQnJvd3NlciBsYWNrcyBuYXRpdmUgc2VsZWN0b3JzXCIpfSxiZT10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuZG9tLlJhbmdlVXRpbHNcIiksQ2U9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmRvbS5UcmVlV2Fsa2VyXCIpLE5lPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLlZLXCIpLE9lPWZ1bmN0aW9uKGUsbix0KXtyZXR1cm4gZS5pc1NvbWUoKSYmbi5pc1NvbWUoKT92LnNvbWUodChlLmdldE9yRGllKCksbi5nZXRPckRpZSgpKSk6di5ub25lKCl9LExlPShcInVuZGVmaW5lZFwiIT10eXBlb2YgdS53aW5kb3c/dS53aW5kb3c6RnVuY3Rpb24oXCJyZXR1cm4gdGhpcztcIikoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSksd2U9KGE9MSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKS5ub2RlVHlwZT09PWF9KSxUZT1mdW5jdGlvbihlKXtyZXR1cm4gdi5mcm9tKGUuZG9tKCkucGFyZW50Tm9kZSkubWFwKGdlLmZyb21Eb20pfSxEZT1mdW5jdGlvbihlKXtyZXR1cm4gRChlLmRvbSgpLmNoaWxkTm9kZXMsZ2UuZnJvbURvbSl9LGtlPWZ1bmN0aW9uKGUsbil7dmFyIHQ9ZS5kb20oKS5jaGlsZE5vZGVzO3JldHVybiB2LmZyb20odFtuXSkubWFwKGdlLmZyb21Eb20pfSx4ZT1mdW5jdGlvbihlKXtyZXR1cm4ga2UoZSwwKX0sQWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGtlKGUsZS5kb20oKS5jaGlsZE5vZGVzLmxlbmd0aC0xKX0sRWU9ZnVuY3Rpb24obix0KXtUZShuKS5lYWNoKGZ1bmN0aW9uKGUpe2UuZG9tKCkuaW5zZXJ0QmVmb3JlKHQuZG9tKCksbi5kb20oKSl9KX0sUGU9ZnVuY3Rpb24oZSxuKXtlLmRvbSgpLmFwcGVuZENoaWxkKG4uZG9tKCkpfSxCZT1mdW5jdGlvbihuLGUpe2soZSxmdW5jdGlvbihlKXtQZShuLGUpfSl9LFJlPWZ1bmN0aW9uKGUpe3ZhciBuPWUuZG9tKCk7bnVsbCE9PW4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfSxJZT1mdW5jdGlvbihlLG4sdCl7cmV0dXJuIGUuZmlyZShcIkxpc3RNdXRhdGlvblwiLHthY3Rpb246bixlbGVtZW50OnR9KX0sTWU9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmRvbS5Eb21RdWVyeVwiKSxVZT10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UudXRpbC5Ub29sc1wiKSxfZT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW59fSxGZT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUmJm4udGVzdChlLm5vZGVOYW1lKX19LCRlPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYzPT09ZS5ub2RlVHlwZX0sSGU9RmUoL14oT0x8VUx8REwpJC8pLGplPUZlKC9eKE9MfFVMKSQvKSxxZT1fZShcIm9sXCIpLEtlPUZlKC9eKExJfERUfEREKSQvKSxWZT1GZSgvXihEVHxERCkkLyksV2U9RmUoL14oVEh8VEQpJC8pLFFlPV9lKFwiYnJcIiksWGU9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbiYmISFlLnNjaGVtYS5nZXRUZXh0QmxvY2tFbGVtZW50cygpW24ubm9kZU5hbWVdfSx6ZT1mdW5jdGlvbihlLG4pe3JldHVybiBlJiZlLm5vZGVOYW1lIGluIG59LFllPWZ1bmN0aW9uKGUsbix0KXt2YXIgcj1lLmlzRW1wdHkobik7cmV0dXJuISh0JiYwPGUuc2VsZWN0KFwic3BhbltkYXRhLW1jZS10eXBlPWJvb2ttYXJrXVwiLG4pLmxlbmd0aCkmJnJ9LEdlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIGUuaXNDaGlsZE9mKG4sZS5nZXRSb290KCkpfSxKZT1mdW5jdGlvbihlLG4pe3ZhciB0PW58fGUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKTtyZXR1cm4gZS5kb20uZ2V0UGFyZW50KHQsXCJPTCxVTCxETFwiLG5uKGUsdCkpfSxaZT1mdW5jdGlvbihlKXt2YXIgbix0LHIsbz1KZShlKSxpPWUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCk7cmV0dXJuIHI9aSwodD1vKSYmMT09PXIubGVuZ3RoJiZyWzBdPT09dD8obj1vLFVlLmdyZXAobi5xdWVyeVNlbGVjdG9yQWxsKFwib2wsdWwsZGxcIiksZnVuY3Rpb24oZSl7cmV0dXJuIEhlKGUpfSkpOlVlLmdyZXAoaSxmdW5jdGlvbihlKXtyZXR1cm4gSGUoZSkmJm8hPT1lfSl9LGVuPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCk7cmV0dXJuIFVlLmdyZXAoKHQ9ZSxuPW8scj1VZS5tYXAobixmdW5jdGlvbihlKXt2YXIgbj10LmRvbS5nZXRQYXJlbnQoZSxcImxpLGRkLGR0XCIsbm4odCxlKSk7cmV0dXJuIG58fGV9KSxNZS51bmlxdWUocikpLGZ1bmN0aW9uKGUpe3JldHVybiBLZShlKX0pfSxubj1mdW5jdGlvbihlLG4pe3ZhciB0PWUuZG9tLmdldFBhcmVudHMobixcIlRELFRIXCIpO3JldHVybiAwPHQubGVuZ3RoP3RbMF06ZS5nZXRCb2R5KCl9LHRuPWZ1bmN0aW9uKGUsbil7dmFyIHQ9ZS5kb20uZ2V0UGFyZW50cyhuLFwib2wsdWxcIixubihlLG4pKTtyZXR1cm4gTSh0KX0scm49ZnVuY3Rpb24oZSl7dmFyIG4sdCxyLG89KHQ9dG4obj1lLG4uc2VsZWN0aW9uLmdldFN0YXJ0KCkpLHI9eChuLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpLGplKSx0LnRvQXJyYXkoKS5jb25jYXQocikpO3JldHVybiBvbihlLG8pfSxvbj1mdW5jdGlvbihuLGUpe3ZhciB0PUQoZSxmdW5jdGlvbihlKXtyZXR1cm4gdG4obixlKS5nZXRPcihlKX0pO3JldHVybiBNZS51bmlxdWUodCl9LGFuPWZ1bmN0aW9uKGUsbil7dmFyIHQscixvLGksYT1lLmRvbSx1PWUuc2NoZW1hLmdldEJsb2NrRWxlbWVudHMoKSxzPWEuY3JlYXRlRnJhZ21lbnQoKSxjPSExPT09KHQ9ZS5nZXRQYXJhbShcImZvcmNlZF9yb290X2Jsb2NrXCIsXCJwXCIpKT9cIlwiOiEwPT09dD9cInBcIjp0O2lmKGMmJigobz1hLmNyZWF0ZShjKSkudGFnTmFtZT09PWMudG9VcHBlckNhc2UoKSYmYS5zZXRBdHRyaWJzKG8sZS5nZXRQYXJhbShcImZvcmNlZF9yb290X2Jsb2NrX2F0dHJzXCIse30pKSx6ZShuLmZpcnN0Q2hpbGQsdSl8fHMuYXBwZW5kQ2hpbGQobykpLG4pZm9yKDtyPW4uZmlyc3RDaGlsZDspe3ZhciBmPXIubm9kZU5hbWU7aXx8XCJTUEFOXCI9PT1mJiZcImJvb2ttYXJrXCI9PT1yLmdldEF0dHJpYnV0ZShcImRhdGEtbWNlLXR5cGVcIil8fChpPSEwKSx6ZShyLHUpPyhzLmFwcGVuZENoaWxkKHIpLG89bnVsbCk6Yz8ob3x8KG89YS5jcmVhdGUoYykscy5hcHBlbmRDaGlsZChvKSksby5hcHBlbmRDaGlsZChyKSk6cy5hcHBlbmRDaGlsZChyKX1yZXR1cm4gYz9pfHxvLmFwcGVuZENoaWxkKGEuY3JlYXRlKFwiYnJcIix7XCJkYXRhLW1jZS1ib2d1c1wiOlwiMVwifSkpOnMuYXBwZW5kQ2hpbGQoYS5jcmVhdGUoXCJiclwiKSksc30sdW49T2JqZWN0LmtleXMsc249ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9dW4oZSkscj0wLG89dC5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9dFtyXTtuKGVbaV0saSl9fSxjbj1mdW5jdGlvbihlLG4pe3ZhciB0LHIsbyxpLGE9e307cmV0dXJuIHQ9bixpPWEscj1mdW5jdGlvbihlLG4pe2lbbl09ZX0sbz1zLHNuKGUsZnVuY3Rpb24oZSxuKXsodChlLG4pP3I6bykoZSxuKX0pLGF9LGZuPWZ1bmN0aW9uKGUsbil7dmFyIHQ9ZS5kb20oKTtzbihuLGZ1bmN0aW9uKGUsbil7IWZ1bmN0aW9uKGUsbix0KXtpZighKGIodCl8fE4odCl8fEwodCkpKXRocm93IHUuY29uc29sZS5lcnJvcihcIkludmFsaWQgY2FsbCB0byBBdHRyLnNldC4gS2V5IFwiLG4sXCI6OiBWYWx1ZSBcIix0LFwiOjogRWxlbWVudCBcIixlKSxuZXcgRXJyb3IoXCJBdHRyaWJ1dGUgdmFsdWUgd2FzIG5vdCBzaW1wbGVcIik7ZS5zZXRBdHRyaWJ1dGUobix0K1wiXCIpfSh0LG4sZSl9KX0sZG49ZnVuY3Rpb24oZSl7cmV0dXJuIEEoZS5kb20oKS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbbi5uYW1lXT1uLnZhbHVlLGV9LHt9KX0sbG49KE8odS5FbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3cpJiZPKHUuTm9kZS5wcm90b3R5cGUuZ2V0Um9vdE5vZGUpLGZ1bmN0aW9uKGUsbix0KXtpZighYih0KSl0aHJvdyB1LmNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGNhbGwgdG8gQ1NTLnNldC4gUHJvcGVydHkgXCIsbixcIjo6IFZhbHVlIFwiLHQsXCI6OiBFbGVtZW50IFwiLGUpLG5ldyBFcnJvcihcIkNTUyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nOiBcIit0KTt2YXIgcjsocj1lKS5zdHlsZSE9PXVuZGVmaW5lZCYmTyhyLnN0eWxlLmdldFByb3BlcnR5VmFsdWUpJiZlLnN0eWxlLnNldFByb3BlcnR5KG4sdCl9KSxtbj1mdW5jdGlvbihlKXtyZXR1cm4gbj1lLHQ9ITAsZ2UuZnJvbURvbShuLmRvbSgpLmNsb25lTm9kZSh0KSk7dmFyIG4sdH0scG49ZnVuY3Rpb24oZSxuKXt2YXIgdCxyLG8saSxhPSh0PWUscj1uLG89Z2UuZnJvbVRhZyhyKSxpPWRuKHQpLGZuKG8saSksbyk7RWUoZSxhKTt2YXIgdT1EZShlKTtyZXR1cm4gQmUoYSx1KSxSZShlKSxhfSxnbj1mdW5jdGlvbihlLG4pe1BlKGUuaXRlbSxuLmxpc3QpfSx2bj1mdW5jdGlvbihmLGUsZCl7dmFyIG49ZS5zbGljZSgwLGQuZGVwdGgpO3JldHVybiBNKG4pLmVhY2goZnVuY3Rpb24oZSl7dmFyIG4sdCxyLG8saSxhLHUscyxjPShuPWYsdD1kLml0ZW1BdHRyaWJ1dGVzLHI9ZC5jb250ZW50LG89Z2UuZnJvbVRhZyhcImxpXCIsbiksZm4obyx0KSxCZShvLHIpLG8pO2E9YyxQZSgoaT1lKS5saXN0LGEpLGkuaXRlbT1hLHM9ZCxMZSgodT1lKS5saXN0KSE9PXMubGlzdFR5cGUmJih1Lmxpc3Q9cG4odS5saXN0LHMubGlzdFR5cGUpKSxmbih1Lmxpc3Qscy5saXN0QXR0cmlidXRlcyl9KSxufSxobj1mdW5jdGlvbihlLG4sdCl7dmFyIHIsbz1mdW5jdGlvbihlLG4sdCl7Zm9yKHZhciByLG8saSxhPVtdLHU9MDt1PHQ7dSsrKWEucHVzaCgocj1lLG89bi5saXN0VHlwZSxpPXtsaXN0OmdlLmZyb21UYWcobyxyKSxpdGVtOmdlLmZyb21UYWcoXCJsaVwiLHIpfSxQZShpLmxpc3QsaS5pdGVtKSxpKSk7cmV0dXJuIGF9KGUsdCx0LmRlcHRoLW4ubGVuZ3RoKTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTE7bjxlLmxlbmd0aDtuKyspZ24oZVtuLTFdLGVbbl0pfShvKSxmdW5jdGlvbihlLG4pe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGgtMTt0Kyspcj1lW3RdLml0ZW0sbz1cImxpc3Qtc3R5bGUtdHlwZVwiLGk9XCJub25lXCIsYT1yLmRvbSgpLGxuKGEsbyxpKTt2YXIgcixvLGksYTtNKGUpLmVhY2goZnVuY3Rpb24oZSl7Zm4oZS5saXN0LG4ubGlzdEF0dHJpYnV0ZXMpLGZuKGUuaXRlbSxuLml0ZW1BdHRyaWJ1dGVzKSxCZShlLml0ZW0sbi5jb250ZW50KX0pfShvLHQpLHI9byxPZShNKG4pLEkociksZ24pLG4uY29uY2F0KG8pfSx5bj1mdW5jdGlvbihlKXtyZXR1cm4gU2UoZSxcIk9MLFVMXCIpfSxTbj1mdW5jdGlvbihlKXtyZXR1cm4geGUoZSkubWFwKHluKS5nZXRPcighMSl9LGJuPWZ1bmN0aW9uKGUpe3JldHVybiAwPGUuZGVwdGh9LENuPWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzU2VsZWN0ZWR9LE5uPWZ1bmN0aW9uKGUpe3ZhciBuPURlKGUpLHQ9QWUoZSkubWFwKHluKS5nZXRPcighMSk/bi5zbGljZSgwLC0xKTpuO3JldHVybiBEKHQsbW4pfSxPbj1mdW5jdGlvbih1KXtyZXR1cm4gayh1LGZ1bmN0aW9uKHIsZSl7dmFyIG4sdCxvLGksYTtvPShuPXUpW3Q9ZV0uZGVwdGgsaT1mdW5jdGlvbihlKXtyZXR1cm4gZS5kZXB0aD09PW8mJiFlLmRpcnR5fSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlLmRlcHRoPG99LEUoUihuLnNsaWNlKDAsdCkpLGksYSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBFKG4uc2xpY2UodCsxKSxpLGEpfSkuZm9sZChmdW5jdGlvbigpe3ZhciBlO3IuZGlydHkmJigoZT1yKS5saXN0QXR0cmlidXRlcz1jbihlLmxpc3RBdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsbil7cmV0dXJuXCJzdGFydFwiIT09bn0pKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQ9ZSwobj1yKS5saXN0VHlwZT10Lmxpc3RUeXBlLHZvaWQobi5saXN0QXR0cmlidXRlcz1VKHt9LHQubGlzdEF0dHJpYnV0ZXMpKTt2YXIgbix0fSl9KSx1fSxMbj1mdW5jdGlvbihpLGEsdSxzKXtyZXR1cm4geGUocykuZmlsdGVyKHluKS5mb2xkKGZ1bmN0aW9uKCl7YS5lYWNoKGZ1bmN0aW9uKGUpe3ZlKGUuc3RhcnQscykmJnUuc2V0KCEwKX0pO3ZhciBuLHQscixlPShuPXMsdD1pLHI9dS5nZXQoKSxUZShuKS5maWx0ZXIod2UpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57ZGVwdGg6dCxkaXJ0eTohMSxpc1NlbGVjdGVkOnIsY29udGVudDpObihuKSxpdGVtQXR0cmlidXRlczpkbihuKSxsaXN0QXR0cmlidXRlczpkbihlKSxsaXN0VHlwZTpMZShlKX19KSk7YS5lYWNoKGZ1bmN0aW9uKGUpe3ZlKGUuZW5kLHMpJiZ1LnNldCghMSl9KTt2YXIgbz1BZShzKS5maWx0ZXIoeW4pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gd24oaSxhLHUsZSl9KS5nZXRPcihbXSk7cmV0dXJuIGUudG9BcnJheSgpLmNvbmNhdChvKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHduKGksYSx1LGUpfSl9LHduPWZ1bmN0aW9uKG4sdCxyLGUpe3JldHVybiBCKERlKGUpLGZ1bmN0aW9uKGUpe3JldHVybih5bihlKT93bjpMbikobisxLHQscixlKX0pfSxUbj1mdW5jdGlvbihlLG4pe3ZhciB0LHI9KHQ9ITEse2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24oZSl7dD1lfX0pO3JldHVybiBEKGUsZnVuY3Rpb24oZSl7cmV0dXJue3NvdXJjZUxpc3Q6ZSxlbnRyaWVzOnduKDAsbixyLGUpfX0pfSxEbj1mdW5jdGlvbihpLGUpe3ZhciBuPU9uKGUpO3JldHVybiBEKG4sZnVuY3Rpb24oZSl7dmFyIG4sdCxyLG89KG49ZS5jb250ZW50LHI9KHR8fHUuZG9jdW1lbnQpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxrKG4sZnVuY3Rpb24oZSl7ci5hcHBlbmRDaGlsZChlLmRvbSgpKX0pLGdlLmZyb21Eb20ocikpO3JldHVybiBnZS5mcm9tRG9tKGFuKGksby5kb20oKSkpfSl9LGtuPWZ1bmN0aW9uKGUsbil7dmFyIHQscixvPU9uKG4pO3JldHVybiB0PWUuY29udGVudERvY3VtZW50LHI9QShvLGZ1bmN0aW9uKGUsbil7cmV0dXJuKG4uZGVwdGg+ZS5sZW5ndGg/aG46dm4pKHQsZSxuKX0sW10pLEkocikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxpc3R9KS50b0FycmF5KCl9LHhuPWZ1bmN0aW9uKHUsZSxzKXt2YXIgbix0PVRuKGUsKG49RChlbih1KSxnZS5mcm9tRG9tKSxPZShQKG4sZihTbikpLFAoUihuKSxmKFNuKSksZnVuY3Rpb24oZSxuKXtyZXR1cm57c3RhcnQ6ZSxlbmQ6bn19KSkpO2sodCxmdW5jdGlvbihlKXt2YXIgbix0O249ZS5lbnRyaWVzLHQ9cyxrKHgobixDbiksZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7c3dpdGNoKGUpe2Nhc2VcIkluZGVudFwiOm4uZGVwdGgrKzticmVhaztjYXNlXCJPdXRkZW50XCI6bi5kZXB0aC0tO2JyZWFrO2Nhc2VcIkZsYXR0ZW5cIjpuLmRlcHRoPTB9bi5kaXJ0eT0hMH0odCxlKX0pO3ZhciByLG8saSxhPShyPXUsbz1lLmVudHJpZXMsQihmdW5jdGlvbihlLG4pe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTtmb3IodmFyIHQ9bihlWzBdKSxyPVtdLG89W10saT0wLGE9ZS5sZW5ndGg7aTxhO2krKyl7dmFyIHU9ZVtpXSxzPW4odSk7cyE9PXQmJihyLnB1c2gobyksbz1bXSksdD1zLG8ucHVzaCh1KX1yZXR1cm4gMCE9PW8ubGVuZ3RoJiZyLnB1c2gobykscn0obyxibiksZnVuY3Rpb24oZSl7cmV0dXJuKEkoZSkubWFwKGJuKS5nZXRPcighMSk/a246RG4pKHIsZSl9KSk7ayhhLGZ1bmN0aW9uKGUpe0llKHUsXCJJbmRlbnRcIj09PXM/XCJJbmRlbnRMaXN0XCI6XCJPdXRkZW50TGlzdFwiLGUuZG9tKCkpfSksaT1lLnNvdXJjZUxpc3QsayhhLGZ1bmN0aW9uKGUpe0VlKGksZSl9KSxSZShlLnNvdXJjZUxpc3QpfSl9LEFuPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS5kb20uRE9NVXRpbHNcIiksRW49QW4uRE9NLFBuPWZ1bmN0aW9uKG4sdCl7U2UodCxcImRkXCIpP3BuKHQsXCJkdFwiKTpTZSh0LFwiZHRcIikmJlRlKHQpLmVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsbix0KXt2YXIgcj1Fbi5zZWxlY3QoJ3NwYW5bZGF0YS1tY2UtdHlwZT1cImJvb2ttYXJrXCJdJyxuKSxvPWFuKGUsdCksaT1Fbi5jcmVhdGVSbmcoKTtpLnNldFN0YXJ0QWZ0ZXIodCksaS5zZXRFbmRBZnRlcihuKTtmb3IodmFyIGEsdT1pLmV4dHJhY3RDb250ZW50cygpLHM9dS5maXJzdENoaWxkO3M7cz1zLmZpcnN0Q2hpbGQpaWYoXCJMSVwiPT09cy5ub2RlTmFtZSYmZS5kb20uaXNFbXB0eShzKSl7RW4ucmVtb3ZlKHMpO2JyZWFrfWUuZG9tLmlzRW1wdHkodSl8fEVuLmluc2VydEFmdGVyKHUsbiksRW4uaW5zZXJ0QWZ0ZXIobyxuKSxZZShlLmRvbSx0LnBhcmVudE5vZGUpJiYoYT10LnBhcmVudE5vZGUsVWUuZWFjaChyLGZ1bmN0aW9uKGUpe2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0LnBhcmVudE5vZGUpfSksRW4ucmVtb3ZlKGEpKSxFbi5yZW1vdmUodCksWWUoZS5kb20sbikmJkVuLnJlbW92ZShuKX0obixlLmRvbSgpLHQuZG9tKCkpfSl9LEJuPWZ1bmN0aW9uKGUpe1NlKGUsXCJkdFwiKSYmcG4oZSxcImRkXCIpfSxSbj1mdW5jdGlvbihlLG4pe2lmKCRlKGUpKXJldHVybntjb250YWluZXI6ZSxvZmZzZXQ6bn07dmFyIHQ9YmUuZ2V0Tm9kZShlLG4pO3JldHVybiAkZSh0KT97Y29udGFpbmVyOnQsb2Zmc2V0Om4+PWUuY2hpbGROb2Rlcy5sZW5ndGg/dC5kYXRhLmxlbmd0aDowfTp0LnByZXZpb3VzU2libGluZyYmJGUodC5wcmV2aW91c1NpYmxpbmcpP3tjb250YWluZXI6dC5wcmV2aW91c1NpYmxpbmcsb2Zmc2V0OnQucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RofTp0Lm5leHRTaWJsaW5nJiYkZSh0Lm5leHRTaWJsaW5nKT97Y29udGFpbmVyOnQubmV4dFNpYmxpbmcsb2Zmc2V0OjB9Ontjb250YWluZXI6ZSxvZmZzZXQ6bn19LEluPWZ1bmN0aW9uKGUpe3ZhciBuPWUuY2xvbmVSYW5nZSgpLHQ9Um4oZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KTtuLnNldFN0YXJ0KHQuY29udGFpbmVyLHQub2Zmc2V0KTt2YXIgcj1SbihlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCk7cmV0dXJuIG4uc2V0RW5kKHIuY29udGFpbmVyLHIub2Zmc2V0KSxufSxNbj1mdW5jdGlvbihlLG4pe3ZhciB0LHI9RChybihlKSxnZS5mcm9tRG9tKSxvPUQoeChlbihlKSxWZSksZ2UuZnJvbURvbSksaT0hMTtpZihyLmxlbmd0aHx8by5sZW5ndGgpe3ZhciBhPWUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk7eG4oZSxyLG4pLHQ9ZSxrKG8sXCJJbmRlbnRcIj09PW4/Qm46ZnVuY3Rpb24oZSl7cmV0dXJuIFBuKHQsZSl9KSxlLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayhhKSxlLnNlbGVjdGlvbi5zZXRSbmcoSW4oZS5zZWxlY3Rpb24uZ2V0Um5nKCkpKSxlLm5vZGVDaGFuZ2VkKCksaT0hMH1yZXR1cm4gaX0sVW49ZnVuY3Rpb24oZSl7cmV0dXJuIE1uKGUsXCJJbmRlbnRcIil9LF9uPWZ1bmN0aW9uKGUpe3JldHVybiBNbihlLFwiT3V0ZGVudFwiKX0sRm49ZnVuY3Rpb24oZSl7cmV0dXJuIE1uKGUsXCJGbGF0dGVuXCIpfSwkbj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuZG9tLkJvb2ttYXJrTWFuYWdlclwiKSxIbj1Bbi5ET00sam49ZnVuY3Rpb24obyl7dmFyIGk9e30sZT1mdW5jdGlvbihlKXt2YXIgbix0LHI7dD1vW2U/XCJzdGFydENvbnRhaW5lclwiOlwiZW5kQ29udGFpbmVyXCJdLHI9b1tlP1wic3RhcnRPZmZzZXRcIjpcImVuZE9mZnNldFwiXSwxPT09dC5ub2RlVHlwZSYmKG49SG4uY3JlYXRlKFwic3BhblwiLHtcImRhdGEtbWNlLXR5cGVcIjpcImJvb2ttYXJrXCJ9KSx0Lmhhc0NoaWxkTm9kZXMoKT8ocj1NYXRoLm1pbihyLHQuY2hpbGROb2Rlcy5sZW5ndGgtMSksZT90Lmluc2VydEJlZm9yZShuLHQuY2hpbGROb2Rlc1tyXSk6SG4uaW5zZXJ0QWZ0ZXIobix0LmNoaWxkTm9kZXNbcl0pKTp0LmFwcGVuZENoaWxkKG4pLHQ9bixyPTApLGlbZT9cInN0YXJ0Q29udGFpbmVyXCI6XCJlbmRDb250YWluZXJcIl09dCxpW2U/XCJzdGFydE9mZnNldFwiOlwiZW5kT2Zmc2V0XCJdPXJ9O3JldHVybiBlKCEwKSxvLmNvbGxhcHNlZHx8ZSgpLGl9LHFuPWZ1bmN0aW9uKG8pe2Z1bmN0aW9uIGUoZSl7dmFyIG4sdCxyO249cj1vW2U/XCJzdGFydENvbnRhaW5lclwiOlwiZW5kQ29udGFpbmVyXCJdLHQ9b1tlP1wic3RhcnRPZmZzZXRcIjpcImVuZE9mZnNldFwiXSxuJiYoMT09PW4ubm9kZVR5cGUmJih0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1lLnBhcmVudE5vZGUuZmlyc3RDaGlsZCx0PTA7bjspe2lmKG49PT1lKXJldHVybiB0OzE9PT1uLm5vZGVUeXBlJiZcImJvb2ttYXJrXCI9PT1uLmdldEF0dHJpYnV0ZShcImRhdGEtbWNlLXR5cGVcIil8fHQrKyxuPW4ubmV4dFNpYmxpbmd9cmV0dXJuLTF9KG4pLG49bi5wYXJlbnROb2RlLEhuLnJlbW92ZShyKSwhbi5oYXNDaGlsZE5vZGVzKCkmJkhuLmlzQmxvY2sobikmJm4uYXBwZW5kQ2hpbGQoSG4uY3JlYXRlKFwiYnJcIikpKSxvW2U/XCJzdGFydENvbnRhaW5lclwiOlwiZW5kQ29udGFpbmVyXCJdPW4sb1tlP1wic3RhcnRPZmZzZXRcIjpcImVuZE9mZnNldFwiXT10KX1lKCEwKSxlKCk7dmFyIG49SG4uY3JlYXRlUm5nKCk7cmV0dXJuIG4uc2V0U3RhcnQoby5zdGFydENvbnRhaW5lcixvLnN0YXJ0T2Zmc2V0KSxvLmVuZENvbnRhaW5lciYmbi5zZXRFbmQoby5lbmRDb250YWluZXIsby5lbmRPZmZzZXQpLEluKG4pfSxLbj1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwiVUxcIjpyZXR1cm5cIlRvZ2dsZVVsTGlzdFwiO2Nhc2VcIk9MXCI6cmV0dXJuXCJUb2dnbGVPbExpc3RcIjtjYXNlXCJETFwiOnJldHVyblwiVG9nZ2xlRExMaXN0XCJ9fSxWbj1mdW5jdGlvbihlKXtyZXR1cm4vXFxidG94XFwtLy50ZXN0KGUuY2xhc3NOYW1lKX0sV249ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWZ1bmN0aW9uKGUpe3ZhciBuPUUoZS5wYXJlbnRzLEhlLFdlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWU9PT10JiYhVm4oZSl9KS5pc1NvbWUoKTtyKG4pfSxvPWUuZG9tLmdldFBhcmVudHMoZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpKTtyZXR1cm4gbih7cGFyZW50czpvfSksZS5vbihcIk5vZGVDaGFuZ2VcIixuKSxmdW5jdGlvbigpe3JldHVybiBlLm9mZihcIk5vZGVDaGFuZ2VcIixuKX19LFFuPWZ1bmN0aW9uKHQsZSl7VWUuZWFjaChlLGZ1bmN0aW9uKGUsbil7dC5zZXRBdHRyaWJ1dGUobixlKX0pfSxYbj1mdW5jdGlvbihlLG4sdCl7dmFyIHIsbyxpLGEsdSxzLGM7cj1lLG89bixhPShpPXQpW1wibGlzdC1zdHlsZS10eXBlXCJdP2lbXCJsaXN0LXN0eWxlLXR5cGVcIl06bnVsbCxyLnNldFN0eWxlKG8sXCJsaXN0LXN0eWxlLXR5cGVcIixhKSx1PWUsUW4ocz1uLChjPXQpW1wibGlzdC1hdHRyaWJ1dGVzXCJdKSxVZS5lYWNoKHUuc2VsZWN0KFwibGlcIixzKSxmdW5jdGlvbihlKXtRbihlLGNbXCJsaXN0LWl0ZW0tYXR0cmlidXRlc1wiXSl9KX0sem49ZnVuY3Rpb24oZSxuLHQscil7dmFyIG89blt0P1wic3RhcnRDb250YWluZXJcIjpcImVuZENvbnRhaW5lclwiXSxpPW5bdD9cInN0YXJ0T2Zmc2V0XCI6XCJlbmRPZmZzZXRcIl07Zm9yKDE9PT1vLm5vZGVUeXBlJiYobz1vLmNoaWxkTm9kZXNbTWF0aC5taW4oaSxvLmNoaWxkTm9kZXMubGVuZ3RoLTEpXXx8byksIXQmJlFlKG8ubmV4dFNpYmxpbmcpJiYobz1vLm5leHRTaWJsaW5nKTtvLnBhcmVudE5vZGUhPT1yOyl7aWYoWGUoZSxvKSlyZXR1cm4gbztpZigvXihURHxUSCkkLy50ZXN0KG8ucGFyZW50Tm9kZS5ub2RlTmFtZSkpcmV0dXJuIG87bz1vLnBhcmVudE5vZGV9cmV0dXJuIG99LFluPWZ1bmN0aW9uKGYsZCxsKXt2b2lkIDA9PT1sJiYobD17fSk7dmFyIGU9Zi5zZWxlY3Rpb24uZ2V0Um5nKCksbT1cIkxJXCIsbj1ubihmLGYuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSkscD1mLmRvbTtpZihcImZhbHNlXCIhPT1wLmdldENvbnRlbnRFZGl0YWJsZShmLnNlbGVjdGlvbi5nZXROb2RlKCkpKXtcIkRMXCI9PT0oZD1kLnRvVXBwZXJDYXNlKCkpJiYobT1cIkRUXCIpO3ZhciB0PWpuKGUpO1VlLmVhY2goZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbyxpPVtdLGE9dC5kb20sbj16bih0LGUsITAsciksdT16bih0LGUsITEscikscz1bXSxjPW47YyYmKHMucHVzaChjKSxjIT09dSk7Yz1jLm5leHRTaWJsaW5nKTtyZXR1cm4gVWUuZWFjaChzLGZ1bmN0aW9uKGUpe2lmKFhlKHQsZSkpcmV0dXJuIGkucHVzaChlKSx2b2lkKG89bnVsbCk7aWYoYS5pc0Jsb2NrKGUpfHxRZShlKSlyZXR1cm4gUWUoZSkmJmEucmVtb3ZlKGUpLHZvaWQobz1udWxsKTt2YXIgbj1lLm5leHRTaWJsaW5nOyRuLmlzQm9va21hcmtOb2RlKGUpJiYoWGUodCxuKXx8IW4mJmUucGFyZW50Tm9kZT09PXIpP289bnVsbDoob3x8KG89YS5jcmVhdGUoXCJwXCIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyxlKSxpLnB1c2gobykpLG8uYXBwZW5kQ2hpbGQoZSkpfSksaX0oZixlLG4pLGZ1bmN0aW9uKGUpe3ZhciBuLHQscixvLGksYSx1LHMsYz1lLnByZXZpb3VzU2libGluZztjJiZIZShjKSYmYy5ub2RlTmFtZT09PWQmJih0PWMscj1sLG89cC5nZXRTdHlsZSh0LFwibGlzdC1zdHlsZS10eXBlXCIpLGk9cj9yW1wibGlzdC1zdHlsZS10eXBlXCJdOlwiXCIsbz09PShpPW51bGw9PT1pP1wiXCI6aSkpPyhuPWMsZT1wLnJlbmFtZShlLG0pLGMuYXBwZW5kQ2hpbGQoZSkpOihuPXAuY3JlYXRlKGQpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobixlKSxuLmFwcGVuZENoaWxkKGUpLGU9cC5yZW5hbWUoZSxtKSksYT1wLHU9ZSxzPVtcIm1hcmdpblwiLFwibWFyZ2luLXJpZ2h0XCIsXCJtYXJnaW4tYm90dG9tXCIsXCJtYXJnaW4tbGVmdFwiLFwibWFyZ2luLXRvcFwiLFwicGFkZGluZ1wiLFwicGFkZGluZy1yaWdodFwiLFwicGFkZGluZy1ib3R0b21cIixcInBhZGRpbmctbGVmdFwiLFwicGFkZGluZy10b3BcIl0sVWUuZWFjaChzLGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBhLnNldFN0eWxlKHUsKChuPXt9KVtlXT1cIlwiLG4pKX0pLFhuKHAsbixsKSxKbihmLmRvbSxuKX0pLGYuc2VsZWN0aW9uLnNldFJuZyhxbih0KSl9fSxHbj1mdW5jdGlvbihlLG4sdCl7cmV0dXJuIHM9dCwodT1uKSYmcyYmSGUodSkmJnUubm9kZU5hbWU9PT1zLm5vZGVOYW1lJiYoaT1uLGE9dCwobz1lKS5nZXRTdHlsZShpLFwibGlzdC1zdHlsZS10eXBlXCIsITApPT09by5nZXRTdHlsZShhLFwibGlzdC1zdHlsZS10eXBlXCIsITApKSYmKHI9dCxuLmNsYXNzTmFtZT09PXIuY2xhc3NOYW1lKTt2YXIgcixvLGksYSx1LHN9LEpuPWZ1bmN0aW9uKGUsbil7dmFyIHQscjtpZih0PW4ubmV4dFNpYmxpbmcsR24oZSxuLHQpKXtmb3IoO3I9dC5maXJzdENoaWxkOyluLmFwcGVuZENoaWxkKHIpO2UucmVtb3ZlKHQpfWlmKHQ9bi5wcmV2aW91c1NpYmxpbmcsR24oZSxuLHQpKXtmb3IoO3I9dC5sYXN0Q2hpbGQ7KW4uaW5zZXJ0QmVmb3JlKHIsbi5maXJzdENoaWxkKTtlLnJlbW92ZSh0KX19LFpuPWZ1bmN0aW9uKG4sZSx0LHIsbyl7aWYoZS5ub2RlTmFtZSE9PXJ8fGV0KG8pKXt2YXIgaT1qbihuLnNlbGVjdGlvbi5nZXRSbmcoITApKTtVZS5lYWNoKFtlXS5jb25jYXQodCksZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsbix0LHIpe2lmKG4ubm9kZU5hbWUhPT10KXt2YXIgbz1lLmRvbS5yZW5hbWUobix0KTtYbihlLmRvbSxvLHIpLEllKGUsS24odCksbyl9ZWxzZSBYbihlLmRvbSxuLHIpLEllKGUsS24odCksbil9KG4sZSxyLG8pfSksbi5zZWxlY3Rpb24uc2V0Um5nKHFuKGkpKX1lbHNlIEZuKG4pfSxldD1mdW5jdGlvbihlKXtyZXR1cm5cImxpc3Qtc3R5bGUtdHlwZVwiaW4gZX0sbnQ9ZnVuY3Rpb24oZSxuLHQpe3ZhciByPUplKGUpLG89WmUoZSk7dD10fHx7fSxyJiYwPG8ubGVuZ3RoP1puKGUscixvLG4sdCk6ZnVuY3Rpb24oZSxuLHQscil7aWYobiE9PWUuZ2V0Qm9keSgpKWlmKG4paWYobi5ub2RlTmFtZSE9PXR8fGV0KHIpfHxWbihuKSl7dmFyIG89am4oZS5zZWxlY3Rpb24uZ2V0Um5nKCEwKSk7WG4oZS5kb20sbixyKTt2YXIgaT1lLmRvbS5yZW5hbWUobix0KTtKbihlLmRvbSxpKSxlLnNlbGVjdGlvbi5zZXRSbmcocW4obykpLEllKGUsS24odCksaSl9ZWxzZSBGbihlKTtlbHNlIFluKGUsdCxyKSxJZShlLEtuKHQpLG4pfShlLHIsbix0KX0sdHQ9QW4uRE9NLHJ0PWZ1bmN0aW9uKGksZSl7VWUuZWFjaChVZS5ncmVwKGkuc2VsZWN0KFwib2wsdWxcIixlKSksZnVuY3Rpb24oZSl7dmFyIG4sdCxyLG87bj1pLFwiTElcIj09PShvPSh0PWUpLnBhcmVudE5vZGUpLm5vZGVOYW1lJiZvLmZpcnN0Q2hpbGQ9PT10JiYoKHI9by5wcmV2aW91c1NpYmxpbmcpJiZcIkxJXCI9PT1yLm5vZGVOYW1lPyhyLmFwcGVuZENoaWxkKHQpLFllKG4sbykmJnR0LnJlbW92ZShvKSk6dHQuc2V0U3R5bGUobyxcImxpc3RTdHlsZVR5cGVcIixcIm5vbmVcIikpLEhlKG8pJiYocj1vLnByZXZpb3VzU2libGluZykmJlwiTElcIj09PXIubm9kZU5hbWUmJnIuYXBwZW5kQ2hpbGQodCl9KX0sb3Q9ZnVuY3Rpb24oZSxuLHQscil7dmFyIG89bi5zdGFydENvbnRhaW5lcixpPW4uc3RhcnRPZmZzZXQ7aWYoJGUobykmJih0P2k8by5kYXRhLmxlbmd0aDowPGkpKXJldHVybiBvO3ZhciBhPWUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTsxPT09by5ub2RlVHlwZSYmKG89YmUuZ2V0Tm9kZShvLGkpKTt2YXIgdSxzLGM9bmV3IENlKG8scik7Zm9yKHQmJih1PWUuZG9tLFFlKHM9bykmJnUuaXNCbG9jayhzLm5leHRTaWJsaW5nKSYmIVFlKHMucHJldmlvdXNTaWJsaW5nKSYmYy5uZXh0KCkpO289Y1t0P1wibmV4dFwiOlwicHJldjJcIl0oKTspe2lmKFwiTElcIj09PW8ubm9kZU5hbWUmJiFvLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm4gbztpZihhW28ubm9kZU5hbWVdKXJldHVybiBvO2lmKCRlKG8pJiYwPG8uZGF0YS5sZW5ndGgpcmV0dXJuIG99fSxpdD1mdW5jdGlvbihlLG4pe3ZhciB0PW4uY2hpbGROb2RlcztyZXR1cm4gMT09PXQubGVuZ3RoJiYhSGUodFswXSkmJmUuaXNCbG9jayh0WzBdKX0sYXQ9ZnVuY3Rpb24oZSxuLHQpe3ZhciByLG8saSxhPWl0KGUsdCk/dC5maXJzdENoaWxkOnQ7aWYoaXQobz1lLGk9bikmJm8ucmVtb3ZlKGkuZmlyc3RDaGlsZCwhMCksIVllKGUsbiwhMCkpZm9yKDtyPW4uZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChyKX0sdXQ9ZnVuY3Rpb24obixlLHQpe3ZhciByLG89ZS5wYXJlbnROb2RlO2lmKEdlKG4sZSkmJkdlKG4sdCkpe0hlKHQubGFzdENoaWxkKSYmKHI9dC5sYXN0Q2hpbGQpLG89PT10Lmxhc3RDaGlsZCYmUWUoby5wcmV2aW91c1NpYmxpbmcpJiZuLnJlbW92ZShvLnByZXZpb3VzU2libGluZyk7dmFyIGk9dC5sYXN0Q2hpbGQ7aSYmUWUoaSkmJmUuaGFzQ2hpbGROb2RlcygpJiZuLnJlbW92ZShpKSxZZShuLHQsITApJiZuLiQodCkuZW1wdHkoKSxhdChuLGUsdCksciYmdC5hcHBlbmRDaGlsZChyKTt2YXIgYT15ZShnZS5mcm9tRG9tKHQpLGdlLmZyb21Eb20oZSkpP24uZ2V0UGFyZW50cyhlLEhlLHQpOltdO24ucmVtb3ZlKGUpLGsoYSxmdW5jdGlvbihlKXtZZShuLGUpJiZlIT09bi5nZXRSb290KCkmJm4ucmVtb3ZlKGUpfSl9fSxzdD1mdW5jdGlvbihlLG4sdCxyKXt2YXIgbyxpLGEsdT1lLmRvbTtpZih1LmlzRW1wdHkocikpaT10LGE9ciwobz1lKS5kb20uJChhKS5lbXB0eSgpLHV0KG8uZG9tLGksYSksby5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oYSk7ZWxzZXt2YXIgcz1qbihuKTt1dCh1LHQsciksZS5zZWxlY3Rpb24uc2V0Um5nKHFuKHMpKX19LGN0PWZ1bmN0aW9uKG4sdCl7dmFyIGU9bi5kb20scj1uLnNlbGVjdGlvbixvPXIuZ2V0U3RhcnQoKSxpPW5uKG4sbyksYT1lLmdldFBhcmVudChyLmdldFN0YXJ0KCksXCJMSVwiLGkpO2lmKGEpe3ZhciB1PWEucGFyZW50Tm9kZTtpZih1PT09bi5nZXRCb2R5KCkmJlllKGUsdSkpcmV0dXJuITA7dmFyIHM9SW4oci5nZXRSbmcoKSksYz1lLmdldFBhcmVudChvdChuLHMsdCxpKSxcIkxJXCIsaSk7aWYoYyYmYyE9PWEpcmV0dXJuIG4udW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXt2YXIgZTt0P3N0KG4scyxjLGEpOihlPWEpLnBhcmVudE5vZGUuZmlyc3RDaGlsZD09PWU/X24obik6ZnVuY3Rpb24oZSxuLHQscil7dmFyIG89am4obik7dXQoZS5kb20sdCxyKTt2YXIgaT1xbihvKTtlLnNlbGVjdGlvbi5zZXRSbmcoaSl9KG4scyxhLGMpfSksITA7aWYoIWMmJiF0JiYwPT09cy5zdGFydE9mZnNldCYmMD09PXMuZW5kT2Zmc2V0KXJldHVybiBuLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7Rm4obil9KSwhMH1yZXR1cm4hMX0sZnQ9ZnVuY3Rpb24obyxpKXt2YXIgYT1vLmRvbSxlPW8uc2VsZWN0aW9uLmdldFN0YXJ0KCksdT1ubihvLGUpLHM9YS5nZXRQYXJlbnQoZSxhLmlzQmxvY2ssdSk7aWYocyYmYS5pc0VtcHR5KHMpKXt2YXIgbj1JbihvLnNlbGVjdGlvbi5nZXRSbmcoKSksYz1hLmdldFBhcmVudChvdChvLG4saSx1KSxcIkxJXCIsdSk7aWYoYylyZXR1cm4gby51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe3ZhciBlLG4sdCxyO249cyx0PXUscj0oZT1hKS5nZXRQYXJlbnQobi5wYXJlbnROb2RlLGUuaXNCbG9jayx0KSxlLnJlbW92ZShuKSxyJiZlLmlzRW1wdHkocikmJmUucmVtb3ZlKHIpLEpuKGEsYy5wYXJlbnROb2RlKSxvLnNlbGVjdGlvbi5zZWxlY3QoYywhMCksby5zZWxlY3Rpb24uY29sbGFwc2UoaSl9KSwhMH1yZXR1cm4hMX0sZHQ9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKT9jdChpPWUsYT1uKXx8ZnQoaSxhKToocj0odD1lKS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxvPW5uKHQsciksISEodC5kb20uZ2V0UGFyZW50KHIsXCJMSSxEVCxERFwiLG8pfHwwPGVuKHQpLmxlbmd0aCkmJih0LnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7dC5leGVjQ29tbWFuZChcIkRlbGV0ZVwiKSxydCh0LmRvbSx0LmdldEJvZHkoKSl9KSwhMCkpO3ZhciB0LHIsbyxpLGF9LGx0PWZ1bmN0aW9uKHQpe3ZhciByPXQuZG9tLGU9SmUodCk7cWUoZSkmJnQud2luZG93TWFuYWdlci5vcGVuKHt0aXRsZTpcIkxpc3QgUHJvcGVydGllc1wiLGJvZHk6e3R5cGU6XCJwYW5lbFwiLGl0ZW1zOlt7dHlwZTpcImlucHV0XCIsbmFtZTpcInN0YXJ0XCIsbGFiZWw6XCJTdGFydCBsaXN0IGF0IG51bWJlclwiLGlucHV0TW9kZTpcIm51bWVyaWNcIn1dfSxpbml0aWFsRGF0YTp7c3RhcnQ6ci5nZXRBdHRyaWIoZSxcInN0YXJ0XCIpfHxcIjFcIn0sYnV0dG9uczpbe3R5cGU6XCJjYW5jZWxcIixuYW1lOlwiY2FuY2VsXCIsdGV4dDpcIkNhbmNlbFwifSx7dHlwZTpcInN1Ym1pdFwiLG5hbWU6XCJzYXZlXCIsdGV4dDpcIlNhdmVcIixwcmltYXJ5OiEwfV0sb25TdWJtaXQ6ZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXREYXRhKCk7dC51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe3Iuc2V0QXR0cmliKEplKHQpLFwic3RhcnRcIixcIjFcIj09PW4uc3RhcnQ/XCJcIjpuLnN0YXJ0KX0pLGUuY2xvc2UoKX19KX0sbXQ9ZnVuY3Rpb24obix0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1uLmRvbS5nZXRQYXJlbnQobi5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxcIlVMLE9MLERMXCIpO3JldHVybiBlJiZlLm5vZGVOYW1lPT09dH19LHB0PWZ1bmN0aW9uKGUpe3ZhciBuLHQ7ZS5nZXRQYXJhbShcImxpc3RzX2luZGVudF9vbl90YWJcIiwhMCkmJihuPWUpLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpe2Uua2V5Q29kZSE9PU5lLlRBQnx8TmUubWV0YUtleVByZXNzZWQoZSl8fG4udW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXsoZS5zaGlmdEtleT9fbjpVbikobikmJmUucHJldmVudERlZmF1bHQoKX0pfSksKHQ9ZSkub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7ZS5rZXlDb2RlPT09TmUuQkFDS1NQQUNFP2R0KHQsITEpJiZlLnByZXZlbnREZWZhdWx0KCk6ZS5rZXlDb2RlPT09TmUuREVMRVRFJiZkdCh0LCEwKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSl9OyFmdW5jdGlvbiBndCgpe2MuYWRkKFwibGlzdHNcIixmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzO3JldHVybiExPT0hKCEvKF58WyAsXSlydGMoWywgXXwkKS8udGVzdChlLmdldFBhcmFtKFwicGx1Z2luc1wiLFwiXCIsXCJzdHJpbmdcIikpfHwhYy5nZXQoXCJydGNcIikpJiYocHQoZSksKHQ9ZSkub24oXCJCZWZvcmVFeGVjQ29tbWFuZFwiLGZ1bmN0aW9uKGUpe3ZhciBuPWUuY29tbWFuZC50b0xvd2VyQ2FzZSgpO1wiaW5kZW50XCI9PT1uP1VuKHQpOlwib3V0ZGVudFwiPT09biYmX24odCl9KSx0LmFkZENvbW1hbmQoXCJJbnNlcnRVbm9yZGVyZWRMaXN0XCIsZnVuY3Rpb24oZSxuKXtudCh0LFwiVUxcIixuKX0pLHQuYWRkQ29tbWFuZChcIkluc2VydE9yZGVyZWRMaXN0XCIsZnVuY3Rpb24oZSxuKXtudCh0LFwiT0xcIixuKX0pLHQuYWRkQ29tbWFuZChcIkluc2VydERlZmluaXRpb25MaXN0XCIsZnVuY3Rpb24oZSxuKXtudCh0LFwiRExcIixuKX0pLHQuYWRkQ29tbWFuZChcIlJlbW92ZUxpc3RcIixmdW5jdGlvbigpe0ZuKHQpfSksdC5hZGRDb21tYW5kKFwibWNlTGlzdFByb3BzXCIsZnVuY3Rpb24oKXtsdCh0KX0pLHQuYWRkUXVlcnlTdGF0ZUhhbmRsZXIoXCJJbnNlcnRVbm9yZGVyZWRMaXN0XCIsbXQodCxcIlVMXCIpKSx0LmFkZFF1ZXJ5U3RhdGVIYW5kbGVyKFwiSW5zZXJ0T3JkZXJlZExpc3RcIixtdCh0LFwiT0xcIikpLHQuYWRkUXVlcnlTdGF0ZUhhbmRsZXIoXCJJbnNlcnREZWZpbml0aW9uTGlzdFwiLG10KHQsXCJETFwiKSkpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG4uZXhlY0NvbW1hbmQoZSl9fSxyPVwiYWR2bGlzdFwiLG89KG49ZSkuZ2V0UGFyYW0oXCJwbHVnaW5zXCIsXCJcIixcInN0cmluZ1wiKSwtMT09PVVlLmluQXJyYXkoby5zcGxpdCgvWyAsXS8pLHIpJiYobi51aS5yZWdpc3RyeS5hZGRUb2dnbGVCdXR0b24oXCJudW1saXN0XCIse2ljb246XCJvcmRlcmVkLWxpc3RcIixhY3RpdmU6ITEsdG9vbHRpcDpcIk51bWJlcmVkIGxpc3RcIixvbkFjdGlvbjppKFwiSW5zZXJ0T3JkZXJlZExpc3RcIiksb25TZXR1cDpmdW5jdGlvbihlKXtyZXR1cm4gV24obixcIk9MXCIsZS5zZXRBY3RpdmUpfX0pLG4udWkucmVnaXN0cnkuYWRkVG9nZ2xlQnV0dG9uKFwiYnVsbGlzdFwiLHtpY29uOlwidW5vcmRlcmVkLWxpc3RcIixhY3RpdmU6ITEsdG9vbHRpcDpcIkJ1bGxldCBsaXN0XCIsb25BY3Rpb246aShcIkluc2VydFVub3JkZXJlZExpc3RcIiksb25TZXR1cDpmdW5jdGlvbihlKXtyZXR1cm4gV24obixcIlVMXCIsZS5zZXRBY3RpdmUpfX0pKSx1PXt0ZXh0OlwiTGlzdCBwcm9wZXJ0aWVzLi4uXCIsaWNvbjpcIm9yZGVyZWQtbGlzdFwiLG9uQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGx0KGEpfSxvblNldHVwOmZ1bmN0aW9uKG4pe3JldHVybiBXbihhLFwiT0xcIixmdW5jdGlvbihlKXtyZXR1cm4gbi5zZXREaXNhYmxlZCghZSl9KX19LChhPWUpLnVpLnJlZ2lzdHJ5LmFkZE1lbnVJdGVtKFwibGlzdHByb3BzXCIsdSksYS51aS5yZWdpc3RyeS5hZGRDb250ZXh0TWVudShcImxpc3RzXCIse3VwZGF0ZTpmdW5jdGlvbihlKXt2YXIgbj1KZShhLGUpO3JldHVybiBxZShuKT9bXCJsaXN0cHJvcHNcIl06W119fSkscz1lLHtiYWNrc3BhY2VEZWxldGU6ZnVuY3Rpb24oZSl7ZHQocyxlKX19fSl9KCl9KHdpbmRvdyk7Il0sInNvdXJjZVJvb3QiOiIifQ==