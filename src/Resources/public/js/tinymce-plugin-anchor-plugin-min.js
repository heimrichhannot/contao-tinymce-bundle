(window.webpackJsonp=window.webpackJsonp||[]).push([["tinymce-plugin-anchor-plugin-min"],{"8g1O":function(e,n){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),o="a:not([href])",a=function(e){return e.getAttribute("id")||e.getAttribute("name")||""},r=function(e){return(n=e)&&"a"===n.nodeName.toLowerCase()&&!e.getAttribute("href")&&""!==a(e);var n},i=function(e){var o=e.dom;n(o).walk(e.selection.getRng(),(function(e){t.each(e,(function(e){var n;r(n=e)&&!n.firstChild&&o.remove(e,!1)}))}))},c=function(e){return e.dom.getParent(e.selection.getStart(),o)},l=function(e){var n,t=(n=c(e))?a(n):"";e.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:t},onSubmit:function(n){var t,o;t=e,o=n.getData().id,(/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(o)?(function(e,n){var t,o,a,r,l,u=c(e);u?(a=e,r=n,(l=u).removeAttribute("name"),l.id=r,a.addVisual(),a.undoManager.add()):(o=n,(t=e).undoManager.transact((function(){t.getParam("allow_html_in_named_anchor",!1,"boolean")||t.selection.collapse(!0),t.selection.isCollapsed()?t.insertContent(t.dom.createHTML("a",{id:o})):(i(t),t.formatter.remove("namedAnchor",null,null,!0),t.formatter.apply("namedAnchor",{value:o}),t.addVisual())}))),e.focus()}(t,o),1):(t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),0))&&n.close()}})},u=function(e){return function(n){for(var t=0;t<n.length;t++){var o=n[t];r=void 0,!(r=a=o)||r.attr("href")||!r.attr("id")&&!r.attr("name")||a.firstChild||o.attr("contenteditable",e)}var a,r}};e.add("anchor",(function(e){var n,t,a;(n=e).on("PreInit",(function(){n.parser.addNodeFilter("a",u("false")),n.serializer.addNodeFilter("a",u(null))})),(t=e).addCommand("mceAnchor",(function(){l(t)})),(a=e).ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return a.execCommand("mceAnchor")},onSetup:function(e){return a.selection.selectorChangedWithUnbind("a:not([href])",e.setActive).unbind}}),a.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return a.execCommand("mceAnchor")}}),e.on("PreInit",(function(){e.formatter.register("namedAnchor",{inline:"a",selector:o,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(e,n,t){return r(e)}})}))}))}()}}]);