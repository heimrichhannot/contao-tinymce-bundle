(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~tinymce-plugin-link-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/link/plugin.min.js":
/*!*********************************************************!*\
  !*** ./node_modules/tinymce/plugins/link/plugin.min.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(i){"use strict";var n,t,e,r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=tinymce.util.Tools.resolve("tinymce.util.VK"),a=function(r){return function(t){return e=typeof(n=t),(null===n?"null":"object"==e&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":e)===r;var n,e}},l=function(n){return function(t){return typeof t===n}},c=a("string"),f=a("array"),s=function(t){return n===t},m=l("boolean"),g=l("function"),d=function(t){var n=t.getParam("link_assume_external_targets",!1);return m(n)&&n?1:!c(n)||"http"!==n&&"https"!==n?0:n},v=function(t){return t.getParam("default_link_target")},h=function(t){return t.getParam("target_list",!0)},p=function(t){return t.getParam("rel_list",[],"array")},y=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},k=function(){},x=function(t){return function(){return t}},b=x(!1),O=x(!(n=null)),w=function(){return C},C=(t=function(t){return t.isNone()},{fold:function(t,n){return t()},is:b,isSome:b,isNone:O,getOr:r=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:x(null),getOrUndefined:x(undefined),or:r,orThunk:e,map:w,each:k,bind:w,exists:b,forall:O,filter:w,equals:t,equals_:t,toArray:function(){return[]},toString:x("none()")}),A=function(e){var t=x(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:O,isNone:b,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return A(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:C},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(b,function(t){return n(e,t)})}};return o},N={some:A,none:w,from:function(t){return null===t||t===undefined?C:A(t)}},P=Array.prototype.indexOf,_=Array.prototype.push,S=function(t,n){return e=t,r=n,-1<P.call(e,r);var e,r},T=function(t){for(var n=[],e=0,r=t.length;e<r;++e){if(!f(t[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+t);_.apply(n,t[e])}return n},D=function(t,n){return T(function(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var i=t[o];r[o]=n(i,o)}return r}(t,n))},M=function(t,n){for(var e=0;e<t.length;e++){var r=n(t[e],e);if(r.isSome())return r}return N.none()},L=function(t,n){return t?N.some(n):N.none()},E=tinymce.util.Tools.resolve("tinymce.util.Tools"),R=function(t){return c(t.value)?t.value:""},U=function(e){return void 0===e&&(e=R),function(t){return N.from(t).map(function(t){return n=t,r=e,o=[],E.each(n,function(t){var n=c(t.text)?t.text:c(t.title)?t.title:"";if(t.menu===undefined){var e=r(t);o.push({text:n,value:e})}}),o;var n,r,o})}},q={sanitize:function(t){return U(R)(t)},sanitizeWith:U,createUi:function(n,e){return function(t){return{name:n,type:"selectbox",label:e,items:t}}},getValue:R},K=function(){return(K=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},z=Object.keys,I=function(t,e,r,o){return function(t,n){for(var e=z(t),r=0,o=e.length;r<o;r++){var i=e[r];n(t[i],i)}}(t,function(t,n){(e(t,n)?r:o)(t,n)}),{}},j=function(t,n){var e,r={};return I(t,n,(e=r,function(t,n){e[n]=t}),k),r},B=function(t){return!(!/(^|[ ,])rtc([, ]|$)/.test(t.getParam("plugins","","string"))||!o.get("rtc"))},V=function(t){return/^\w+:/i.test(t)},F=function(t){var n=t.getAttribute("data-mce-href");return n||t.getAttribute("href")},W=function(t,n){var e,r,o=["noopener"],i=t?t.split(/\s+/):[],u=function(t){return t.filter(function(t){return-1===E.inArray(o,t)})},a=n?0<(e=u(e=i)).length?e.concat(o):o:u(i);return 0<a.length?(r=a,E.trim(r.sort().join(" "))):""},$=function(t,n){return n=n||t.selection.getNode(),Q(n)?t.dom.select("a[href]",n)[0]:t.dom.getParent(n,"a[href]")},H=function(t,n){var e=n?n.innerText||n.textContent:t.getContent({format:"text"});return e.replace(/\uFEFF/g,"")},G=function(t){return t&&"A"===t.nodeName&&!!F(t)},J=function(t){return 0<E.grep(t,G).length},X=function(t){return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")))},Q=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},Y=function(t){return n=["title","rel","class","target"],e=function(n,e){return t[e].each(function(t){n[e]=0<t.length?t:null}),n},r={href:t.href},function(t,n){for(var e=0,r=t.length;e<r;e++)n(t[e],e)}(n,function(t){r=e(r,t)}),r;var n,e,r},Z=function(t,n){var e,r,o=K({},n);if(!(0<p(t).length)&&!1===y(t)){var i=W(o.rel,"_blank"===o.target);o.rel=i||null}return N.from(o.target).isNone()&&!1===h(t)&&(o.target=v(t)),o.href=(e=o.href,"http"!==(r=d(t))&&"https"!==r||V(e)?e:r+"://"+e),o},tt=function(l,c,f){var s=l.selection.getNode(),m=$(l,s),g=Z(l,Y(f));l.undoManager.transact(function(){var n,t,e,r,o,i,u,a;f.href===c.href&&c.attach(),m?(l.focus(),o=l,i=m,u=f.text,a=g,u.each(function(t){i.hasOwnProperty("innerText")?i.innerText=t:i.textContent=t}),o.dom.setAttribs(i,a),o.selection.select(i)):(n=l,t=s,e=f.text,r=g,Q(t)?ot(n,t,r):e.fold(function(){n.execCommand("mceInsertLink",!1,r)},function(t){n.insertContent(n.dom.createHTML("a",r,n.dom.encode(t)))}))})},nt=function(t,n,e){var r,o,i,u,a,l,c;B(t)?t.execCommand("createlink",!1,(o=(r=e)["class"],i=r.href,u=r.rel,a=r.target,l=r.text,c=r.title,j({"class":o.getOrNull(),href:i,rel:u.getOrNull(),target:a.getOrNull(),text:l.getOrNull(),title:c.getOrNull()},function(t,n){return!1===s(t)}))):tt(t,n,e)},et=function(t){var e;B(t)?t.execCommand("unlink"):(e=t).undoManager.transact(function(){var t=e.selection.getNode();if(Q(t))rt(e,t);else{var n=e.dom.getParent(t,"a[href]",e.getBody());n&&e.dom.remove(n,!0)}e.focus()})},rt=function(t,n){var e=t.dom.select("img",n)[0];if(e){var r=t.dom.getParents(e,"a[href]",n)[0];r&&(r.parentNode.insertBefore(e,r),t.dom.remove(r))}},ot=function(t,n,e){var r=t.dom.select("img",n)[0];if(r){var o=t.dom.create("a",e);r.parentNode.insertBefore(o,r),o.appendChild(r)}},it=function(n,t,e,r){var o,i=r[t],u=0<n.length;return i!==undefined?(o=i,M(e,function(t){return L(t.value===o,t)}).map(function(t){return{url:{value:t.value,meta:{text:u?n:t.text,attach:k}},text:u?n:t.text}})):N.none()},ut=function(t,i){var u={text:t.text,title:t.title},r=function(t){var n,e,r=(n=t.url,L(u.text.length<=0,N.from(n.meta.text).getOr(n.value))),o=(e=t.url,L(u.title.length<=0,N.from(e.meta.title).getOr("")));return r.isSome()||o.isSome()?N.some(K(K({},r.map(function(t){return{text:t}}).getOr({})),o.map(function(t){return{title:t}}).getOr({}))):N.none()},o=function(t,n){var e,r,o=(e=i,("link"===(r=n.name)?e.link:"anchor"===r?e.anchor:N.none()).getOr([]));return it(u.text,n.name,o,t)};return{onChange:function(t,n){var e=n.name;return"url"===e?r(t()):S(["anchor","link"],e)?o(t(),n):(("text"===e||"title"===e)&&(u[e]=t()[e]),N.none())}}},at=tinymce.util.Tools.resolve("tinymce.util.Delay"),lt=tinymce.util.Tools.resolve("tinymce.util.Promise"),ct=function(t){var n=t.href;return 0<n.indexOf("@")&&-1===n.indexOf("/")&&-1===n.indexOf("mailto:")?N.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return K(K({},t),{href:"mailto:"+n})}}):N.none()},ft=function(u,a){return M([ct,(e=d(u),r=u.getParam("link_default_protocol","http","string"),function(t){var n=t.href;return 1===e&&!V(n)||0===e&&/^\s*www[\.|\d\.]/i.test(n)?N.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+r+":// prefix?",preprocess:function(t){return K(K({},t),{href:r+"://"+n})}}):N.none()})],function(t){return t(a)}).fold(function(){return lt.resolve(a)},function(i){return new lt(function(n){var e,t,r,o;e=u,t=i.message,r=function(t){n(t?i.preprocess(a):a)},o=e.selection.getRng(),at.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(o),r(t)})})})});var e,r},st=function(t){var n=t.dom.select("a:not([href])"),e=D(n,function(t){var n=t.name||t.id;return n?[{text:n,value:"#"+n}]:[]});return 0<e.length?N.some([{text:"None",value:""}].concat(e)):N.none()},mt=function(t){var n=t.getParam("link_class_list",[],"array");return 0<n.length?q.sanitize(n):N.none()},gt=tinymce.util.Tools.resolve("tinymce.util.XHR"),dt=function(n){var e=function(t){return n.convertURL(t.value||t.url,"href")},t=n.getParam("link_list");return new lt(function(n){c(t)?gt.send({url:t,success:function(t){return n(function(t){try{return N.some(JSON.parse(t))}catch(n){return N.none()}}(t))},error:function(t){return n(N.none())}}):g(t)?t(function(t){return n(N.some(t))}):n(N.from(t))}).then(function(t){return t.bind(q.sanitizeWith(e)).map(function(t){return 0<t.length?[{text:"None",value:""}].concat(t):t})})},ht=function(t,n){var e=p(t);if(0<e.length){var r=n.is("_blank");return(!1===y(t)?q.sanitizeWith(function(t){return W(q.getValue(t),r)}):q.sanitize)(e)}return N.none()},vt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],pt=function(t){var n=h(t);return f(n)?q.sanitize(n).orThunk(function(){return N.some(vt)}):!1===n?N.none():N.some(vt)},yt=function(t,n,e){var r=t.getAttrib(n,e);return null!==r&&0<r.length?N.some(r):N.none()},kt=function(f,s){return dt(f).then(function(t){var n,e,r,o,i,u,a,l,c=(e=s,r=(n=f).dom,o=X(n.selection.getContent())?N.some(H(n.selection,e)):N.none(),i=e?N.some(r.getAttrib(e,"href")):N.none(),u=e?N.from(r.getAttrib(e,"target")):N.none(),a=yt(r,e,"rel"),l=yt(r,e,"class"),{url:i,text:o,title:yt(r,e,"title"),target:u,rel:a,linkClass:l});return{anchor:c,catalogs:{targets:pt(f),rels:ht(f,c.target),classes:mt(f),anchor:st(f),link:t},optNode:N.from(s),flags:{titleEnabled:f.getParam("link_title",!0,"boolean")}}})},xt=function(h){var t,n;(n=$(t=h),kt(t,n)).then(function(t){var i,u,n,e,r,o,a,l,c,f,s,m,g,d;return e=function(t){var e=t.getData();if(!e.url.value)return et(i),void t.close();var n=function(n){return N.from(e[n]).filter(function(t){return!u.anchor[n].is(t)})},r={href:e.url.value,text:n("text"),target:n("target"),rel:n("rel"),"class":n("linkClass"),title:n("title")},o={href:e.url.value,attach:e.url.meta!==undefined&&e.url.meta.attach?e.url.meta.attach:function(){}};ft(i,r).then(function(t){nt(i,o,t)}),t.close()},r=i=h,c=(n=u=t).anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),f=n.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],s=N.from(v(r)),o=s,a=n.anchor,m={url:{value:l=a.url.getOr(""),meta:{original:{value:l}}},text:a.text.getOr(""),title:a.title.getOr(""),anchor:l,link:l,rel:a.rel.getOr(""),target:a.target.or(o).getOr(""),linkClass:a.linkClass.getOr("")},g=n.catalogs,d=ut(m,g),{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:T([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],c,f,function(t){for(var n=[],e=function(t){n.push(t)},r=0;r<t.length;r++)t[r].each(e);return n}([g.anchor.map(q.createUi("anchor","Anchors")),g.rels.map(q.createUi("rel","Rel")),g.targets.map(q.createUi("target","Open link in...")),g.link.map(q.createUi("link","Link list")),g.classes.map(q.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:m,onChange:function(n,t){var e=t.name;d.onChange(n.getData,{name:e}).each(function(t){n.setData(t)})},onSubmit:e}}).then(function(t){h.windowManager.open(t)})},bt=function(t){var n=i.document.createElement("a");n.target="_blank",n.href=t,n.rel="noreferrer noopener";var e,r,o=i.document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,i.window,0,0,0,0,0,!1,!1,!1,!1,0,null),e=n,r=o,i.document.body.appendChild(e),e.dispatchEvent(r),i.document.body.removeChild(e)},Ot=function(t,n){return t.dom.getParent(n,"a[href]")},wt=function(t){return Ot(t,t.selection.getStart())},Ct=function(t,n){if(n){var e=F(n);if(/^#/.test(e)){var r=t.$(e);r.length&&t.selection.scrollIntoView(r[0],!0)}else bt(n.href)}},At=function(t){return function(){xt(t)}},Nt=function(t){return function(){Ct(t,wt(t))}},Pt=function(r){r.on("click",function(t){var n=Ot(r,t.target);n&&u.metaKeyPressed(t)&&(t.preventDefault(),Ct(r,n))}),r.on("keydown",function(t){var n,e=wt(r);e&&13===t.keyCode&&(!0===(n=t).altKey&&!1===n.shiftKey&&!1===n.ctrlKey&&!1===n.metaKey)&&(t.preventDefault(),Ct(r,e))})},_t=function(e){return function(n){var t=function(t){return n.setActive(!e.mode.isReadOnly()&&!!$(e,t.element))};return e.on("NodeChange",t),function(){return e.off("NodeChange",t)}}},St=function(r){return function(n){var t=r.dom.getParents(r.selection.getStart());n.setDisabled(!J(t));var e=function(t){return n.setDisabled(!J(t.parents))};return r.on("NodeChange",e),function(){return r.off("NodeChange",e)}}};!function Tt(){o.add("link",function(t){var n,e,r,i,o,u,a;(n=t).ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:At(n),onSetup:_t(n)}),n.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Nt(n),onSetup:St(n)}),n.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return et(n)},onSetup:St(n)}),(e=t).ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Nt(e),onSetup:St(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:At(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return et(e)},onSetup:St(e)}),(r=t).ui.registry.addContextMenu("link",{update:function(t){return J(r.dom.getParents(t,"a"))?"link unlink openlink":"link"}}),o=function(t){var n=i.selection.getNode();return t.setDisabled(!$(i,n)),function(){}},(i=t).ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:_t(i)},label:"Link",predicate:function(t){return!!$(i,t)&&i.getParam("link_context_toolbar",!1,"boolean")},initValue:function(){var t=$(i);return t?F(t):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(t){var n=i.selection.getNode();return t.setActive(!!$(i,n)),_t(i)(t)},onAction:function(t){var n=$(i),e=t.getValue();if(n)i.undoManager.transact(function(){i.dom.setAttrib(n,"href",e),i.selection.collapse(!1),t.hide()});else{var r={href:e,attach:function(){}},o=X(i.selection.getContent())?N.some(H(i.selection,n)).filter(function(t){return 0<t.length}).or(N.from(e)):N.none();nt(i,r,{href:e,text:o,title:N.none(),rel:N.none(),target:N.none(),"class":N.none()}),t.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:o,onAction:function(t){et(i),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:o,onAction:function(t){Nt(i)(),t.hide()}}]}),Pt(t),(u=t).addCommand("mceLink",function(){u.getParam("link_quicklink",!1,"boolean")?u.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):At(u)()}),(a=t).addShortcut("Meta+K","",function(){a.execCommand("mceLink")})})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL2xpbmsvcGx1Z2luLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxhQUFhLGdJQUFnSSxtQkFBbUIsMFBBQTBQLFNBQVMsZUFBZSxtQkFBbUIscUJBQXFCLDBDQUEwQyxhQUFhLDhDQUE4QyxvREFBb0Qsb0RBQW9ELGVBQWUseUNBQXlDLGVBQWUsb0NBQW9DLGVBQWUseUNBQXlDLGVBQWUsMkRBQTJELGVBQWUsZUFBZSxrQkFBa0IsVUFBVSxxQ0FBcUMsU0FBUyxrQkFBa0Isa0JBQWtCLEVBQUUsbUJBQW1CLFdBQVcsNENBQTRDLFNBQVMsMEJBQTBCLFdBQVcsc0JBQXNCLHNEQUFzRCxtSkFBbUosU0FBUyxzQkFBc0IsZ0JBQWdCLHdCQUF3QixTQUFTLGVBQWUsWUFBWSxJQUFJLG1CQUFtQixZQUFZLGdCQUFnQixhQUFhLCtHQUErRyxlQUFlLGtCQUFrQixLQUFLLDZDQUE2QyxnQkFBZ0Isb0JBQW9CLFVBQVUscUJBQXFCLG9CQUFvQixvQkFBb0IsZUFBZSx1QkFBdUIsNEJBQTRCLGNBQWMsSUFBSSxTQUFTLElBQUksK0JBQStCLHVDQUF1QyxrRUFBa0UsOEJBQThCLFFBQVEsZUFBZSw0QkFBNEIsSUFBSSxLQUFLLGtGQUFrRixnQkFBZ0IsU0FBUyxpQkFBaUIsdUJBQXVCLHNDQUFzQyxJQUFJLEtBQUssV0FBVyxZQUFZLFNBQVMsT0FBTyxpQkFBaUIsWUFBWSxXQUFXLEtBQUssZ0JBQWdCLHVCQUF1QixnQkFBZ0IsaUJBQWlCLDRCQUE0QixrRUFBa0UsNkJBQTZCLGVBQWUscUNBQXFDLGlDQUFpQyx5Q0FBeUMsNkNBQTZDLHVCQUF1QixXQUFXLFFBQVEsZUFBZSxHQUFHLElBQUksVUFBVSxHQUFHLElBQUkscUJBQXFCLGVBQWUsdUNBQXVDLG1CQUFtQixPQUFPLDBD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bnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFRpbnkgVGVjaG5vbG9naWVzLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTEdQTCBvciBhIGNvbW1lcmNpYWwgbGljZW5zZS5cbiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogRm9yIGNvbW1lcmNpYWwgbGljZW5zZXMgc2VlIGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvXG4gKlxuICogVmVyc2lvbjogNS40LjIgKDIwMjAtMDgtMTcpXG4gKi9cbiFmdW5jdGlvbihpKXtcInVzZSBzdHJpY3RcIjt2YXIgbix0LGUscixvPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS5QbHVnaW5NYW5hZ2VyXCIpLHU9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuVktcIiksYT1mdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGU9dHlwZW9mKG49dCksKG51bGw9PT1uP1wibnVsbFwiOlwib2JqZWN0XCI9PWUmJihBcnJheS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihuKXx8bi5jb25zdHJ1Y3RvciYmXCJBcnJheVwiPT09bi5jb25zdHJ1Y3Rvci5uYW1lKT9cImFycmF5XCI6XCJvYmplY3RcIj09ZSYmKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihuKXx8bi5jb25zdHJ1Y3RvciYmXCJTdHJpbmdcIj09PW4uY29uc3RydWN0b3IubmFtZSk/XCJzdHJpbmdcIjplKT09PXI7dmFyIG4sZX19LGw9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09PW59fSxjPWEoXCJzdHJpbmdcIiksZj1hKFwiYXJyYXlcIikscz1mdW5jdGlvbih0KXtyZXR1cm4gbj09PXR9LG09bChcImJvb2xlYW5cIiksZz1sKFwiZnVuY3Rpb25cIiksZD1mdW5jdGlvbih0KXt2YXIgbj10LmdldFBhcmFtKFwibGlua19hc3N1bWVfZXh0ZXJuYWxfdGFyZ2V0c1wiLCExKTtyZXR1cm4gbShuKSYmbj8xOiFjKG4pfHxcImh0dHBcIiE9PW4mJlwiaHR0cHNcIiE9PW4/MDpufSx2PWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFBhcmFtKFwiZGVmYXVsdF9saW5rX3RhcmdldFwiKX0saD1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRQYXJhbShcInRhcmdldF9saXN0XCIsITApfSxwPWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFBhcmFtKFwicmVsX2xpc3RcIixbXSxcImFycmF5XCIpfSx5PWZ1bmN0aW9uKHQpe3JldHVybiB0LmdldFBhcmFtKFwiYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0XCIsITEsXCJib29sZWFuXCIpfSxrPWZ1bmN0aW9uKCl7fSx4PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0sYj14KCExKSxPPXgoIShuPW51bGwpKSx3PWZ1bmN0aW9uKCl7cmV0dXJuIEN9LEM9KHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNOb25lKCl9LHtmb2xkOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHQoKX0saXM6Yixpc1NvbWU6Yixpc05vbmU6TyxnZXRPcjpyPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxnZXRPclRodW5rOmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0sZ2V0T3JEaWU6ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKHR8fFwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLlwiKX0sZ2V0T3JOdWxsOngobnVsbCksZ2V0T3JVbmRlZmluZWQ6eCh1bmRlZmluZWQpLG9yOnIsb3JUaHVuazplLG1hcDp3LGVhY2g6ayxiaW5kOncsZXhpc3RzOmIsZm9yYWxsOk8sZmlsdGVyOncsZXF1YWxzOnQsZXF1YWxzXzp0LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdG9TdHJpbmc6eChcIm5vbmUoKVwiKX0pLEE9ZnVuY3Rpb24oZSl7dmFyIHQ9eChlKSxuPWZ1bmN0aW9uKCl7cmV0dXJuIG99LHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQoZSl9LG89e2ZvbGQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbihlKX0saXM6ZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10fSxpc1NvbWU6Tyxpc05vbmU6YixnZXRPcjp0LGdldE9yVGh1bms6dCxnZXRPckRpZTp0LGdldE9yTnVsbDp0LGdldE9yVW5kZWZpbmVkOnQsb3I6bixvclRodW5rOm4sbWFwOmZ1bmN0aW9uKHQpe3JldHVybiBBKHQoZSkpfSxlYWNoOmZ1bmN0aW9uKHQpe3QoZSl9LGJpbmQ6cixleGlzdHM6cixmb3JhbGw6cixmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQoZSk/bzpDfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW2VdfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwic29tZShcIitlK1wiKVwifSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMoZSl9LGVxdWFsc186ZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5mb2xkKGIsZnVuY3Rpb24odCl7cmV0dXJuIG4oZSx0KX0pfX07cmV0dXJuIG99LE49e3NvbWU6QSxub25lOncsZnJvbTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXR8fHQ9PT11bmRlZmluZWQ/QzpBKHQpfX0sUD1BcnJheS5wcm90b3R5cGUuaW5kZXhPZixfPUFycmF5LnByb3RvdHlwZS5wdXNoLFM9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZT10LHI9biwtMTxQLmNhbGwoZSxyKTt2YXIgZSxyfSxUPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1bXSxlPTAscj10Lmxlbmd0aDtlPHI7KytlKXtpZighZih0W2VdKSl0aHJvdyBuZXcgRXJyb3IoXCJBcnIuZmxhdHRlbiBpdGVtIFwiK2UrXCIgd2FzIG5vdCBhbiBhcnJheSwgaW5wdXQ6IFwiK3QpO18uYXBwbHkobix0W2VdKX1yZXR1cm4gbn0sRD1mdW5jdGlvbih0LG4pe3JldHVybiBUKGZ1bmN0aW9uKHQsbil7Zm9yKHZhciBlPXQubGVuZ3RoLHI9bmV3IEFycmF5KGUpLG89MDtvPGU7bysrKXt2YXIgaT10W29dO3Jbb109bihpLG8pfXJldHVybiByfSh0LG4pKX0sTT1mdW5jdGlvbih0LG4pe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj1uKHRbZV0sZSk7aWYoci5pc1NvbWUoKSlyZXR1cm4gcn1yZXR1cm4gTi5ub25lKCl9LEw9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD9OLnNvbWUobik6Ti5ub25lKCl9LEU9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuVG9vbHNcIiksUj1mdW5jdGlvbih0KXtyZXR1cm4gYyh0LnZhbHVlKT90LnZhbHVlOlwiXCJ9LFU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVIpLGZ1bmN0aW9uKHQpe3JldHVybiBOLmZyb20odCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuPXQscj1lLG89W10sRS5lYWNoKG4sZnVuY3Rpb24odCl7dmFyIG49Yyh0LnRleHQpP3QudGV4dDpjKHQudGl0bGUpP3QudGl0bGU6XCJcIjtpZih0Lm1lbnU9PT11bmRlZmluZWQpe3ZhciBlPXIodCk7by5wdXNoKHt0ZXh0Om4sdmFsdWU6ZX0pfX0pLG87dmFyIG4scixvfSl9fSxxPXtzYW5pdGl6ZTpmdW5jdGlvbih0KXtyZXR1cm4gVShSKSh0KX0sc2FuaXRpemVXaXRoOlUsY3JlYXRlVWk6ZnVuY3Rpb24obixlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJue25hbWU6bix0eXBlOlwic2VsZWN0Ym94XCIsbGFiZWw6ZSxpdGVtczp0fX19LGdldFZhbHVlOlJ9LEs9ZnVuY3Rpb24oKXtyZXR1cm4oSz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIG4sZT0xLHI9YXJndW1lbnRzLmxlbmd0aDtlPHI7ZSsrKWZvcih2YXIgbyBpbiBuPWFyZ3VtZW50c1tlXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixvKSYmKHRbb109bltvXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHo9T2JqZWN0LmtleXMsST1mdW5jdGlvbih0LGUscixvKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtmb3IodmFyIGU9eih0KSxyPTAsbz1lLmxlbmd0aDtyPG87cisrKXt2YXIgaT1lW3JdO24odFtpXSxpKX19KHQsZnVuY3Rpb24odCxuKXsoZSh0LG4pP3I6bykodCxuKX0pLHt9fSxqPWZ1bmN0aW9uKHQsbil7dmFyIGUscj17fTtyZXR1cm4gSSh0LG4sKGU9cixmdW5jdGlvbih0LG4pe2Vbbl09dH0pLGspLHJ9LEI9ZnVuY3Rpb24odCl7cmV0dXJuISghLyhefFsgLF0pcnRjKFssIF18JCkvLnRlc3QodC5nZXRQYXJhbShcInBsdWdpbnNcIixcIlwiLFwic3RyaW5nXCIpKXx8IW8uZ2V0KFwicnRjXCIpKX0sVj1mdW5jdGlvbih0KXtyZXR1cm4vXlxcdys6L2kudGVzdCh0KX0sRj1mdW5jdGlvbih0KXt2YXIgbj10LmdldEF0dHJpYnV0ZShcImRhdGEtbWNlLWhyZWZcIik7cmV0dXJuIG58fHQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0sVz1mdW5jdGlvbih0LG4pe3ZhciBlLHIsbz1bXCJub29wZW5lclwiXSxpPXQ/dC5zcGxpdCgvXFxzKy8pOltdLHU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybi0xPT09RS5pbkFycmF5KG8sdCl9KX0sYT1uPzA8KGU9dShlPWkpKS5sZW5ndGg/ZS5jb25jYXQobyk6bzp1KGkpO3JldHVybiAwPGEubGVuZ3RoPyhyPWEsRS50cmltKHIuc29ydCgpLmpvaW4oXCIgXCIpKSk6XCJcIn0sJD1mdW5jdGlvbih0LG4pe3JldHVybiBuPW58fHQuc2VsZWN0aW9uLmdldE5vZGUoKSxRKG4pP3QuZG9tLnNlbGVjdChcImFbaHJlZl1cIixuKVswXTp0LmRvbS5nZXRQYXJlbnQobixcImFbaHJlZl1cIil9LEg9ZnVuY3Rpb24odCxuKXt2YXIgZT1uP24uaW5uZXJUZXh0fHxuLnRleHRDb250ZW50OnQuZ2V0Q29udGVudCh7Zm9ybWF0OlwidGV4dFwifSk7cmV0dXJuIGUucmVwbGFjZSgvXFx1RkVGRi9nLFwiXCIpfSxHPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIkFcIj09PXQubm9kZU5hbWUmJiEhRih0KX0sSj1mdW5jdGlvbih0KXtyZXR1cm4gMDxFLmdyZXAodCxHKS5sZW5ndGh9LFg9ZnVuY3Rpb24odCl7cmV0dXJuISgvPC8udGVzdCh0KSYmKCEvXjxhIFtePl0rPltePF0rPFxcL2E+JC8udGVzdCh0KXx8LTE9PT10LmluZGV4T2YoXCJocmVmPVwiKSkpfSxRPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIkZJR1VSRVwiPT09dC5ub2RlTmFtZSYmL1xcYmltYWdlXFxiL2kudGVzdCh0LmNsYXNzTmFtZSl9LFk9ZnVuY3Rpb24odCl7cmV0dXJuIG49W1widGl0bGVcIixcInJlbFwiLFwiY2xhc3NcIixcInRhcmdldFwiXSxlPWZ1bmN0aW9uKG4sZSl7cmV0dXJuIHRbZV0uZWFjaChmdW5jdGlvbih0KXtuW2VdPTA8dC5sZW5ndGg/dDpudWxsfSksbn0scj17aHJlZjp0LmhyZWZ9LGZ1bmN0aW9uKHQsbil7Zm9yKHZhciBlPTAscj10Lmxlbmd0aDtlPHI7ZSsrKW4odFtlXSxlKX0obixmdW5jdGlvbih0KXtyPWUocix0KX0pLHI7dmFyIG4sZSxyfSxaPWZ1bmN0aW9uKHQsbil7dmFyIGUscixvPUsoe30sbik7aWYoISgwPHAodCkubGVuZ3RoKSYmITE9PT15KHQpKXt2YXIgaT1XKG8ucmVsLFwiX2JsYW5rXCI9PT1vLnRhcmdldCk7by5yZWw9aXx8bnVsbH1yZXR1cm4gTi5mcm9tKG8udGFyZ2V0KS5pc05vbmUoKSYmITE9PT1oKHQpJiYoby50YXJnZXQ9dih0KSksby5ocmVmPShlPW8uaHJlZixcImh0dHBcIiE9PShyPWQodCkpJiZcImh0dHBzXCIhPT1yfHxWKGUpP2U6citcIjovL1wiK2UpLG99LHR0PWZ1bmN0aW9uKGwsYyxmKXt2YXIgcz1sLnNlbGVjdGlvbi5nZXROb2RlKCksbT0kKGwscyksZz1aKGwsWShmKSk7bC51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe3ZhciBuLHQsZSxyLG8saSx1LGE7Zi5ocmVmPT09Yy5ocmVmJiZjLmF0dGFjaCgpLG0/KGwuZm9jdXMoKSxvPWwsaT1tLHU9Zi50ZXh0LGE9Zyx1LmVhY2goZnVuY3Rpb24odCl7aS5oYXNPd25Qcm9wZXJ0eShcImlubmVyVGV4dFwiKT9pLmlubmVyVGV4dD10OmkudGV4dENvbnRlbnQ9dH0pLG8uZG9tLnNldEF0dHJpYnMoaSxhKSxvLnNlbGVjdGlvbi5zZWxlY3QoaSkpOihuPWwsdD1zLGU9Zi50ZXh0LHI9ZyxRKHQpP290KG4sdCxyKTplLmZvbGQoZnVuY3Rpb24oKXtuLmV4ZWNDb21tYW5kKFwibWNlSW5zZXJ0TGlua1wiLCExLHIpfSxmdW5jdGlvbih0KXtuLmluc2VydENvbnRlbnQobi5kb20uY3JlYXRlSFRNTChcImFcIixyLG4uZG9tLmVuY29kZSh0KSkpfSkpfSl9LG50PWZ1bmN0aW9uKHQsbixlKXt2YXIgcixvLGksdSxhLGwsYztCKHQpP3QuZXhlY0NvbW1hbmQoXCJjcmVhdGVsaW5rXCIsITEsKG89KHI9ZSlbXCJjbGFzc1wiXSxpPXIuaHJlZix1PXIucmVsLGE9ci50YXJnZXQsbD1yLnRleHQsYz1yLnRpdGxlLGooe1wiY2xhc3NcIjpvLmdldE9yTnVsbCgpLGhyZWY6aSxyZWw6dS5nZXRPck51bGwoKSx0YXJnZXQ6YS5nZXRPck51bGwoKSx0ZXh0OmwuZ2V0T3JOdWxsKCksdGl0bGU6Yy5nZXRPck51bGwoKX0sZnVuY3Rpb24odCxuKXtyZXR1cm4hMT09PXModCl9KSkpOnR0KHQsbixlKX0sZXQ9ZnVuY3Rpb24odCl7dmFyIGU7Qih0KT90LmV4ZWNDb21tYW5kKFwidW5saW5rXCIpOihlPXQpLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7dmFyIHQ9ZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpO2lmKFEodCkpcnQoZSx0KTtlbHNle3ZhciBuPWUuZG9tLmdldFBhcmVudCh0LFwiYVtocmVmXVwiLGUuZ2V0Qm9keSgpKTtuJiZlLmRvbS5yZW1vdmUobiwhMCl9ZS5mb2N1cygpfSl9LHJ0PWZ1bmN0aW9uKHQsbil7dmFyIGU9dC5kb20uc2VsZWN0KFwiaW1nXCIsbilbMF07aWYoZSl7dmFyIHI9dC5kb20uZ2V0UGFyZW50cyhlLFwiYVtocmVmXVwiLG4pWzBdO3ImJihyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsciksdC5kb20ucmVtb3ZlKHIpKX19LG90PWZ1bmN0aW9uKHQsbixlKXt2YXIgcj10LmRvbS5zZWxlY3QoXCJpbWdcIixuKVswXTtpZihyKXt2YXIgbz10LmRvbS5jcmVhdGUoXCJhXCIsZSk7ci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvLHIpLG8uYXBwZW5kQ2hpbGQocil9fSxpdD1mdW5jdGlvbihuLHQsZSxyKXt2YXIgbyxpPXJbdF0sdT0wPG4ubGVuZ3RoO3JldHVybiBpIT09dW5kZWZpbmVkPyhvPWksTShlLGZ1bmN0aW9uKHQpe3JldHVybiBMKHQudmFsdWU9PT1vLHQpfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybnt1cmw6e3ZhbHVlOnQudmFsdWUsbWV0YTp7dGV4dDp1P246dC50ZXh0LGF0dGFjaDprfX0sdGV4dDp1P246dC50ZXh0fX0pKTpOLm5vbmUoKX0sdXQ9ZnVuY3Rpb24odCxpKXt2YXIgdT17dGV4dDp0LnRleHQsdGl0bGU6dC50aXRsZX0scj1mdW5jdGlvbih0KXt2YXIgbixlLHI9KG49dC51cmwsTCh1LnRleHQubGVuZ3RoPD0wLE4uZnJvbShuLm1ldGEudGV4dCkuZ2V0T3Iobi52YWx1ZSkpKSxvPShlPXQudXJsLEwodS50aXRsZS5sZW5ndGg8PTAsTi5mcm9tKGUubWV0YS50aXRsZSkuZ2V0T3IoXCJcIikpKTtyZXR1cm4gci5pc1NvbWUoKXx8by5pc1NvbWUoKT9OLnNvbWUoSyhLKHt9LHIubWFwKGZ1bmN0aW9uKHQpe3JldHVybnt0ZXh0OnR9fSkuZ2V0T3Ioe30pKSxvLm1hcChmdW5jdGlvbih0KXtyZXR1cm57dGl0bGU6dH19KS5nZXRPcih7fSkpKTpOLm5vbmUoKX0sbz1mdW5jdGlvbih0LG4pe3ZhciBlLHIsbz0oZT1pLChcImxpbmtcIj09PShyPW4ubmFtZSk/ZS5saW5rOlwiYW5jaG9yXCI9PT1yP2UuYW5jaG9yOk4ubm9uZSgpKS5nZXRPcihbXSkpO3JldHVybiBpdCh1LnRleHQsbi5uYW1lLG8sdCl9O3JldHVybntvbkNoYW5nZTpmdW5jdGlvbih0LG4pe3ZhciBlPW4ubmFtZTtyZXR1cm5cInVybFwiPT09ZT9yKHQoKSk6UyhbXCJhbmNob3JcIixcImxpbmtcIl0sZSk/byh0KCksbik6KChcInRleHRcIj09PWV8fFwidGl0bGVcIj09PWUpJiYodVtlXT10KClbZV0pLE4ubm9uZSgpKX19fSxhdD10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UudXRpbC5EZWxheVwiKSxsdD10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UudXRpbC5Qcm9taXNlXCIpLGN0PWZ1bmN0aW9uKHQpe3ZhciBuPXQuaHJlZjtyZXR1cm4gMDxuLmluZGV4T2YoXCJAXCIpJiYtMT09PW4uaW5kZXhPZihcIi9cIikmJi0xPT09bi5pbmRleE9mKFwibWFpbHRvOlwiKT9OLnNvbWUoe21lc3NhZ2U6XCJUaGUgVVJMIHlvdSBlbnRlcmVkIHNlZW1zIHRvIGJlIGFuIGVtYWlsIGFkZHJlc3MuIERvIHlvdSB3YW50IHRvIGFkZCB0aGUgcmVxdWlyZWQgbWFpbHRvOiBwcmVmaXg/XCIscHJlcHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm4gSyhLKHt9LHQpLHtocmVmOlwibWFpbHRvOlwiK259KX19KTpOLm5vbmUoKX0sZnQ9ZnVuY3Rpb24odSxhKXtyZXR1cm4gTShbY3QsKGU9ZCh1KSxyPXUuZ2V0UGFyYW0oXCJsaW5rX2RlZmF1bHRfcHJvdG9jb2xcIixcImh0dHBcIixcInN0cmluZ1wiKSxmdW5jdGlvbih0KXt2YXIgbj10LmhyZWY7cmV0dXJuIDE9PT1lJiYhVihuKXx8MD09PWUmJi9eXFxzKnd3d1tcXC58XFxkXFwuXS9pLnRlc3Qobik/Ti5zb21lKHttZXNzYWdlOlwiVGhlIFVSTCB5b3UgZW50ZXJlZCBzZWVtcyB0byBiZSBhbiBleHRlcm5hbCBsaW5rLiBEbyB5b3Ugd2FudCB0byBhZGQgdGhlIHJlcXVpcmVkIFwiK3IrXCI6Ly8gcHJlZml4P1wiLHByZXByb2Nlc3M6ZnVuY3Rpb24odCl7cmV0dXJuIEsoSyh7fSx0KSx7aHJlZjpyK1wiOi8vXCIrbn0pfX0pOk4ubm9uZSgpfSldLGZ1bmN0aW9uKHQpe3JldHVybiB0KGEpfSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBsdC5yZXNvbHZlKGEpfSxmdW5jdGlvbihpKXtyZXR1cm4gbmV3IGx0KGZ1bmN0aW9uKG4pe3ZhciBlLHQscixvO2U9dSx0PWkubWVzc2FnZSxyPWZ1bmN0aW9uKHQpe24odD9pLnByZXByb2Nlc3MoYSk6YSl9LG89ZS5zZWxlY3Rpb24uZ2V0Um5nKCksYXQuc2V0RWRpdG9yVGltZW91dChlLGZ1bmN0aW9uKCl7ZS53aW5kb3dNYW5hZ2VyLmNvbmZpcm0odCxmdW5jdGlvbih0KXtlLnNlbGVjdGlvbi5zZXRSbmcobykscih0KX0pfSl9KX0pO3ZhciBlLHJ9LHN0PWZ1bmN0aW9uKHQpe3ZhciBuPXQuZG9tLnNlbGVjdChcImE6bm90KFtocmVmXSlcIiksZT1EKG4sZnVuY3Rpb24odCl7dmFyIG49dC5uYW1lfHx0LmlkO3JldHVybiBuP1t7dGV4dDpuLHZhbHVlOlwiI1wiK259XTpbXX0pO3JldHVybiAwPGUubGVuZ3RoP04uc29tZShbe3RleHQ6XCJOb25lXCIsdmFsdWU6XCJcIn1dLmNvbmNhdChlKSk6Ti5ub25lKCl9LG10PWZ1bmN0aW9uKHQpe3ZhciBuPXQuZ2V0UGFyYW0oXCJsaW5rX2NsYXNzX2xpc3RcIixbXSxcImFycmF5XCIpO3JldHVybiAwPG4ubGVuZ3RoP3Euc2FuaXRpemUobik6Ti5ub25lKCl9LGd0PXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLlhIUlwiKSxkdD1mdW5jdGlvbihuKXt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gbi5jb252ZXJ0VVJMKHQudmFsdWV8fHQudXJsLFwiaHJlZlwiKX0sdD1uLmdldFBhcmFtKFwibGlua19saXN0XCIpO3JldHVybiBuZXcgbHQoZnVuY3Rpb24obil7Yyh0KT9ndC5zZW5kKHt1cmw6dCxzdWNjZXNzOmZ1bmN0aW9uKHQpe3JldHVybiBuKGZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gTi5zb21lKEpTT04ucGFyc2UodCkpfWNhdGNoKG4pe3JldHVybiBOLm5vbmUoKX19KHQpKX0sZXJyb3I6ZnVuY3Rpb24odCl7cmV0dXJuIG4oTi5ub25lKCkpfX0pOmcodCk/dChmdW5jdGlvbih0KXtyZXR1cm4gbihOLnNvbWUodCkpfSk6bihOLmZyb20odCkpfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5iaW5kKHEuc2FuaXRpemVXaXRoKGUpKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIDA8dC5sZW5ndGg/W3t0ZXh0OlwiTm9uZVwiLHZhbHVlOlwiXCJ9XS5jb25jYXQodCk6dH0pfSl9LGh0PWZ1bmN0aW9uKHQsbil7dmFyIGU9cCh0KTtpZigwPGUubGVuZ3RoKXt2YXIgcj1uLmlzKFwiX2JsYW5rXCIpO3JldHVybighMT09PXkodCk/cS5zYW5pdGl6ZVdpdGgoZnVuY3Rpb24odCl7cmV0dXJuIFcocS5nZXRWYWx1ZSh0KSxyKX0pOnEuc2FuaXRpemUpKGUpfXJldHVybiBOLm5vbmUoKX0sdnQ9W3t0ZXh0OlwiQ3VycmVudCB3aW5kb3dcIix2YWx1ZTpcIlwifSx7dGV4dDpcIk5ldyB3aW5kb3dcIix2YWx1ZTpcIl9ibGFua1wifV0scHQ9ZnVuY3Rpb24odCl7dmFyIG49aCh0KTtyZXR1cm4gZihuKT9xLnNhbml0aXplKG4pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gTi5zb21lKHZ0KX0pOiExPT09bj9OLm5vbmUoKTpOLnNvbWUodnQpfSx5dD1mdW5jdGlvbih0LG4sZSl7dmFyIHI9dC5nZXRBdHRyaWIobixlKTtyZXR1cm4gbnVsbCE9PXImJjA8ci5sZW5ndGg/Ti5zb21lKHIpOk4ubm9uZSgpfSxrdD1mdW5jdGlvbihmLHMpe3JldHVybiBkdChmKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBuLGUscixvLGksdSxhLGwsYz0oZT1zLHI9KG49ZikuZG9tLG89WChuLnNlbGVjdGlvbi5nZXRDb250ZW50KCkpP04uc29tZShIKG4uc2VsZWN0aW9uLGUpKTpOLm5vbmUoKSxpPWU/Ti5zb21lKHIuZ2V0QXR0cmliKGUsXCJocmVmXCIpKTpOLm5vbmUoKSx1PWU/Ti5mcm9tKHIuZ2V0QXR0cmliKGUsXCJ0YXJnZXRcIikpOk4ubm9uZSgpLGE9eXQocixlLFwicmVsXCIpLGw9eXQocixlLFwiY2xhc3NcIikse3VybDppLHRleHQ6byx0aXRsZTp5dChyLGUsXCJ0aXRsZVwiKSx0YXJnZXQ6dSxyZWw6YSxsaW5rQ2xhc3M6bH0pO3JldHVybnthbmNob3I6YyxjYXRhbG9nczp7dGFyZ2V0czpwdChmKSxyZWxzOmh0KGYsYy50YXJnZXQpLGNsYXNzZXM6bXQoZiksYW5jaG9yOnN0KGYpLGxpbms6dH0sb3B0Tm9kZTpOLmZyb20ocyksZmxhZ3M6e3RpdGxlRW5hYmxlZDpmLmdldFBhcmFtKFwibGlua190aXRsZVwiLCEwLFwiYm9vbGVhblwiKX19fSl9LHh0PWZ1bmN0aW9uKGgpe3ZhciB0LG47KG49JCh0PWgpLGt0KHQsbikpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGksdSxuLGUscixvLGEsbCxjLGYscyxtLGcsZDtyZXR1cm4gZT1mdW5jdGlvbih0KXt2YXIgZT10LmdldERhdGEoKTtpZighZS51cmwudmFsdWUpcmV0dXJuIGV0KGkpLHZvaWQgdC5jbG9zZSgpO3ZhciBuPWZ1bmN0aW9uKG4pe3JldHVybiBOLmZyb20oZVtuXSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF1LmFuY2hvcltuXS5pcyh0KX0pfSxyPXtocmVmOmUudXJsLnZhbHVlLHRleHQ6bihcInRleHRcIiksdGFyZ2V0Om4oXCJ0YXJnZXRcIikscmVsOm4oXCJyZWxcIiksXCJjbGFzc1wiOm4oXCJsaW5rQ2xhc3NcIiksdGl0bGU6bihcInRpdGxlXCIpfSxvPXtocmVmOmUudXJsLnZhbHVlLGF0dGFjaDplLnVybC5tZXRhIT09dW5kZWZpbmVkJiZlLnVybC5tZXRhLmF0dGFjaD9lLnVybC5tZXRhLmF0dGFjaDpmdW5jdGlvbigpe319O2Z0KGkscikudGhlbihmdW5jdGlvbih0KXtudChpLG8sdCl9KSx0LmNsb3NlKCl9LHI9aT1oLGM9KG49dT10KS5hbmNob3IudGV4dC5tYXAoZnVuY3Rpb24oKXtyZXR1cm57bmFtZTpcInRleHRcIix0eXBlOlwiaW5wdXRcIixsYWJlbDpcIlRleHQgdG8gZGlzcGxheVwifX0pLnRvQXJyYXkoKSxmPW4uZmxhZ3MudGl0bGVFbmFibGVkP1t7bmFtZTpcInRpdGxlXCIsdHlwZTpcImlucHV0XCIsbGFiZWw6XCJUaXRsZVwifV06W10scz1OLmZyb20odihyKSksbz1zLGE9bi5hbmNob3IsbT17dXJsOnt2YWx1ZTpsPWEudXJsLmdldE9yKFwiXCIpLG1ldGE6e29yaWdpbmFsOnt2YWx1ZTpsfX19LHRleHQ6YS50ZXh0LmdldE9yKFwiXCIpLHRpdGxlOmEudGl0bGUuZ2V0T3IoXCJcIiksYW5jaG9yOmwsbGluazpsLHJlbDphLnJlbC5nZXRPcihcIlwiKSx0YXJnZXQ6YS50YXJnZXQub3IobykuZ2V0T3IoXCJcIiksbGlua0NsYXNzOmEubGlua0NsYXNzLmdldE9yKFwiXCIpfSxnPW4uY2F0YWxvZ3MsZD11dChtLGcpLHt0aXRsZTpcIkluc2VydC9FZGl0IExpbmtcIixzaXplOlwibm9ybWFsXCIsYm9keTp7dHlwZTpcInBhbmVsXCIsaXRlbXM6VChbW3tuYW1lOlwidXJsXCIsdHlwZTpcInVybGlucHV0XCIsZmlsZXR5cGU6XCJmaWxlXCIsbGFiZWw6XCJVUkxcIn1dLGMsZixmdW5jdGlvbih0KXtmb3IodmFyIG49W10sZT1mdW5jdGlvbih0KXtuLnB1c2godCl9LHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdLmVhY2goZSk7cmV0dXJuIG59KFtnLmFuY2hvci5tYXAocS5jcmVhdGVVaShcImFuY2hvclwiLFwiQW5jaG9yc1wiKSksZy5yZWxzLm1hcChxLmNyZWF0ZVVpKFwicmVsXCIsXCJSZWxcIikpLGcudGFyZ2V0cy5tYXAocS5jcmVhdGVVaShcInRhcmdldFwiLFwiT3BlbiBsaW5rIGluLi4uXCIpKSxnLmxpbmsubWFwKHEuY3JlYXRlVWkoXCJsaW5rXCIsXCJMaW5rIGxpc3RcIikpLGcuY2xhc3Nlcy5tYXAocS5jcmVhdGVVaShcImxpbmtDbGFzc1wiLFwiQ2xhc3NcIikpXSldKX0sYnV0dG9uczpbe3R5cGU6XCJjYW5jZWxcIixuYW1lOlwiY2FuY2VsXCIsdGV4dDpcIkNhbmNlbFwifSx7dHlwZTpcInN1Ym1pdFwiLG5hbWU6XCJzYXZlXCIsdGV4dDpcIlNhdmVcIixwcmltYXJ5OiEwfV0saW5pdGlhbERhdGE6bSxvbkNoYW5nZTpmdW5jdGlvbihuLHQpe3ZhciBlPXQubmFtZTtkLm9uQ2hhbmdlKG4uZ2V0RGF0YSx7bmFtZTplfSkuZWFjaChmdW5jdGlvbih0KXtuLnNldERhdGEodCl9KX0sb25TdWJtaXQ6ZX19KS50aGVuKGZ1bmN0aW9uKHQpe2gud2luZG93TWFuYWdlci5vcGVuKHQpfSl9LGJ0PWZ1bmN0aW9uKHQpe3ZhciBuPWkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7bi50YXJnZXQ9XCJfYmxhbmtcIixuLmhyZWY9dCxuLnJlbD1cIm5vcmVmZXJyZXIgbm9vcGVuZXJcIjt2YXIgZSxyLG89aS5kb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO28uaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCEwLCEwLGkud2luZG93LDAsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGwpLGU9bixyPW8saS5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLGUuZGlzcGF0Y2hFdmVudChyKSxpLmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZSl9LE90PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuZG9tLmdldFBhcmVudChuLFwiYVtocmVmXVwiKX0sd3Q9ZnVuY3Rpb24odCl7cmV0dXJuIE90KHQsdC5zZWxlY3Rpb24uZ2V0U3RhcnQoKSl9LEN0PWZ1bmN0aW9uKHQsbil7aWYobil7dmFyIGU9RihuKTtpZigvXiMvLnRlc3QoZSkpe3ZhciByPXQuJChlKTtyLmxlbmd0aCYmdC5zZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcoclswXSwhMCl9ZWxzZSBidChuLmhyZWYpfX0sQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7eHQodCl9fSxOdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtDdCh0LHd0KHQpKX19LFB0PWZ1bmN0aW9uKHIpe3Iub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3ZhciBuPU90KHIsdC50YXJnZXQpO24mJnUubWV0YUtleVByZXNzZWQodCkmJih0LnByZXZlbnREZWZhdWx0KCksQ3QocixuKSl9KSxyLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKHQpe3ZhciBuLGU9d3Qocik7ZSYmMTM9PT10LmtleUNvZGUmJighMD09PShuPXQpLmFsdEtleSYmITE9PT1uLnNoaWZ0S2V5JiYhMT09PW4uY3RybEtleSYmITE9PT1uLm1ldGFLZXkpJiYodC5wcmV2ZW50RGVmYXVsdCgpLEN0KHIsZSkpfSl9LF90PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gbi5zZXRBY3RpdmUoIWUubW9kZS5pc1JlYWRPbmx5KCkmJiEhJChlLHQuZWxlbWVudCkpfTtyZXR1cm4gZS5vbihcIk5vZGVDaGFuZ2VcIix0KSxmdW5jdGlvbigpe3JldHVybiBlLm9mZihcIk5vZGVDaGFuZ2VcIix0KX19fSxTdD1mdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ9ci5kb20uZ2V0UGFyZW50cyhyLnNlbGVjdGlvbi5nZXRTdGFydCgpKTtuLnNldERpc2FibGVkKCFKKHQpKTt2YXIgZT1mdW5jdGlvbih0KXtyZXR1cm4gbi5zZXREaXNhYmxlZCghSih0LnBhcmVudHMpKX07cmV0dXJuIHIub24oXCJOb2RlQ2hhbmdlXCIsZSksZnVuY3Rpb24oKXtyZXR1cm4gci5vZmYoXCJOb2RlQ2hhbmdlXCIsZSl9fX07IWZ1bmN0aW9uIFR0KCl7by5hZGQoXCJsaW5rXCIsZnVuY3Rpb24odCl7dmFyIG4sZSxyLGksbyx1LGE7KG49dCkudWkucmVnaXN0cnkuYWRkVG9nZ2xlQnV0dG9uKFwibGlua1wiLHtpY29uOlwibGlua1wiLHRvb2x0aXA6XCJJbnNlcnQvZWRpdCBsaW5rXCIsb25BY3Rpb246QXQobiksb25TZXR1cDpfdChuKX0pLG4udWkucmVnaXN0cnkuYWRkQnV0dG9uKFwib3BlbmxpbmtcIix7aWNvbjpcIm5ldy10YWJcIix0b29sdGlwOlwiT3BlbiBsaW5rXCIsb25BY3Rpb246TnQobiksb25TZXR1cDpTdChuKX0pLG4udWkucmVnaXN0cnkuYWRkQnV0dG9uKFwidW5saW5rXCIse2ljb246XCJ1bmxpbmtcIix0b29sdGlwOlwiUmVtb3ZlIGxpbmtcIixvbkFjdGlvbjpmdW5jdGlvbigpe3JldHVybiBldChuKX0sb25TZXR1cDpTdChuKX0pLChlPXQpLnVpLnJlZ2lzdHJ5LmFkZE1lbnVJdGVtKFwib3BlbmxpbmtcIix7dGV4dDpcIk9wZW4gbGlua1wiLGljb246XCJuZXctdGFiXCIsb25BY3Rpb246TnQoZSksb25TZXR1cDpTdChlKX0pLGUudWkucmVnaXN0cnkuYWRkTWVudUl0ZW0oXCJsaW5rXCIse2ljb246XCJsaW5rXCIsdGV4dDpcIkxpbmsuLi5cIixzaG9ydGN1dDpcIk1ldGErS1wiLG9uQWN0aW9uOkF0KGUpfSksZS51aS5yZWdpc3RyeS5hZGRNZW51SXRlbShcInVubGlua1wiLHtpY29uOlwidW5saW5rXCIsdGV4dDpcIlJlbW92ZSBsaW5rXCIsb25BY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gZXQoZSl9LG9uU2V0dXA6U3QoZSl9KSwocj10KS51aS5yZWdpc3RyeS5hZGRDb250ZXh0TWVudShcImxpbmtcIix7dXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiBKKHIuZG9tLmdldFBhcmVudHModCxcImFcIikpP1wibGluayB1bmxpbmsgb3BlbmxpbmtcIjpcImxpbmtcIn19KSxvPWZ1bmN0aW9uKHQpe3ZhciBuPWkuc2VsZWN0aW9uLmdldE5vZGUoKTtyZXR1cm4gdC5zZXREaXNhYmxlZCghJChpLG4pKSxmdW5jdGlvbigpe319LChpPXQpLnVpLnJlZ2lzdHJ5LmFkZENvbnRleHRGb3JtKFwicXVpY2tsaW5rXCIse2xhdW5jaDp7dHlwZTpcImNvbnRleHRmb3JtdG9nZ2xlYnV0dG9uXCIsaWNvbjpcImxpbmtcIix0b29sdGlwOlwiTGlua1wiLG9uU2V0dXA6X3QoaSl9LGxhYmVsOlwiTGlua1wiLHByZWRpY2F0ZTpmdW5jdGlvbih0KXtyZXR1cm4hISQoaSx0KSYmaS5nZXRQYXJhbShcImxpbmtfY29udGV4dF90b29sYmFyXCIsITEsXCJib29sZWFuXCIpfSxpbml0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0kKGkpO3JldHVybiB0P0YodCk6XCJcIn0sY29tbWFuZHM6W3t0eXBlOlwiY29udGV4dGZvcm10b2dnbGVidXR0b25cIixpY29uOlwibGlua1wiLHRvb2x0aXA6XCJMaW5rXCIscHJpbWFyeTohMCxvblNldHVwOmZ1bmN0aW9uKHQpe3ZhciBuPWkuc2VsZWN0aW9uLmdldE5vZGUoKTtyZXR1cm4gdC5zZXRBY3RpdmUoISEkKGksbikpLF90KGkpKHQpfSxvbkFjdGlvbjpmdW5jdGlvbih0KXt2YXIgbj0kKGkpLGU9dC5nZXRWYWx1ZSgpO2lmKG4paS51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe2kuZG9tLnNldEF0dHJpYihuLFwiaHJlZlwiLGUpLGkuc2VsZWN0aW9uLmNvbGxhcHNlKCExKSx0LmhpZGUoKX0pO2Vsc2V7dmFyIHI9e2hyZWY6ZSxhdHRhY2g6ZnVuY3Rpb24oKXt9fSxvPVgoaS5zZWxlY3Rpb24uZ2V0Q29udGVudCgpKT9OLnNvbWUoSChpLnNlbGVjdGlvbixuKSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAwPHQubGVuZ3RofSkub3IoTi5mcm9tKGUpKTpOLm5vbmUoKTtudChpLHIse2hyZWY6ZSx0ZXh0Om8sdGl0bGU6Ti5ub25lKCkscmVsOk4ubm9uZSgpLHRhcmdldDpOLm5vbmUoKSxcImNsYXNzXCI6Ti5ub25lKCl9KSx0LmhpZGUoKX19fSx7dHlwZTpcImNvbnRleHRmb3JtYnV0dG9uXCIsaWNvbjpcInVubGlua1wiLHRvb2x0aXA6XCJSZW1vdmUgbGlua1wiLG9uU2V0dXA6byxvbkFjdGlvbjpmdW5jdGlvbih0KXtldChpKSx0LmhpZGUoKX19LHt0eXBlOlwiY29udGV4dGZvcm1idXR0b25cIixpY29uOlwibmV3LXRhYlwiLHRvb2x0aXA6XCJPcGVuIGxpbmtcIixvblNldHVwOm8sb25BY3Rpb246ZnVuY3Rpb24odCl7TnQoaSkoKSx0LmhpZGUoKX19XX0pLFB0KHQpLCh1PXQpLmFkZENvbW1hbmQoXCJtY2VMaW5rXCIsZnVuY3Rpb24oKXt1LmdldFBhcmFtKFwibGlua19xdWlja2xpbmtcIiwhMSxcImJvb2xlYW5cIik/dS5maXJlKFwiY29udGV4dHRvb2xiYXItc2hvd1wiLHt0b29sYmFyS2V5OlwicXVpY2tsaW5rXCJ9KTpBdCh1KSgpfSksKGE9dCkuYWRkU2hvcnRjdXQoXCJNZXRhK0tcIixcIlwiLGZ1bmN0aW9uKCl7YS5leGVjQ29tbWFuZChcIm1jZUxpbmtcIil9KX0pfSgpfSh3aW5kb3cpOyJdLCJzb3VyY2VSb290IjoiIn0=