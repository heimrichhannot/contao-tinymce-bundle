(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["tinymce-plugin-quickbars-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/quickbars/plugin.min.js":
/*!**************************************************************!*\
  !*** ./node_modules/tinymce/plugins/quickbars/plugin.min.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(c){"use strict";var e,t,n,r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=0,l=function(e,t,n){var r,o,i=e.editorUpload.blobCache,u=i.create((r="mceu",o=(new Date).getTime(),r+"_"+Math.floor(1e9*Math.random())+ ++a+String(o)),n,t);i.add(u),e.insertContent(e.dom.createHTML("img",{src:u.blobUri()}))},f=tinymce.util.Tools.resolve("tinymce.util.Promise"),d=tinymce.util.Tools.resolve("tinymce.Env"),s=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=function(u){u.ui.registry.addButton("quickimage",{icon:"image",tooltip:"Insert image",onAction:function(){var i;i=u,new f(function(n){var r=c.document.createElement("input");r.type="file",r.accept="image/*",r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0.001",c.document.body.appendChild(r),r.addEventListener("change",function(e){n(Array.prototype.slice.call(e.target.files))});var o=function(e){var t=function(){n([]),r.parentNode.removeChild(r)};d.os.isAndroid()&&"remove"!==e.type?s.setEditorTimeout(i,t,0):t(),i.off("focusin remove",o)};i.on("focusin remove",o),r.click()}).then(function(e){if(0<e.length){var t=e[0];n=t,new f(function(e){var t=new c.FileReader;t.onloadend=function(){e(t.result.split(",")[1])},t.readAsDataURL(n)}).then(function(e){l(u,e,t)})}var n})}}),u.ui.registry.addButton("quicktable",{icon:"table",tooltip:"Insert table",onAction:function(){var e,t,n,r,o,i;n=t=2,(e=u).plugins.table?e.plugins.table.insertTable(t,n):(o=t,i=n,(r=e).undoManager.transact(function(){r.insertContent(function(e,t){var n,r,o;for(o='<table data-mce-id="mce" style="width: 100%">',o+="<tbody>",r=0;r<t;r++){for(o+="<tr>",n=0;n<e;n++)o+="<td><br></td>";o+="</tr>"}return o+="</tbody>",o+="</table>"}(o,i));var e=r.dom.select("*[data-mce-id]")[0];e.removeAttribute("data-mce-id");var t=r.dom.select("td,th",e);r.selection.setCursorLocation(t[0],0)}))}})},u=function(e){return function(){return e}},m=u(!1),g=u(!0),h=function(){return p},p=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:m,isSome:m,isNone:g,getOr:n=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(undefined),or:n,orThunk:t,map:h,each:function(){},bind:h,exists:m,forall:g,filter:h,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}),y=function(n){var e=u(n),t=function(){return o},r=function(e){return e(n)},o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:g,isNone:m,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return y(e(n))},each:function(e){e(n)},bind:r,exists:r,forall:r,filter:function(e){return e(n)?o:p},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(m,function(e){return t(n,e)})}};return o},v={some:y,none:h,from:function(e){return null===e||e===undefined?p:y(e)}},b=function(e){if(null===e||e===undefined)throw new Error("Node cannot be null or undefined");return{dom:u(e)}},w={fromHtml:function(e,t){var n=(t||c.document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw c.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return b(n.childNodes[0])},fromTag:function(e,t){var n=(t||c.document).createElement(e);return b(n)},fromText:function(e,t){var n=(t||c.document).createTextNode(e);return b(n)},fromDom:b,fromPoint:function(e,t,n){var r=e.dom();return v.from(r.elementFromPoint(t,n)).map(b)}},k=("undefined"!=typeof c.window?c.window:Function("return this;")(),function(r){return function(e){return n=typeof(t=e),(null===t?"null":"object"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":n)===r;var t,n}}),T=function(t){return function(e){return typeof e===t}},N=k("string"),E=k("object"),q=k("array"),M=T("boolean"),S=(r=undefined,function(e){return r===e}),C=T("function");function O(e,t,n,r,o){return e(n,r)?v.some(n):C(o)&&o(n)?v.none():t(n,r,o)}var x,A=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(r.matches!==undefined)return r.matches(t);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},D=(C(c.Element.prototype.attachShadow)&&C(c.Node.prototype.getRootNode),function(e,t,n){for(var r=e.dom(),o=C(n)?n:u(!1);r.parentNode;){r=r.parentNode;var i=w.fromDom(r);if(t(i))return v.some(i);if(o(i))break}return v.none()}),_=function(e,t,n){return D(e,function(e){return A(e,t)},n)},L=(x=N,function(e,t,n){return function(e,t){if(!t(e))throw new Error("Default value doesn't match requested type.")}(n,x),function(e,t){if(q(e)||E(e))throw new Error("expected a string but found: "+e);return S(e)?t:M(e)?!1===e?"":t:e}(e.getParam(t,n),n)}),P=function(o){var e=L(o,"quickbars_insert_toolbar","quickimage quicktable");0<e.trim().length&&o.ui.registry.addContextToolbar("quickblock",{predicate:function(e){var t=w.fromDom(e),n=o.schema.getTextBlockElements(),r=function(e){return e.dom()===o.getBody()};return O(function(e,t){return A(e,t)},_,t,"table",r).fold(function(){return O(function(e,t){return t(e)},D,t,function(e){return e.dom().nodeName.toLowerCase()in n&&o.dom.isEmpty(e.dom())},r).isSome()},function(){return!1})},items:e,position:"line",scope:"editor"})},U=function(n){var r=function(e){return"IMG"===e.nodeName||"FIGURE"===e.nodeName&&/image/i.test(e.className)},e=L(n,"quickbars_image_toolbar","alignleft aligncenter alignright");0<e.trim().length&&n.ui.registry.addContextToolbar("imageselection",{predicate:r,items:e,position:"node"});var t=L(n,"quickbars_selection_toolbar","bold italic | quicklink h2 h3 blockquote");0<t.trim().length&&n.ui.registry.addContextToolbar("textselection",{predicate:function(e){return!r(e)&&!n.selection.isCollapsed()&&(t=e,"false"!==n.dom.getContentEditableParent(t));var t},items:t,position:"selection",scope:"editor"})};!function B(){o.add("quickbars",function(e){i(e),P(e),U(e)})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL3F1aWNrYmFycy9wbHVnaW4ubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWEsd0ZBQXdGLHdJQUF3SSxpREFBaUQsZ0JBQWdCLEdBQUcsbUtBQW1LLHNDQUFzQyx3REFBd0QsTUFBTSxzQkFBc0Isd0NBQXdDLDBMQUEwTCw4Q0FBOEMsRUFBRSxrQkFBa0IsaUJBQWlCLG1DQUFtQyw2RkFBNkYsbUNBQW1DLG1CQUFtQixlQUFlLFdBQVcsc0JBQXNCLHVCQUF1Qix1QkFBdUIsMEJBQTBCLG9CQUFvQixtQkFBbUIsU0FBUyxFQUFFLE1BQU0sR0FBRyx3Q0FBd0Msd0RBQXdELGdCQUFnQiwwR0FBMEcsOEJBQThCLFVBQVUsdUVBQXVFLElBQUksS0FBSyxrQkFBa0IsSUFBSSx1QkFBdUIsV0FBVyxtQ0FBbUMsT0FBTyx3Q0FBd0MsaUNBQWlDLDhCQUE4QixzQ0FBc0MsSUFBSSxFQUFFLGVBQWUsa0JBQWtCLFVBQVUsOEJBQThCLFNBQVMsa0JBQWtCLGtCQUFrQixFQUFFLG1CQUFtQixXQUFXLDRDQUE0QyxTQUFTLDBCQUEwQixXQUFXLHNCQUFzQixzREFBc0QscUZBQXFGLHlFQUF5RSxTQUFTLHNCQUFzQixnQkFBZ0Isd0JBQXdCLFNBQVMsZUFBZSxZQUFZLElBQUksbUJBQW1CLFlBQVksZ0JBQWdCLGFBQWEsK0dBQStHLGVBQWUsa0JBQWtCLEtBQUssNkNBQTZDLGdCQUFnQixvQkFBb0IsVUFBVSxxQkFBcUIsb0JBQW9CLG9CQUFvQixlQUFlLHVCQUF1Qiw0QkFBNEIsY0FBYyxJQUFJLFNBQVMsSUFBSSwrQkFBK0IsdUNBQXVDLGVBQWUsK0VBQStFLE9BQU8sVUFBVSxJQUFJLHVCQUF1QiwyQ0FBMkMsMktBQTJLLDBCQUEwQix1QkFBdUIsdUNBQXVDLFlBQVksd0JBQXdCLHdDQUF3QyxZQUFZLHFDQUFxQyxjQUFjLCtDQUErQyxnRUFBZ0UsaUJBQWlCLG1CQUFtQiwwUEFBMFAsU0FBUyxnQkFBZ0IsbUJBQW1CLHFCQUFxQixvRkFBb0YsYUFBYSxrQkFBa0Isc0JBQXNCLHFEQUFxRCxzQkFBc0IsY0FBYywyQkFBMkIsUUFBUSw2Q0FBNkMsaUVBQWlFLHlFQUF5RSxtRUFBbUUsa0RBQWtELHlGQUF5RixpQ0FBaUMsYUFBYSxFQUFFLGVBQWUsbUJBQW1CLHlCQUF5QixjQUFjLGdCQUFnQixvQkFBb0IsdUJBQXVCLGNBQWMsSUFBSSx3QkFBd0IscUJBQXFCLHdFQUF3RSxvQkFBb0IsaUVBQWlFLGlDQUFpQyxvQkFBb0IsZ0JBQWdCLDhEQUE4RCxpRUFBaUUsc0JBQXNCLG1FQUFtRSw4QkFBOEIsdUJBQXVCLGNBQWMsZ0NBQWdDLHVCQUF1QixZQUFZLGlCQUFpQixrRUFBa0UsYUFBYSxZQUFZLFNBQVMsRUFBRSx3Q0FBd0MsRUFBRSxlQUFlLGtCQUFrQiw0RUFBNEUscUVBQXFFLHFFQUFxRSxvQ0FBb0MsRUFBRSxvRkFBb0Ysb0VBQW9FLHNCQUFzQiwyRkFBMkYsTUFBTSw2Q0FBNkMsR0FBRyxjQUFjLDhCQUE4QixlQUFlLEVBQUUsR0FBRyxTIiwiZmlsZSI6InRpbnltY2UtcGx1Z2luLXF1aWNrYmFycy1wbHVnaW4tbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFRpbnkgVGVjaG5vbG9naWVzLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTEdQTCBvciBhIGNvbW1lcmNpYWwgbGljZW5zZS5cbiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogRm9yIGNvbW1lcmNpYWwgbGljZW5zZXMgc2VlIGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvXG4gKlxuICogVmVyc2lvbjogNS40LjIgKDIwMjAtMDgtMTcpXG4gKi9cbiFmdW5jdGlvbihjKXtcInVzZSBzdHJpY3RcIjt2YXIgZSx0LG4scixvPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS5QbHVnaW5NYW5hZ2VyXCIpLGE9MCxsPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9ZS5lZGl0b3JVcGxvYWQuYmxvYkNhY2hlLHU9aS5jcmVhdGUoKHI9XCJtY2V1XCIsbz0obmV3IERhdGUpLmdldFRpbWUoKSxyK1wiX1wiK01hdGguZmxvb3IoMWU5Kk1hdGgucmFuZG9tKCkpKyArK2ErU3RyaW5nKG8pKSxuLHQpO2kuYWRkKHUpLGUuaW5zZXJ0Q29udGVudChlLmRvbS5jcmVhdGVIVE1MKFwiaW1nXCIse3NyYzp1LmJsb2JVcmkoKX0pKX0sZj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UudXRpbC5Qcm9taXNlXCIpLGQ9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLkVudlwiKSxzPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLkRlbGF5XCIpLGk9ZnVuY3Rpb24odSl7dS51aS5yZWdpc3RyeS5hZGRCdXR0b24oXCJxdWlja2ltYWdlXCIse2ljb246XCJpbWFnZVwiLHRvb2x0aXA6XCJJbnNlcnQgaW1hZ2VcIixvbkFjdGlvbjpmdW5jdGlvbigpe3ZhciBpO2k9dSxuZXcgZihmdW5jdGlvbihuKXt2YXIgcj1jLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtyLnR5cGU9XCJmaWxlXCIsci5hY2NlcHQ9XCJpbWFnZS8qXCIsci5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCIsci5zdHlsZS5sZWZ0PVwiMFwiLHIuc3R5bGUudG9wPVwiMFwiLHIuc3R5bGUub3BhY2l0eT1cIjAuMDAxXCIsYy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHIpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKGUpe24oQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZS50YXJnZXQuZmlsZXMpKX0pO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7bihbXSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpfTtkLm9zLmlzQW5kcm9pZCgpJiZcInJlbW92ZVwiIT09ZS50eXBlP3Muc2V0RWRpdG9yVGltZW91dChpLHQsMCk6dCgpLGkub2ZmKFwiZm9jdXNpbiByZW1vdmVcIixvKX07aS5vbihcImZvY3VzaW4gcmVtb3ZlXCIsbyksci5jbGljaygpfSkudGhlbihmdW5jdGlvbihlKXtpZigwPGUubGVuZ3RoKXt2YXIgdD1lWzBdO249dCxuZXcgZihmdW5jdGlvbihlKXt2YXIgdD1uZXcgYy5GaWxlUmVhZGVyO3Qub25sb2FkZW5kPWZ1bmN0aW9uKCl7ZSh0LnJlc3VsdC5zcGxpdChcIixcIilbMV0pfSx0LnJlYWRBc0RhdGFVUkwobil9KS50aGVuKGZ1bmN0aW9uKGUpe2wodSxlLHQpfSl9dmFyIG59KX19KSx1LnVpLnJlZ2lzdHJ5LmFkZEJ1dHRvbihcInF1aWNrdGFibGVcIix7aWNvbjpcInRhYmxlXCIsdG9vbHRpcDpcIkluc2VydCB0YWJsZVwiLG9uQWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbyxpO249dD0yLChlPXUpLnBsdWdpbnMudGFibGU/ZS5wbHVnaW5zLnRhYmxlLmluc2VydFRhYmxlKHQsbik6KG89dCxpPW4sKHI9ZSkudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXtyLmluc2VydENvbnRlbnQoZnVuY3Rpb24oZSx0KXt2YXIgbixyLG87Zm9yKG89Jzx0YWJsZSBkYXRhLW1jZS1pZD1cIm1jZVwiIHN0eWxlPVwid2lkdGg6IDEwMCVcIj4nLG8rPVwiPHRib2R5PlwiLHI9MDtyPHQ7cisrKXtmb3Iobys9XCI8dHI+XCIsbj0wO248ZTtuKyspbys9XCI8dGQ+PGJyPjwvdGQ+XCI7bys9XCI8L3RyPlwifXJldHVybiBvKz1cIjwvdGJvZHk+XCIsbys9XCI8L3RhYmxlPlwifShvLGkpKTt2YXIgZT1yLmRvbS5zZWxlY3QoXCIqW2RhdGEtbWNlLWlkXVwiKVswXTtlLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtbWNlLWlkXCIpO3ZhciB0PXIuZG9tLnNlbGVjdChcInRkLHRoXCIsZSk7ci5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odFswXSwwKX0pKX19KX0sdT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19LG09dSghMSksZz11KCEwKSxoPWZ1bmN0aW9uKCl7cmV0dXJuIHB9LHA9KGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNOb25lKCl9LHtmb2xkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUoKX0saXM6bSxpc1NvbWU6bSxpc05vbmU6ZyxnZXRPcjpuPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxnZXRPclRodW5rOnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZ2V0T3JEaWU6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGV8fFwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLlwiKX0sZ2V0T3JOdWxsOnUobnVsbCksZ2V0T3JVbmRlZmluZWQ6dSh1bmRlZmluZWQpLG9yOm4sb3JUaHVuazp0LG1hcDpoLGVhY2g6ZnVuY3Rpb24oKXt9LGJpbmQ6aCxleGlzdHM6bSxmb3JhbGw6ZyxmaWx0ZXI6aCxlcXVhbHM6ZSxlcXVhbHNfOmUsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltdfSx0b1N0cmluZzp1KFwibm9uZSgpXCIpfSkseT1mdW5jdGlvbihuKXt2YXIgZT11KG4pLHQ9ZnVuY3Rpb24oKXtyZXR1cm4gb30scj1mdW5jdGlvbihlKXtyZXR1cm4gZShuKX0sbz17Zm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiB0KG4pfSxpczpmdW5jdGlvbihlKXtyZXR1cm4gbj09PWV9LGlzU29tZTpnLGlzTm9uZTptLGdldE9yOmUsZ2V0T3JUaHVuazplLGdldE9yRGllOmUsZ2V0T3JOdWxsOmUsZ2V0T3JVbmRlZmluZWQ6ZSxvcjp0LG9yVGh1bms6dCxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHkoZShuKSl9LGVhY2g6ZnVuY3Rpb24oZSl7ZShuKX0sYmluZDpyLGV4aXN0czpyLGZvcmFsbDpyLGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZShuKT9vOnB9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bbl19LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJzb21lKFwiK24rXCIpXCJ9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pcyhuKX0sZXF1YWxzXzpmdW5jdGlvbihlLHQpe3JldHVybiBlLmZvbGQobSxmdW5jdGlvbihlKXtyZXR1cm4gdChuLGUpfSl9fTtyZXR1cm4gb30sdj17c29tZTp5LG5vbmU6aCxmcm9tOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZXx8ZT09PXVuZGVmaW5lZD9wOnkoZSl9fSxiPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHxlPT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcihcIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybntkb206dShlKX19LHc9e2Zyb21IdG1sOmZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fGMuZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYobi5pbm5lckhUTUw9ZSwhbi5oYXNDaGlsZE5vZGVzKCl8fDE8bi5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBjLmNvbnNvbGUuZXJyb3IoXCJIVE1MIGRvZXMgbm90IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlXCIsZSksbmV3IEVycm9yKFwiSFRNTCBtdXN0IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlXCIpO3JldHVybiBiKG4uY2hpbGROb2Rlc1swXSl9LGZyb21UYWc6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8Yy5kb2N1bWVudCkuY3JlYXRlRWxlbWVudChlKTtyZXR1cm4gYihuKX0sZnJvbVRleHQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8Yy5kb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoZSk7cmV0dXJuIGIobil9LGZyb21Eb206Yixmcm9tUG9pbnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZG9tKCk7cmV0dXJuIHYuZnJvbShyLmVsZW1lbnRGcm9tUG9pbnQodCxuKSkubWFwKGIpfX0saz0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMud2luZG93P2Mud2luZG93OkZ1bmN0aW9uKFwicmV0dXJuIHRoaXM7XCIpKCksZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuPXR5cGVvZih0PWUpLChudWxsPT09dD9cIm51bGxcIjpcIm9iamVjdFwiPT1uJiYoQXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJlwiQXJyYXlcIj09PXQuY29uc3RydWN0b3IubmFtZSk/XCJhcnJheVwiOlwib2JqZWN0XCI9PW4mJihTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJlwiU3RyaW5nXCI9PT10LmNvbnN0cnVjdG9yLm5hbWUpP1wic3RyaW5nXCI6bik9PT1yO3ZhciB0LG59fSksVD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09dH19LE49ayhcInN0cmluZ1wiKSxFPWsoXCJvYmplY3RcIikscT1rKFwiYXJyYXlcIiksTT1UKFwiYm9vbGVhblwiKSxTPShyPXVuZGVmaW5lZCxmdW5jdGlvbihlKXtyZXR1cm4gcj09PWV9KSxDPVQoXCJmdW5jdGlvblwiKTtmdW5jdGlvbiBPKGUsdCxuLHIsbyl7cmV0dXJuIGUobixyKT92LnNvbWUobik6QyhvKSYmbyhuKT92Lm5vbmUoKTp0KG4scixvKX12YXIgeCxBPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20oKTtpZigxIT09bi5ub2RlVHlwZSlyZXR1cm4hMTt2YXIgcj1uO2lmKHIubWF0Y2hlcyE9PXVuZGVmaW5lZClyZXR1cm4gci5tYXRjaGVzKHQpO2lmKHIubXNNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIubXNNYXRjaGVzU2VsZWN0b3IodCk7aWYoci53ZWJraXRNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHQpO2lmKHIubW96TWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXJldHVybiByLm1vek1hdGNoZXNTZWxlY3Rvcih0KTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyIGxhY2tzIG5hdGl2ZSBzZWxlY3RvcnNcIil9LEQ9KEMoYy5FbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3cpJiZDKGMuTm9kZS5wcm90b3R5cGUuZ2V0Um9vdE5vZGUpLGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZS5kb20oKSxvPUMobik/bjp1KCExKTtyLnBhcmVudE5vZGU7KXtyPXIucGFyZW50Tm9kZTt2YXIgaT13LmZyb21Eb20ocik7aWYodChpKSlyZXR1cm4gdi5zb21lKGkpO2lmKG8oaSkpYnJlYWt9cmV0dXJuIHYubm9uZSgpfSksXz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEQoZSxmdW5jdGlvbihlKXtyZXR1cm4gQShlLHQpfSxuKX0sTD0oeD1OLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZighdChlKSl0aHJvdyBuZXcgRXJyb3IoXCJEZWZhdWx0IHZhbHVlIGRvZXNuJ3QgbWF0Y2ggcmVxdWVzdGVkIHR5cGUuXCIpfShuLHgpLGZ1bmN0aW9uKGUsdCl7aWYocShlKXx8RShlKSl0aHJvdyBuZXcgRXJyb3IoXCJleHBlY3RlZCBhIHN0cmluZyBidXQgZm91bmQ6IFwiK2UpO3JldHVybiBTKGUpP3Q6TShlKT8hMT09PWU/XCJcIjp0OmV9KGUuZ2V0UGFyYW0odCxuKSxuKX0pLFA9ZnVuY3Rpb24obyl7dmFyIGU9TChvLFwicXVpY2tiYXJzX2luc2VydF90b29sYmFyXCIsXCJxdWlja2ltYWdlIHF1aWNrdGFibGVcIik7MDxlLnRyaW0oKS5sZW5ndGgmJm8udWkucmVnaXN0cnkuYWRkQ29udGV4dFRvb2xiYXIoXCJxdWlja2Jsb2NrXCIse3ByZWRpY2F0ZTpmdW5jdGlvbihlKXt2YXIgdD13LmZyb21Eb20oZSksbj1vLnNjaGVtYS5nZXRUZXh0QmxvY2tFbGVtZW50cygpLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCk9PT1vLmdldEJvZHkoKX07cmV0dXJuIE8oZnVuY3Rpb24oZSx0KXtyZXR1cm4gQShlLHQpfSxfLHQsXCJ0YWJsZVwiLHIpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gTyhmdW5jdGlvbihlLHQpe3JldHVybiB0KGUpfSxELHQsZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCkubm9kZU5hbWUudG9Mb3dlckNhc2UoKWluIG4mJm8uZG9tLmlzRW1wdHkoZS5kb20oKSl9LHIpLmlzU29tZSgpfSxmdW5jdGlvbigpe3JldHVybiExfSl9LGl0ZW1zOmUscG9zaXRpb246XCJsaW5lXCIsc2NvcGU6XCJlZGl0b3JcIn0pfSxVPWZ1bmN0aW9uKG4pe3ZhciByPWZ1bmN0aW9uKGUpe3JldHVyblwiSU1HXCI9PT1lLm5vZGVOYW1lfHxcIkZJR1VSRVwiPT09ZS5ub2RlTmFtZSYmL2ltYWdlL2kudGVzdChlLmNsYXNzTmFtZSl9LGU9TChuLFwicXVpY2tiYXJzX2ltYWdlX3Rvb2xiYXJcIixcImFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0XCIpOzA8ZS50cmltKCkubGVuZ3RoJiZuLnVpLnJlZ2lzdHJ5LmFkZENvbnRleHRUb29sYmFyKFwiaW1hZ2VzZWxlY3Rpb25cIix7cHJlZGljYXRlOnIsaXRlbXM6ZSxwb3NpdGlvbjpcIm5vZGVcIn0pO3ZhciB0PUwobixcInF1aWNrYmFyc19zZWxlY3Rpb25fdG9vbGJhclwiLFwiYm9sZCBpdGFsaWMgfCBxdWlja2xpbmsgaDIgaDMgYmxvY2txdW90ZVwiKTswPHQudHJpbSgpLmxlbmd0aCYmbi51aS5yZWdpc3RyeS5hZGRDb250ZXh0VG9vbGJhcihcInRleHRzZWxlY3Rpb25cIix7cHJlZGljYXRlOmZ1bmN0aW9uKGUpe3JldHVybiFyKGUpJiYhbi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmKHQ9ZSxcImZhbHNlXCIhPT1uLmRvbS5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQodCkpO3ZhciB0fSxpdGVtczp0LHBvc2l0aW9uOlwic2VsZWN0aW9uXCIsc2NvcGU6XCJlZGl0b3JcIn0pfTshZnVuY3Rpb24gQigpe28uYWRkKFwicXVpY2tiYXJzXCIsZnVuY3Rpb24oZSl7aShlKSxQKGUpLFUoZSl9KX0oKX0od2luZG93KTsiXSwic291cmNlUm9vdCI6IiJ9