(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~tinymce-plugin-spellchecker-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/spellchecker/plugin.min.js":
/*!*****************************************************************!*\
  !*** ./node_modules/tinymce/plugins/spellchecker/plugin.min.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(N){"use strict";var k=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=Object.hasOwnProperty,h=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=tinymce.util.Tools.resolve("tinymce.util.URI"),f=tinymce.util.Tools.resolve("tinymce.util.XHR"),g=function(e){return e.getParam("spellchecker_rpc_url")},S=function(e){var t=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\xa7\xa9\xab\xae\xb1\xb6\xb7\xb8\xbb\xbc\xbd\xbe\xbf\xd7\xf7\xa4\u201d\u201c\u201e\xa0\u2002\u2003\u2009]+',"g");return e.getParam("spellchecker_wordchar_pattern",t)};function T(e){return e&&1===e.nodeType&&"false"===e.contentEditable}var r=function(a,r){var n,i=[],v=r.dom,g=r.schema.getBlockElements(),h=r.schema.getWhiteSpaceElements(),p=r.schema.getShortEndedElements();function o(e,t){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function c(e){for(var t=e.parentNode;0<e.childNodes.length;)t.insertBefore(e.childNodes[0],e);t.removeChild(e)}function s(e){var t=a.getElementsByTagName("*"),n=[];e="number"==typeof e?""+e:null;for(var r=0;r<t.length;r++){var o=t[r],i=o.getAttribute("data-mce-index");null!==i&&i.length&&-1!==o.className.indexOf("mce-spellchecker-word")&&(i!==e&&null!==e||n.push(o))}return n}function l(e){for(var t=i.length;t--;)if(i[t]===e)return t;return-1}function e(e){for(var t=0,n=i.length;t<n&&!1!==e(i[t],t);t++);return this}function t(e){var t,n=s(e?l(e):null);for(t=n.length;t--;)c(n[t]);return this}function u(e){var t=s(l(e)),n=r.dom.createRng();return n.setStartBefore(t[0]),n.setEndAfter(t[t.length-1]),n}var d=function f(e){var t;if(3===e.nodeType)return e.data;if(h[e.nodeName]&&!g[e.nodeName])return"";if(T(e))return"\n";if(t="",(g[e.nodeName]||p[e.nodeName])&&(t+="\n"),e=e.firstChild)for(;t+=f(e),e=e.nextSibling;);return t}(a);return{text:d,matches:i,each:e,filter:function m(n){var r=[];return e(function(e,t){n(e,t)&&r.push(e)}),i=r,this},reset:function x(){return i.splice(0,i.length),t(),this},matchFromElement:function N(e){return i[e.getAttribute("data-mce-index")]},elementFromMatch:function k(e){return s(l(e))[0]},find:function y(e,t){if(d&&e.global)for(;n=e.exec(d);)i.push(o(n,t));return this},add:function S(e,t,n){return i.push({start:e,end:e+t,text:d.substr(e,t),data:n}),this},wrap:function w(e){return i.length&&function f(e,t,n){var r,o,i,a,c,s=[],l=0,u=e,d=0;(t=t.slice(0)).sort(function(e,t){return e.start-t.start}),c=t.shift();e:for(;;){if((g[u.nodeName]||p[u.nodeName]||T(u))&&l++,3===u.nodeType&&(!o&&u.length+l>=c.end?(o=u,a=c.end-l):r&&s.push(u),!r&&u.length+l>c.start&&(r=u,i=c.start-l),l+=u.length),r&&o){if(u=n({startNode:r,startNodeIndex:i,endNode:o,endNodeIndex:a,innerNodes:s,match:c.text,matchIndex:d}),l-=o.length-a,o=r=null,s=[],d++,!(c=t.shift()))break}else if(h[u.nodeName]&&!g[u.nodeName]||!u.firstChild){if(u.nextSibling){u=u.nextSibling;continue}}else if(!T(u)){u=u.firstChild;continue}for(;;){if(u.nextSibling){u=u.nextSibling;break}if(u.parentNode===e)break e;u=u.parentNode}}}(a,i,function t(o){function m(e,t){var n=i[t];n.stencil||(n.stencil=o(n));var r=n.stencil.cloneNode(!1);return r.setAttribute("data-mce-index",t),e&&r.appendChild(v.doc.createTextNode(e)),r}return function(e){var t,n,r,o=e.startNode,i=e.endNode,a=e.matchIndex,c=v.doc;if(o===i){var s=o;r=s.parentNode,0<e.startNodeIndex&&(t=c.createTextNode(s.data.substring(0,e.startNodeIndex)),r.insertBefore(t,s));var l=m(e.match,a);return r.insertBefore(l,s),e.endNodeIndex<s.length&&(n=c.createTextNode(s.data.substring(e.endNodeIndex)),r.insertBefore(n,s)),s.parentNode.removeChild(s),l}t=c.createTextNode(o.data.substring(0,e.startNodeIndex)),n=c.createTextNode(i.data.substring(e.endNodeIndex));for(var u=m(o.data.substring(e.startNodeIndex),a),d=0,f=e.innerNodes.length;d<f;++d){var g=e.innerNodes[d],h=m(g.data,a);g.parentNode.replaceChild(h,g)}var p=m(i.data.substring(0,e.endNodeIndex),a);return(r=o.parentNode).insertBefore(t,o),r.insertBefore(u,o),r.removeChild(o),(r=i.parentNode).insertBefore(p,i),r.insertBefore(n,i),r.removeChild(i),p}}(e)),this},unwrap:t,replace:function b(e,t){var n=u(e);return n.deleteContents(),0<t.length&&n.insertNode(r.dom.doc.createTextNode(t)),n},rangeFromMatch:u,indexOf:l}},u=function(e,t){if(!t.get()){var n=r(e.getBody(),e);t.set(n)}return t.get()},p=function(e,t,n,r,o,i,a){var c,s,l,u=e.getParam("spellchecker_callback");(u||(c=e,s=t,l=n,function(e,t,r,o){var n={method:e,lang:l.get()},i="";n["addToDictionary"===e?"word":"text"]=t,h.each(n,function(e,t){i&&(i+="&"),i+=t+"="+encodeURIComponent(e)}),f.send({url:new d(s).toAbsolute(g(c)),type:"post",content_type:"application/x-www-form-urlencoded",data:i,success:function(e){var t=JSON.parse(e);if(t)t.error?o(t.error):r(t);else{var n=c.translate("Server response wasn't proper JSON.");o(n)}},error:function(){var e=c.translate("The spelling service was not found: (")+g(c)+c.translate(")");o(e)}})})).call(e.plugins.spellchecker,r,o,i,a)},w=function(t,e,n,r,o,i){if(!a(t,n,r)){t.setProgressState(!0),p(t,e,i,"spellcheck",u(t,r).text,function(e){b(t,n,r,o,e)},function(e){t.notificationManager.open({text:e,type:"error"}),t.setProgressState(!1),a(t,n,r)}),t.focus()}},m=function(e,t,n){e.dom.select("span.mce-spellchecker-word").length||a(e,t,n)},o=function(t,e,n,r,o,i){t.selection.collapse(),i?h.each(t.dom.select("span.mce-spellchecker-word"),function(e){e.getAttribute("data-mce-word")===r&&t.dom.remove(e,!0)}):t.dom.remove(o,!0),m(t,e,n)},a=function(e,t,n){var r=e.selection.getBookmark();if(u(e,n).reset(),e.selection.moveToBookmark(r),n.set(null),t.get())return t.set(!1),e.fire("SpellcheckEnd"),!0},v=function(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t},b=function(t,e,n,r,o){var i=!!o.dictionary,a=o.words;if(t.setProgressState(!1),function(e){for(var t in e)if(l.call(e,t))return!1;return!0}(a)){var c=t.translate("No misspellings found.");return t.notificationManager.open({text:c,type:"info"}),void e.set(!1)}r.set({suggestions:a,hasDictionarySupport:i});var s=t.selection.getBookmark();u(t,n).find(S(t)).filter(function(e){return!!a[e.text]}).wrap(function(e){return t.dom.create("span",{"class":"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":e.text})}),t.selection.moveToBookmark(s),e.set(!0),t.fire("SpellcheckStart")},x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A="SpellcheckStart SpellcheckEnd",B=function(n,e,r,t,o,i){var a,c,s,l=(s=n,a=h.map(s.getParam("spellchecker_languages","English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv").split(","),function(e){return{name:(e=e.split("="))[0],value:e[1]}}),c=[],h.each(a,function(e){c.push({selectable:!0,text:e.name,data:e.value})}),c),u=function(){w(n,e,r,t,i,o)},d={tooltip:"Spellcheck",onAction:u,icon:"spell-check",onSetup:function(e){var t=function(){e.setActive(r.get())};return n.on(A,t),function(){n.off(A,t)}}},f=x(x({},d),{type:"splitbutton",select:function(e){return e===o.get()},fetch:function(e){e(h.map(l,function(e){return{type:"choiceitem",value:e.data,text:e.text}}))},onItemAction:function(e,t){o.set(t)}});1<l.length?n.ui.registry.addSplitButton("spellchecker",f):n.ui.registry.addToggleButton("spellchecker",d),n.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(e){e.setActive(r.get());var t=function(){e.setActive(r.get())};return n.on(A,t),function(){n.off(A,t)}},onAction:u})},P=function(c,s,e,l,u,d,f,g){var t=[],n=e.get().suggestions[f];return h.each(n,function(e){t.push({text:e,onAction:function(){c.insertContent(c.dom.encode(e)),c.dom.remove(g),m(c,l,u)}})}),e.get().hasDictionarySupport&&(t.push({type:"separator"}),t.push({text:"Add to dictionary",onAction:function(){var t,e,n,r,o,i,a;e=s,n=l,r=u,o=d,i=f,a=g,(t=c).setProgressState(!0),p(t,e,o,"addToDictionary",i,function(){t.setProgressState(!1),t.dom.remove(a,!0),m(t,n,r)},function(e){t.notificationManager.open({text:e,type:"error"}),t.setProgressState(!1)})}})),t.push.apply(t,[{type:"separator"},{text:"Ignore",onAction:function(){o(c,l,u,f,g)}},{text:"Ignore all",onAction:function(){o(c,l,u,f,g,!0)}}]),t},I=function(o,i,a,c,s,l){o.ui.registry.addContextMenu("spellchecker",{update:function(e){var t=e;if("mce-spellchecker-word"!==t.className)return[];var n=function(e,t){var n=[],r=h.toArray(e.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=v(r[o]);null!==i&&i.length&&i===t.toString()&&n.push(r[o])}return n}(o,v(t));if(0<n.length){var r=o.dom.createRng();return r.setStartBefore(n[0]),r.setEndAfter(n[n.length-1]),o.selection.setRng(r),P(o,i,a,c,s,l,t.getAttribute("data-mce-word"),n)}}})};!function e(){y.add("spellchecker",function(e,t){if(!1==!(!/(^|[ ,])tinymcespellchecker([, ]|$)/.test(e.getParam("plugins"))||!y.get("tinymcespellchecker")||("undefined"!=typeof N.window.console&&N.window.console.log&&N.window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),0))){var n=k(!1),r=k((x=(v=e).getParam("language","en"),v.getParam("spellchecker_language",x))),o=k(null),i=k(null);return B(e,t,n,o,r,i),I(e,t,i,n,o,r),f=t,g=n,h=o,p=i,m=r,(d=e).addCommand("mceSpellCheck",function(){w(d,f,g,h,p,m)}),a=e,c=n,s=i,l=o,u=r,{getTextMatcher:function(){return l.get()},getWordCharPattern:function(){return S(a)},markErrors:function(e){b(a,c,l,s,e)},getLanguage:function(){return u.get()}}}var a,c,s,l,u,d,f,g,h,p,m,v,x})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL3NwZWxsY2hlY2tlci9wbHVnaW4ubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWEsa0JBQWtCLFFBQVEsT0FBTyxlQUFlLFNBQVMsaUJBQWlCLE1BQU0sa1BBQWtQLDBDQUEwQyxlQUFlLHVDQUF1QyxZQUFZLEVBQUUsa0hBQWtILHNEQUFzRCxjQUFjLHNEQUFzRCxvQkFBb0IsdUhBQXVILGdCQUFnQixvRkFBb0YsT0FBTyx3REFBd0QsY0FBYyx1QkFBdUIsc0JBQXNCLG1DQUFtQyxpQkFBaUIsY0FBYyx1Q0FBdUMsK0JBQStCLFlBQVksV0FBVyxLQUFLLDhDQUE4QyxvR0FBb0csU0FBUyxjQUFjLG1CQUFtQixJQUFJLHNCQUFzQixTQUFTLGNBQWMsdUJBQXVCLG9CQUFvQixLQUFLLFlBQVksY0FBYyx1QkFBdUIsZUFBZSxJQUFJLFNBQVMsWUFBWSxjQUFjLGtDQUFrQyw2REFBNkQsb0JBQW9CLE1BQU0sZ0NBQWdDLDBDQUEwQyxtQkFBbUIsc0VBQXNFLHdCQUF3QixFQUFFLFNBQVMsSUFBSSxPQUFPLDZDQUE2QyxTQUFTLHVCQUF1QixrQkFBa0IsV0FBVyxvQkFBb0IscUNBQXFDLGdDQUFnQywyQ0FBMkMsZ0NBQWdDLGtCQUFrQixzQkFBc0Isb0JBQW9CLFlBQVksZ0JBQWdCLFlBQVksdUJBQXVCLGVBQWUsMENBQTBDLE9BQU8sb0JBQW9CLG1DQUFtQywrQkFBK0Isa0NBQWtDLHVCQUF1QixjQUFjLFFBQVEsRUFBRSw4S0FBOEssUUFBUSw2RkFBNkYsdURBQXVELHNEQUFzRCxrQkFBa0IsZ0JBQWdCLFVBQVUsZUFBZSxlQUFlLFNBQVMsTUFBTSxFQUFFLGtCQUFrQixnQkFBZ0IsTUFBTSw0QkFBNEIsaUJBQWlCLG1CQUFtQixnQkFBZ0IsV0FBVyw0QkFBNEIsOEJBQThCLHNGQUFzRixtQkFBbUIsMkRBQTJELFVBQVUsUUFBUSxrSEFBa0gsbUJBQW1CLDZKQUE2Siw4R0FBOEcsNEVBQTRFLElBQUksS0FBSyxvQ0FBb0MsK0JBQStCLDhDQUE4Qyx5SkFBeUosVUFBVSxrQ0FBa0MsV0FBVyxrRkFBa0YsNkJBQTZCLGlCQUFpQixhQUFhLHVCQUF1QixTQUFTLGVBQWUsMkJBQTJCLGdEQUFnRCxtQ0FBbUMsT0FBTyxzQkFBc0IsTUFBTSxnRUFBZ0UsMkNBQTJDLFVBQVUsc0hBQXNILG9CQUFvQiw2QkFBNkIsS0FBSyx5REFBeUQsTUFBTSxrQkFBa0IsaUZBQWlGLE1BQU0sRUFBRSx3Q0FBd0MseUJBQXlCLGNBQWMsb0VBQW9FLGFBQWEsYUFBYSw0QkFBNEIsb0JBQW9CLGtDQUFrQyxhQUFhLG1CQUFtQiw0REFBNEQseUJBQXlCLHVGQUF1Rix3REFBd0QsOEJBQThCLG1CQUFtQixnQ0FBZ0MsZ0hBQWdILGVBQWUsdUNBQXVDLGdDQUFnQyx1QkFBdUIsK0JBQStCLHNDQUFzQyx1Q0FBdUMsU0FBUyxLQUFLLDRDQUE0QyxtQ0FBbUMsbUJBQW1CLGlCQUFpQixPQUFPLHFDQUFxQyxFQUFFLGdDQUFnQyxxQ0FBcUMsa0JBQWtCLG1CQUFtQiw0QkFBNEIsb0dBQW9HLEVBQUUsb0VBQW9FLGNBQWMsb0NBQW9DLGlDQUFpQyxJQUFJLHVGQUF1RixTQUFTLHdCQUF3QiwyREFBMkQsbU5BQW1OLE9BQU8scUNBQXFDLDRCQUE0QixRQUFRLHVDQUF1QyxFQUFFLGtCQUFrQixlQUFlLElBQUksdUVBQXVFLGlCQUFpQixzQkFBc0IsNEJBQTRCLGFBQWEsU0FBUyxLQUFLLHNDQUFzQyxtQkFBbUIsbUJBQW1CLHNCQUFzQixPQUFPLDRDQUE0QyxHQUFHLDRCQUE0QixVQUFVLEVBQUUsMEpBQTBKLHlEQUF5RCxxQkFBcUIsaUJBQWlCLHNCQUFzQiw0QkFBNEIsWUFBWSxZQUFZLEVBQUUsNkJBQTZCLGtDQUFrQyw0QkFBNEIsUUFBUSwyQkFBMkIsMkRBQTJELEVBQUUseUNBQXlDLGlCQUFpQixVQUFVLDZDQUE2QyxrQkFBa0IsMEZBQTBGLG1EQUFtRCxhQUFhLDRCQUE0QixvQkFBb0IseUJBQXlCLEdBQUcsb0JBQW9CLGlCQUFpQixFQUFFLGtDQUFrQyxjQUFjLEVBQUUsc0NBQXNDLGlCQUFpQixLQUFLLHlCQUF5Qiw2Q0FBNkMsbUJBQW1CLFFBQVEsa0RBQWtELG9CQUFvQiwrREFBK0Qsd0JBQXdCLFdBQVcsS0FBSyxjQUFjLG1EQUFtRCxTQUFTLFNBQVMsZUFBZSx3QkFBd0Isb0lBQW9JLEdBQUcsY0FBYyxtQ0FBbUMsb1RBQW9ULCtHQUErRyxxR0FBcUcsZUFBZSx1QkFBdUIsMEJBQTBCLGVBQWUsK0JBQStCLFlBQVksd0JBQXdCLGFBQWEsd0JBQXdCLGlCQUFpQiw4QkFBOEIsRUFBRSxHQUFHLFMiLCJmaWxlIjoidmVuZG9yc350aW55bWNlLXBsdWdpbi1zcGVsbGNoZWNrZXItcGx1Z2luLW1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBUaW55IFRlY2hub2xvZ2llcywgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIExHUEwgb3IgYSBjb21tZXJjaWFsIGxpY2Vuc2UuXG4gKiBGb3IgTEdQTCBzZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqIEZvciBjb21tZXJjaWFsIGxpY2Vuc2VzIHNlZSBodHRwczovL3d3dy50aW55LmNsb3VkL1xuICpcbiAqIFZlcnNpb246IDUuNC4yICgyMDIwLTA4LTE3KVxuICovXG4hZnVuY3Rpb24oTil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGs9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9LHNldDpmdW5jdGlvbihlKXt0PWV9fX0seT10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuUGx1Z2luTWFuYWdlclwiKSxsPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxoPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLlRvb2xzXCIpLGQ9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuVVJJXCIpLGY9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuWEhSXCIpLGc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oXCJzcGVsbGNoZWNrZXJfcnBjX3VybFwiKX0sUz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgUmVnRXhwKCdbXlxcXFxzIVwiIyQlJigpKissLS4vOjs8PT4/QFtcXFxcXV5fe3x9YFxceGE3XFx4YTlcXHhhYlxceGFlXFx4YjFcXHhiNlxceGI3XFx4YjhcXHhiYlxceGJjXFx4YmRcXHhiZVxceGJmXFx4ZDdcXHhmN1xceGE0XFx1MjAxZFxcdTIwMWNcXHUyMDFlXFx4YTBcXHUyMDAyXFx1MjAwM1xcdTIwMDldKycsXCJnXCIpO3JldHVybiBlLmdldFBhcmFtKFwic3BlbGxjaGVja2VyX3dvcmRjaGFyX3BhdHRlcm5cIix0KX07ZnVuY3Rpb24gVChlKXtyZXR1cm4gZSYmMT09PWUubm9kZVR5cGUmJlwiZmFsc2VcIj09PWUuY29udGVudEVkaXRhYmxlfXZhciByPWZ1bmN0aW9uKGEscil7dmFyIG4saT1bXSx2PXIuZG9tLGc9ci5zY2hlbWEuZ2V0QmxvY2tFbGVtZW50cygpLGg9ci5zY2hlbWEuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCkscD1yLnNjaGVtYS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKTtmdW5jdGlvbiBvKGUsdCl7aWYoIWVbMF0pdGhyb3cgbmV3IEVycm9yKFwiZmluZEFuZFJlcGxhY2VET01UZXh0IGNhbm5vdCBoYW5kbGUgemVyby1sZW5ndGggbWF0Y2hlc1wiKTtyZXR1cm57c3RhcnQ6ZS5pbmRleCxlbmQ6ZS5pbmRleCtlWzBdLmxlbmd0aCx0ZXh0OmVbMF0sZGF0YTp0fX1mdW5jdGlvbiBjKGUpe2Zvcih2YXIgdD1lLnBhcmVudE5vZGU7MDxlLmNoaWxkTm9kZXMubGVuZ3RoOyl0Lmluc2VydEJlZm9yZShlLmNoaWxkTm9kZXNbMF0sZSk7dC5yZW1vdmVDaGlsZChlKX1mdW5jdGlvbiBzKGUpe3ZhciB0PWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLG49W107ZT1cIm51bWJlclwiPT10eXBlb2YgZT9cIlwiK2U6bnVsbDtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG89dFtyXSxpPW8uZ2V0QXR0cmlidXRlKFwiZGF0YS1tY2UtaW5kZXhcIik7bnVsbCE9PWkmJmkubGVuZ3RoJiYtMSE9PW8uY2xhc3NOYW1lLmluZGV4T2YoXCJtY2Utc3BlbGxjaGVja2VyLXdvcmRcIikmJihpIT09ZSYmbnVsbCE9PWV8fG4ucHVzaChvKSl9cmV0dXJuIG59ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQ9aS5sZW5ndGg7dC0tOylpZihpW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX1mdW5jdGlvbiBlKGUpe2Zvcih2YXIgdD0wLG49aS5sZW5ndGg7dDxuJiYhMSE9PWUoaVt0XSx0KTt0KyspO3JldHVybiB0aGlzfWZ1bmN0aW9uIHQoZSl7dmFyIHQsbj1zKGU/bChlKTpudWxsKTtmb3IodD1uLmxlbmd0aDt0LS07KWMoblt0XSk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gdShlKXt2YXIgdD1zKGwoZSkpLG49ci5kb20uY3JlYXRlUm5nKCk7cmV0dXJuIG4uc2V0U3RhcnRCZWZvcmUodFswXSksbi5zZXRFbmRBZnRlcih0W3QubGVuZ3RoLTFdKSxufXZhciBkPWZ1bmN0aW9uIGYoZSl7dmFyIHQ7aWYoMz09PWUubm9kZVR5cGUpcmV0dXJuIGUuZGF0YTtpZihoW2Uubm9kZU5hbWVdJiYhZ1tlLm5vZGVOYW1lXSlyZXR1cm5cIlwiO2lmKFQoZSkpcmV0dXJuXCJcXG5cIjtpZih0PVwiXCIsKGdbZS5ub2RlTmFtZV18fHBbZS5ub2RlTmFtZV0pJiYodCs9XCJcXG5cIiksZT1lLmZpcnN0Q2hpbGQpZm9yKDt0Kz1mKGUpLGU9ZS5uZXh0U2libGluZzspO3JldHVybiB0fShhKTtyZXR1cm57dGV4dDpkLG1hdGNoZXM6aSxlYWNoOmUsZmlsdGVyOmZ1bmN0aW9uIG0obil7dmFyIHI9W107cmV0dXJuIGUoZnVuY3Rpb24oZSx0KXtuKGUsdCkmJnIucHVzaChlKX0pLGk9cix0aGlzfSxyZXNldDpmdW5jdGlvbiB4KCl7cmV0dXJuIGkuc3BsaWNlKDAsaS5sZW5ndGgpLHQoKSx0aGlzfSxtYXRjaEZyb21FbGVtZW50OmZ1bmN0aW9uIE4oZSl7cmV0dXJuIGlbZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1jZS1pbmRleFwiKV19LGVsZW1lbnRGcm9tTWF0Y2g6ZnVuY3Rpb24gayhlKXtyZXR1cm4gcyhsKGUpKVswXX0sZmluZDpmdW5jdGlvbiB5KGUsdCl7aWYoZCYmZS5nbG9iYWwpZm9yKDtuPWUuZXhlYyhkKTspaS5wdXNoKG8obix0KSk7cmV0dXJuIHRoaXN9LGFkZDpmdW5jdGlvbiBTKGUsdCxuKXtyZXR1cm4gaS5wdXNoKHtzdGFydDplLGVuZDplK3QsdGV4dDpkLnN1YnN0cihlLHQpLGRhdGE6bn0pLHRoaXN9LHdyYXA6ZnVuY3Rpb24gdyhlKXtyZXR1cm4gaS5sZW5ndGgmJmZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByLG8saSxhLGMscz1bXSxsPTAsdT1lLGQ9MDsodD10LnNsaWNlKDApKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3RhcnQtdC5zdGFydH0pLGM9dC5zaGlmdCgpO2U6Zm9yKDs7KXtpZigoZ1t1Lm5vZGVOYW1lXXx8cFt1Lm5vZGVOYW1lXXx8VCh1KSkmJmwrKywzPT09dS5ub2RlVHlwZSYmKCFvJiZ1Lmxlbmd0aCtsPj1jLmVuZD8obz11LGE9Yy5lbmQtbCk6ciYmcy5wdXNoKHUpLCFyJiZ1Lmxlbmd0aCtsPmMuc3RhcnQmJihyPXUsaT1jLnN0YXJ0LWwpLGwrPXUubGVuZ3RoKSxyJiZvKXtpZih1PW4oe3N0YXJ0Tm9kZTpyLHN0YXJ0Tm9kZUluZGV4OmksZW5kTm9kZTpvLGVuZE5vZGVJbmRleDphLGlubmVyTm9kZXM6cyxtYXRjaDpjLnRleHQsbWF0Y2hJbmRleDpkfSksbC09by5sZW5ndGgtYSxvPXI9bnVsbCxzPVtdLGQrKywhKGM9dC5zaGlmdCgpKSlicmVha31lbHNlIGlmKGhbdS5ub2RlTmFtZV0mJiFnW3Uubm9kZU5hbWVdfHwhdS5maXJzdENoaWxkKXtpZih1Lm5leHRTaWJsaW5nKXt1PXUubmV4dFNpYmxpbmc7Y29udGludWV9fWVsc2UgaWYoIVQodSkpe3U9dS5maXJzdENoaWxkO2NvbnRpbnVlfWZvcig7Oyl7aWYodS5uZXh0U2libGluZyl7dT11Lm5leHRTaWJsaW5nO2JyZWFrfWlmKHUucGFyZW50Tm9kZT09PWUpYnJlYWsgZTt1PXUucGFyZW50Tm9kZX19fShhLGksZnVuY3Rpb24gdChvKXtmdW5jdGlvbiBtKGUsdCl7dmFyIG49aVt0XTtuLnN0ZW5jaWx8fChuLnN0ZW5jaWw9byhuKSk7dmFyIHI9bi5zdGVuY2lsLmNsb25lTm9kZSghMSk7cmV0dXJuIHIuc2V0QXR0cmlidXRlKFwiZGF0YS1tY2UtaW5kZXhcIix0KSxlJiZyLmFwcGVuZENoaWxkKHYuZG9jLmNyZWF0ZVRleHROb2RlKGUpKSxyfXJldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHIsbz1lLnN0YXJ0Tm9kZSxpPWUuZW5kTm9kZSxhPWUubWF0Y2hJbmRleCxjPXYuZG9jO2lmKG89PT1pKXt2YXIgcz1vO3I9cy5wYXJlbnROb2RlLDA8ZS5zdGFydE5vZGVJbmRleCYmKHQ9Yy5jcmVhdGVUZXh0Tm9kZShzLmRhdGEuc3Vic3RyaW5nKDAsZS5zdGFydE5vZGVJbmRleCkpLHIuaW5zZXJ0QmVmb3JlKHQscykpO3ZhciBsPW0oZS5tYXRjaCxhKTtyZXR1cm4gci5pbnNlcnRCZWZvcmUobCxzKSxlLmVuZE5vZGVJbmRleDxzLmxlbmd0aCYmKG49Yy5jcmVhdGVUZXh0Tm9kZShzLmRhdGEuc3Vic3RyaW5nKGUuZW5kTm9kZUluZGV4KSksci5pbnNlcnRCZWZvcmUobixzKSkscy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLGx9dD1jLmNyZWF0ZVRleHROb2RlKG8uZGF0YS5zdWJzdHJpbmcoMCxlLnN0YXJ0Tm9kZUluZGV4KSksbj1jLmNyZWF0ZVRleHROb2RlKGkuZGF0YS5zdWJzdHJpbmcoZS5lbmROb2RlSW5kZXgpKTtmb3IodmFyIHU9bShvLmRhdGEuc3Vic3RyaW5nKGUuc3RhcnROb2RlSW5kZXgpLGEpLGQ9MCxmPWUuaW5uZXJOb2Rlcy5sZW5ndGg7ZDxmOysrZCl7dmFyIGc9ZS5pbm5lck5vZGVzW2RdLGg9bShnLmRhdGEsYSk7Zy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChoLGcpfXZhciBwPW0oaS5kYXRhLnN1YnN0cmluZygwLGUuZW5kTm9kZUluZGV4KSxhKTtyZXR1cm4ocj1vLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh0LG8pLHIuaW5zZXJ0QmVmb3JlKHUsbyksci5yZW1vdmVDaGlsZChvKSwocj1pLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZShwLGkpLHIuaW5zZXJ0QmVmb3JlKG4saSksci5yZW1vdmVDaGlsZChpKSxwfX0oZSkpLHRoaXN9LHVud3JhcDp0LHJlcGxhY2U6ZnVuY3Rpb24gYihlLHQpe3ZhciBuPXUoZSk7cmV0dXJuIG4uZGVsZXRlQ29udGVudHMoKSwwPHQubGVuZ3RoJiZuLmluc2VydE5vZGUoci5kb20uZG9jLmNyZWF0ZVRleHROb2RlKHQpKSxufSxyYW5nZUZyb21NYXRjaDp1LGluZGV4T2Y6bH19LHU9ZnVuY3Rpb24oZSx0KXtpZighdC5nZXQoKSl7dmFyIG49cihlLmdldEJvZHkoKSxlKTt0LnNldChuKX1yZXR1cm4gdC5nZXQoKX0scD1mdW5jdGlvbihlLHQsbixyLG8saSxhKXt2YXIgYyxzLGwsdT1lLmdldFBhcmFtKFwic3BlbGxjaGVja2VyX2NhbGxiYWNrXCIpOyh1fHwoYz1lLHM9dCxsPW4sZnVuY3Rpb24oZSx0LHIsbyl7dmFyIG49e21ldGhvZDplLGxhbmc6bC5nZXQoKX0saT1cIlwiO25bXCJhZGRUb0RpY3Rpb25hcnlcIj09PWU/XCJ3b3JkXCI6XCJ0ZXh0XCJdPXQsaC5lYWNoKG4sZnVuY3Rpb24oZSx0KXtpJiYoaSs9XCImXCIpLGkrPXQrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGUpfSksZi5zZW5kKHt1cmw6bmV3IGQocykudG9BYnNvbHV0ZShnKGMpKSx0eXBlOlwicG9zdFwiLGNvbnRlbnRfdHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGRhdGE6aSxzdWNjZXNzOmZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UoZSk7aWYodCl0LmVycm9yP28odC5lcnJvcik6cih0KTtlbHNle3ZhciBuPWMudHJhbnNsYXRlKFwiU2VydmVyIHJlc3BvbnNlIHdhc24ndCBwcm9wZXIgSlNPTi5cIik7byhuKX19LGVycm9yOmZ1bmN0aW9uKCl7dmFyIGU9Yy50cmFuc2xhdGUoXCJUaGUgc3BlbGxpbmcgc2VydmljZSB3YXMgbm90IGZvdW5kOiAoXCIpK2coYykrYy50cmFuc2xhdGUoXCIpXCIpO28oZSl9fSl9KSkuY2FsbChlLnBsdWdpbnMuc3BlbGxjaGVja2VyLHIsbyxpLGEpfSx3PWZ1bmN0aW9uKHQsZSxuLHIsbyxpKXtpZighYSh0LG4scikpe3Quc2V0UHJvZ3Jlc3NTdGF0ZSghMCkscCh0LGUsaSxcInNwZWxsY2hlY2tcIix1KHQscikudGV4dCxmdW5jdGlvbihlKXtiKHQsbixyLG8sZSl9LGZ1bmN0aW9uKGUpe3Qubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0ZXh0OmUsdHlwZTpcImVycm9yXCJ9KSx0LnNldFByb2dyZXNzU3RhdGUoITEpLGEodCxuLHIpfSksdC5mb2N1cygpfX0sbT1mdW5jdGlvbihlLHQsbil7ZS5kb20uc2VsZWN0KFwic3Bhbi5tY2Utc3BlbGxjaGVja2VyLXdvcmRcIikubGVuZ3RofHxhKGUsdCxuKX0sbz1mdW5jdGlvbih0LGUsbixyLG8saSl7dC5zZWxlY3Rpb24uY29sbGFwc2UoKSxpP2guZWFjaCh0LmRvbS5zZWxlY3QoXCJzcGFuLm1jZS1zcGVsbGNoZWNrZXItd29yZFwiKSxmdW5jdGlvbihlKXtlLmdldEF0dHJpYnV0ZShcImRhdGEtbWNlLXdvcmRcIik9PT1yJiZ0LmRvbS5yZW1vdmUoZSwhMCl9KTp0LmRvbS5yZW1vdmUobywhMCksbSh0LGUsbil9LGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk7aWYodShlLG4pLnJlc2V0KCksZS5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsociksbi5zZXQobnVsbCksdC5nZXQoKSlyZXR1cm4gdC5zZXQoITEpLGUuZmlyZShcIlNwZWxsY2hlY2tFbmRcIiksITB9LHY9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1jZS1pbmRleFwiKTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD9cIlwiK3Q6dH0sYj1mdW5jdGlvbih0LGUsbixyLG8pe3ZhciBpPSEhby5kaWN0aW9uYXJ5LGE9by53b3JkcztpZih0LnNldFByb2dyZXNzU3RhdGUoITEpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKGwuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfShhKSl7dmFyIGM9dC50cmFuc2xhdGUoXCJObyBtaXNzcGVsbGluZ3MgZm91bmQuXCIpO3JldHVybiB0Lm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dGV4dDpjLHR5cGU6XCJpbmZvXCJ9KSx2b2lkIGUuc2V0KCExKX1yLnNldCh7c3VnZ2VzdGlvbnM6YSxoYXNEaWN0aW9uYXJ5U3VwcG9ydDppfSk7dmFyIHM9dC5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKTt1KHQsbikuZmluZChTKHQpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFhW2UudGV4dF19KS53cmFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LmRvbS5jcmVhdGUoXCJzcGFuXCIse1wiY2xhc3NcIjpcIm1jZS1zcGVsbGNoZWNrZXItd29yZFwiLFwiYXJpYS1pbnZhbGlkXCI6XCJzcGVsbGluZ1wiLFwiZGF0YS1tY2UtYm9ndXNcIjoxLFwiZGF0YS1tY2Utd29yZFwiOmUudGV4dH0pfSksdC5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsocyksZS5zZXQoITApLHQuZmlyZShcIlNwZWxsY2hlY2tTdGFydFwiKX0seD1mdW5jdGlvbigpe3JldHVybih4PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBvIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiYoZVtvXT10W29dKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQT1cIlNwZWxsY2hlY2tTdGFydCBTcGVsbGNoZWNrRW5kXCIsQj1mdW5jdGlvbihuLGUscix0LG8saSl7dmFyIGEsYyxzLGw9KHM9bixhPWgubWFwKHMuZ2V0UGFyYW0oXCJzcGVsbGNoZWNrZXJfbGFuZ3VhZ2VzXCIsXCJFbmdsaXNoPWVuLERhbmlzaD1kYSxEdXRjaD1ubCxGaW5uaXNoPWZpLEZyZW5jaD1mcl9GUixHZXJtYW49ZGUsSXRhbGlhbj1pdCxQb2xpc2g9cGwsUG9ydHVndWVzZT1wdF9CUixTcGFuaXNoPWVzLFN3ZWRpc2g9c3ZcIikuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOihlPWUuc3BsaXQoXCI9XCIpKVswXSx2YWx1ZTplWzFdfX0pLGM9W10saC5lYWNoKGEsZnVuY3Rpb24oZSl7Yy5wdXNoKHtzZWxlY3RhYmxlOiEwLHRleHQ6ZS5uYW1lLGRhdGE6ZS52YWx1ZX0pfSksYyksdT1mdW5jdGlvbigpe3cobixlLHIsdCxpLG8pfSxkPXt0b29sdGlwOlwiU3BlbGxjaGVja1wiLG9uQWN0aW9uOnUsaWNvbjpcInNwZWxsLWNoZWNrXCIsb25TZXR1cDpmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2Uuc2V0QWN0aXZlKHIuZ2V0KCkpfTtyZXR1cm4gbi5vbihBLHQpLGZ1bmN0aW9uKCl7bi5vZmYoQSx0KX19fSxmPXgoeCh7fSxkKSx7dHlwZTpcInNwbGl0YnV0dG9uXCIsc2VsZWN0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09by5nZXQoKX0sZmV0Y2g6ZnVuY3Rpb24oZSl7ZShoLm1hcChsLGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOlwiY2hvaWNlaXRlbVwiLHZhbHVlOmUuZGF0YSx0ZXh0OmUudGV4dH19KSl9LG9uSXRlbUFjdGlvbjpmdW5jdGlvbihlLHQpe28uc2V0KHQpfX0pOzE8bC5sZW5ndGg/bi51aS5yZWdpc3RyeS5hZGRTcGxpdEJ1dHRvbihcInNwZWxsY2hlY2tlclwiLGYpOm4udWkucmVnaXN0cnkuYWRkVG9nZ2xlQnV0dG9uKFwic3BlbGxjaGVja2VyXCIsZCksbi51aS5yZWdpc3RyeS5hZGRUb2dnbGVNZW51SXRlbShcInNwZWxsY2hlY2tlclwiLHt0ZXh0OlwiU3BlbGxjaGVja1wiLGljb246XCJzcGVsbC1jaGVja1wiLG9uU2V0dXA6ZnVuY3Rpb24oZSl7ZS5zZXRBY3RpdmUoci5nZXQoKSk7dmFyIHQ9ZnVuY3Rpb24oKXtlLnNldEFjdGl2ZShyLmdldCgpKX07cmV0dXJuIG4ub24oQSx0KSxmdW5jdGlvbigpe24ub2ZmKEEsdCl9fSxvbkFjdGlvbjp1fSl9LFA9ZnVuY3Rpb24oYyxzLGUsbCx1LGQsZixnKXt2YXIgdD1bXSxuPWUuZ2V0KCkuc3VnZ2VzdGlvbnNbZl07cmV0dXJuIGguZWFjaChuLGZ1bmN0aW9uKGUpe3QucHVzaCh7dGV4dDplLG9uQWN0aW9uOmZ1bmN0aW9uKCl7Yy5pbnNlcnRDb250ZW50KGMuZG9tLmVuY29kZShlKSksYy5kb20ucmVtb3ZlKGcpLG0oYyxsLHUpfX0pfSksZS5nZXQoKS5oYXNEaWN0aW9uYXJ5U3VwcG9ydCYmKHQucHVzaCh7dHlwZTpcInNlcGFyYXRvclwifSksdC5wdXNoKHt0ZXh0OlwiQWRkIHRvIGRpY3Rpb25hcnlcIixvbkFjdGlvbjpmdW5jdGlvbigpe3ZhciB0LGUsbixyLG8saSxhO2U9cyxuPWwscj11LG89ZCxpPWYsYT1nLCh0PWMpLnNldFByb2dyZXNzU3RhdGUoITApLHAodCxlLG8sXCJhZGRUb0RpY3Rpb25hcnlcIixpLGZ1bmN0aW9uKCl7dC5zZXRQcm9ncmVzc1N0YXRlKCExKSx0LmRvbS5yZW1vdmUoYSwhMCksbSh0LG4scil9LGZ1bmN0aW9uKGUpe3Qubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0ZXh0OmUsdHlwZTpcImVycm9yXCJ9KSx0LnNldFByb2dyZXNzU3RhdGUoITEpfSl9fSkpLHQucHVzaC5hcHBseSh0LFt7dHlwZTpcInNlcGFyYXRvclwifSx7dGV4dDpcIklnbm9yZVwiLG9uQWN0aW9uOmZ1bmN0aW9uKCl7byhjLGwsdSxmLGcpfX0se3RleHQ6XCJJZ25vcmUgYWxsXCIsb25BY3Rpb246ZnVuY3Rpb24oKXtvKGMsbCx1LGYsZywhMCl9fV0pLHR9LEk9ZnVuY3Rpb24obyxpLGEsYyxzLGwpe28udWkucmVnaXN0cnkuYWRkQ29udGV4dE1lbnUoXCJzcGVsbGNoZWNrZXJcIix7dXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYoXCJtY2Utc3BlbGxjaGVja2VyLXdvcmRcIiE9PXQuY2xhc3NOYW1lKXJldHVybltdO3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49W10scj1oLnRvQXJyYXkoZS5nZXRCb2R5KCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzcGFuXCIpKTtpZihyLmxlbmd0aClmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9dihyW29dKTtudWxsIT09aSYmaS5sZW5ndGgmJmk9PT10LnRvU3RyaW5nKCkmJm4ucHVzaChyW29dKX1yZXR1cm4gbn0obyx2KHQpKTtpZigwPG4ubGVuZ3RoKXt2YXIgcj1vLmRvbS5jcmVhdGVSbmcoKTtyZXR1cm4gci5zZXRTdGFydEJlZm9yZShuWzBdKSxyLnNldEVuZEFmdGVyKG5bbi5sZW5ndGgtMV0pLG8uc2VsZWN0aW9uLnNldFJuZyhyKSxQKG8saSxhLGMscyxsLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tY2Utd29yZFwiKSxuKX19fSl9OyFmdW5jdGlvbiBlKCl7eS5hZGQoXCJzcGVsbGNoZWNrZXJcIixmdW5jdGlvbihlLHQpe2lmKCExPT0hKCEvKF58WyAsXSl0aW55bWNlc3BlbGxjaGVja2VyKFssIF18JCkvLnRlc3QoZS5nZXRQYXJhbShcInBsdWdpbnNcIikpfHwheS5nZXQoXCJ0aW55bWNlc3BlbGxjaGVja2VyXCIpfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE4ud2luZG93LmNvbnNvbGUmJk4ud2luZG93LmNvbnNvbGUubG9nJiZOLndpbmRvdy5jb25zb2xlLmxvZyhcIlNwZWxsIENoZWNrZXIgUHJvIGlzIGluY29tcGF0aWJsZSB3aXRoIFNwZWxsIENoZWNrZXIgcGx1Z2luISBSZW1vdmUgJ3NwZWxsY2hlY2tlcicgZnJvbSB0aGUgJ3BsdWdpbnMnIG9wdGlvbi5cIiksMCkpKXt2YXIgbj1rKCExKSxyPWsoKHg9KHY9ZSkuZ2V0UGFyYW0oXCJsYW5ndWFnZVwiLFwiZW5cIiksdi5nZXRQYXJhbShcInNwZWxsY2hlY2tlcl9sYW5ndWFnZVwiLHgpKSksbz1rKG51bGwpLGk9ayhudWxsKTtyZXR1cm4gQihlLHQsbixvLHIsaSksSShlLHQsaSxuLG8sciksZj10LGc9bixoPW8scD1pLG09ciwoZD1lKS5hZGRDb21tYW5kKFwibWNlU3BlbGxDaGVja1wiLGZ1bmN0aW9uKCl7dyhkLGYsZyxoLHAsbSl9KSxhPWUsYz1uLHM9aSxsPW8sdT1yLHtnZXRUZXh0TWF0Y2hlcjpmdW5jdGlvbigpe3JldHVybiBsLmdldCgpfSxnZXRXb3JkQ2hhclBhdHRlcm46ZnVuY3Rpb24oKXtyZXR1cm4gUyhhKX0sbWFya0Vycm9yczpmdW5jdGlvbihlKXtiKGEsYyxsLHMsZSl9LGdldExhbmd1YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIHUuZ2V0KCl9fX12YXIgYSxjLHMsbCx1LGQsZixnLGgscCxtLHYseH0pfSgpfSh3aW5kb3cpOyJdLCJzb3VyY2VSb290IjoiIn0=