(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~tinymce-plugin-fullscreen-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/fullscreen/plugin.min.js":
/*!***************************************************************!*\
  !*** ./node_modules/tinymce/plugins/fullscreen/plugin.min.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(p){"use strict";var n,t,e,c=function(n){var t=n;return{get:function(){return t},set:function(n){t=n}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(n){return{isFullscreen:function(){return null!==n.get()}}},o=function(){},a=function(n){return function(){return n}},f=a(!1),u=a(!0),l=function(){return d},d=(n=function(n){return n.isNone()},{fold:function(n,t){return n()},is:f,isSome:f,isNone:u,getOr:e=function(n){return n},getOrThunk:t=function(n){return n()},getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(undefined),or:e,orThunk:t,map:l,each:o,bind:l,exists:f,forall:u,filter:l,equals:n,equals_:n,toArray:function(){return[]},toString:a("none()")}),s=function(e){var n=a(e),t=function(){return o},r=function(n){return n(e)},o={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:u,isNone:f,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:t,orThunk:t,map:function(n){return s(n(e))},each:function(n){n(e)},bind:r,exists:r,forall:r,filter:function(n){return n(e)?o:d},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(f,function(n){return t(e,n)})}};return o},m={some:s,none:l,from:function(n){return null===n||n===undefined?d:s(n)}},h=function(){return n=function(n){n.unbind()},t=c(m.none()),e=function(){t.get().each(n)},{clear:function(){e(),t.set(m.none())},isSet:function(){return t.get().isSome()},set:function(n){e(),t.set(m.some(n))}};var n,t,e},g=function(r){return function(n){return e=typeof(t=n),(null===t?"null":"object"==e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e)===r;var t,e}},v=function(t){return function(n){return typeof n===t}},y=g("string"),w=g("array"),b=v("boolean"),S=function(n){return!(null===(t=n)||t===undefined);var t},T=v("function"),x=v("number"),D=Array.prototype.push,E=function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var u=n[o];r[o]=t(u,o)}return r},A=function(n,t){for(var e=0,r=n.length;e<r;e++){t(n[e],e)}},N=function(n,t){for(var e=[],r=0,o=n.length;r<o;r++){var u=n[r];t(u,r)&&e.push(u)}return e},O=function(n,t){return function(n){for(var t=[],e=0,r=n.length;e<r;++e){if(!w(n[e]))throw new Error("Arr.flatten item "+e+" was not an array, input: "+n);D.apply(t,n[e])}return t}(E(n,t))},C=Object.keys,M=function(n){return n.style!==undefined&&T(n.style.getPropertyValue)},k=function(n){if(null===n||n===undefined)throw new Error("Node cannot be null or undefined");return{dom:a(n)}},F={fromHtml:function(n,t){var e=(t||p.document).createElement("div");if(e.innerHTML=n,!e.hasChildNodes()||1<e.childNodes.length)throw p.console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return k(e.childNodes[0])},fromTag:function(n,t){var e=(t||p.document).createElement(n);return k(e)},fromText:function(n,t){var e=(t||p.document).createTextNode(n);return k(e)},fromDom:k,fromPoint:function(n,t,e){var r=n.dom();return m.from(r.elementFromPoint(t,e)).map(k)}},P=("undefined"!=typeof p.window?p.window:Function("return this;")(),function(t){return function(n){return n.dom().nodeType===t}}),L=P(1),H=P(3),q=P(9),V=P(11),W=function(n,t){var e=n.dom();if(1!==e.nodeType)return!1;var r=e;if(r.matches!==undefined)return r.matches(t);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(t);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(t);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},j=function(e){var n;return n=e,m.from(n.dom().parentNode).map(F.fromDom).map(z).map(function(n){return N(n,function(n){return t=n,e.dom()!==t.dom();var t})}).getOr([])},z=function(n){return E(n.dom().childNodes,F.fromDom)},B=T(p.Element.prototype.attachShadow)&&T(p.Node.prototype.getRootNode),I=a(B),R=B?function(n){return F.fromDom(n.dom().getRootNode())}:function(n){return q(n)?n:(t=n,F.fromDom(t.dom().ownerDocument));var t},U=function(n){var t=R(n);return V(t)?m.some(t):m.none()},_=function(n){return F.fromDom(n.dom().host)},K=function(n){if(I()&&S(n.target)){var t=F.fromDom(n.target);if(L(t)&&X(F.fromDom(n.target))){if(n.composed&&n.composedPath){var e=n.composedPath();if(e)return 0===(r=e).length?m.none():m.some(r[0])}}}var r;return m.from(n.target)},X=function(n){return S(n.dom().shadowRoot)},Y=function(n){var t,e,r=H(n)?n.dom().parentNode:n.dom();return r!==undefined&&null!==r&&null!==r.ownerDocument&&U(F.fromDom(r)).fold(function(){return r.ownerDocument.body.contains(r)},(t=Y,e=_,function(n){return t(e(n))}))},G=function(n,t,e){!function(n,t,e){if(!(y(e)||b(e)||x(e)))throw p.console.error("Invalid call to Attr.set. Key ",t,":: Value ",e,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(t,e+"")}(n.dom(),t,e)},J=function(n,t){var e=n.dom().getAttribute(t);return null===e?undefined:e},Q=function(n,t){n.dom().removeAttribute(t)},Z=function(n,t){var e=n.dom();!function(n,t){for(var e=C(n),r=0,o=e.length;r<o;r++){var u=e[r];t(n[u],u)}}(t,function(n,t){!function(n,t,e){if(!y(e))throw p.console.error("Invalid call to CSS.set. Property ",t,":: Value ",e,":: Element ",n),new Error("CSS value must be a string: "+e);M(n)&&n.style.setProperty(t,e)}(e,t,n)})},$=function(n,t){return M(n)?n.style.getPropertyValue(t):""},nn=function(n){var e,r,t,o,u,i=F.fromDom(K(n).getOr(n.target)),c=function(){return n.stopPropagation()},f=function(){return n.preventDefault()},l=(e=f,r=c,function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e(r.apply(null,n))});return t=i,o=n.clientX,u=n.clientY,{target:a(t),x:a(o),y:a(u),stop:c,prevent:f,kill:l,raw:a(n)}},tn=function(e,r){return{left:a(e),top:a(r),translate:function(n,t){return tn(e+n,r+t)}}},en=tn,rn=function(n){var t=n===undefined?p.window:n;return m.from(t.visualViewport)},on=function(n,t,e,r){return{x:n,y:t,width:e,height:r,right:n+e,bottom:t+r}},un=function(n){var t,e,r,o,u=n===undefined?p.window:n,i=u.document,c=(t=F.fromDom(i),e=t!==undefined?t.dom():p.document,r=e.body.scrollLeft||e.documentElement.scrollLeft,o=e.body.scrollTop||e.documentElement.scrollTop,en(r,o));return rn(u).fold(function(){var n=u.document.documentElement,t=n.clientWidth,e=n.clientHeight;return on(c.left(),c.top(),t,e)},function(n){return on(Math.max(n.pageLeft,c.left()),Math.max(n.pageTop,c.top()),n.width,n.height)})},cn=function(e,r,n){return rn(n).map(function(n){var t=function(n){return r(nn(n))};return n.addEventListener(e,t),{unbind:function(){return n.removeEventListener(e,t)}}}).getOrThunk(function(){return{unbind:o}})},fn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ln=tinymce.util.Tools.resolve("tinymce.Env"),an=tinymce.util.Tools.resolve("tinymce.util.Delay"),dn=function(n,t){n.fire("FullscreenStateChanged",{state:t})},sn=function(n,t,e){return N(function(n,t){for(var e=T(t)?t:f,r=n.dom(),o=[];null!==r.parentNode&&r.parentNode!==undefined;){var u=r.parentNode,i=F.fromDom(u);if(o.push(i),!0===e(i))break;r=u}return o}(n,e),t)},mn=function(n){return t=n,o=e===undefined?p.document:e.dom(),1!==(r=o).nodeType&&9!==r.nodeType&&11!==r.nodeType||0===r.childElementCount?[]:E(o.querySelectorAll(t),F.fromDom);var t,e,r,o},hn=function(n,t){return e=function(n){return W(n,t)},N(j(n),e);var e},pn="data-ephox-mobile-fullscreen-style",gn="position:absolute!important;",vn="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",yn=ln.os.isAndroid(),wn=function(n){var t,e,r,o,u=(e="background-color",r=(t=n).dom(),""!==(o=p.window.getComputedStyle(r).getPropertyValue(e))||Y(t)?o:$(r,e));return u!==undefined&&""!==u?"background-color:"+u+"!important":"background-color:rgb(255,255,255)!important;"},bn=function(o,n,t){var e,r,u=function(r){return function(n){var t=J(n,"style"),e=t===undefined?"no-styles":t.trim();e!==r&&(G(n,pn,e),Z(n,o.parseStyle(r)))}},i=(e="*",sn(n,function(n){return W(n,e)},r)),c=O(i,function(n){return hn(n,"*:not(.tox-silver-sink)")}),f=wn(t);A(c,u("display:none!important;")),A(i,u(gn+vn+f)),u((!0===yn?"":gn)+vn+f)(n)},Sn=fn.DOM,Tn=rn().fold(function(){return{bind:o,unbind:o}},function(t){var e,r=(e=c(m.none()),{clear:function(){e.set(m.none())},set:function(n){e.set(m.some(n))},isSet:function(){return e.get().isSome()},on:function(n){e.get().each(n)}}),o=h(),u=h(),i=an.throttle(function(){p.document.body.scrollTop=0,p.document.documentElement.scrollTop=0,p.window.requestAnimationFrame(function(){r.on(function(n){return Z(n,{top:t.offsetTop+"px",left:t.offsetLeft+"px",height:t.height+"px",width:t.width+"px"})})})},50);return{bind:function(n){r.set(n),i(),o.set(cn("resize",i)),u.set(cn("scroll",i))},unbind:function(){r.on(function(){o.clear(),u.clear()}),r.clear()}}}),xn=function(t,n){var e,r,o=p.document.body,u=p.document.documentElement,i=t.getContainer(),c=F.fromDom(i),f=n.get(),l=F.fromDom(t.getBody()),a=ln.deviceType.isTouch(),d=i.style,s=t.iframeElement.style,m=function(){var e,n;a&&(e=t.dom,n=mn("["+pn+"]"),A(n,function(n){var t=J(n,pn);"no-styles"!==t?Z(n,e.parseStyle(t)):Q(n,"style"),Q(n,pn)})),Sn.removeClass(o,"tox-fullscreen"),Sn.removeClass(u,"tox-fullscreen"),Sn.removeClass(i,"tox-fullscreen"),Tn.unbind()};if(f)s.width=f.iframeWidth,s.height=f.iframeHeight,d.width=f.containerWidth,d.height=f.containerHeight,d.top=f.containerTop,d.left=f.containerLeft,e=f.scrollPos,p.window.scrollTo(e.x,e.y),n.set(null),dn(t,!1),m(),t.off("remove",m);else{var h={scrollPos:{x:(r=un(p.window)).x,y:r.y},containerWidth:d.width,containerHeight:d.height,containerTop:d.top,containerLeft:d.left,iframeWidth:s.width,iframeHeight:s.height};a&&bn(t.dom,c,l),s.width=s.height="100%",d.width=d.height="",Sn.addClass(o,"tox-fullscreen"),Sn.addClass(u,"tox-fullscreen"),Sn.addClass(i,"tox-fullscreen"),Tn.bind(c),t.on("remove",m),n.set(h),dn(t,!0)}},Dn=function(e,r){return function(t){t.setActive(null!==r.get());var n=function(n){return t.setActive(n.state)};return e.on("FullscreenStateChanged",n),function(){return e.off("FullscreenStateChanged",n)}}};!function En(){r.add("fullscreen",function(n){var t,e,r,o,u=c(null);return n.inline||(e=u,(t=n).addCommand("mceFullScreen",function(){xn(t,e)}),o=u,(r=n).ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return r.execCommand("mceFullScreen")},onSetup:Dn(r,o)}),r.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return r.execCommand("mceFullScreen")},onSetup:Dn(r,o)}),n.addShortcut("Meta+Shift+F","","mceFullScreen")),i(u)})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL2Z1bGxzY3JlZW4vcGx1Z2luLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxhQUFhLHdCQUF3QixRQUFRLE9BQU8sZUFBZSxTQUFTLGlCQUFpQixNQUFNLHFFQUFxRSxPQUFPLHdCQUF3Qix3QkFBd0IsZUFBZSxlQUFlLGtCQUFrQixVQUFVLDhCQUE4QixTQUFTLGtCQUFrQixrQkFBa0IsRUFBRSxtQkFBbUIsV0FBVyw0Q0FBNEMsU0FBUywwQkFBMEIsV0FBVyxzQkFBc0Isc0RBQXNELG1KQUFtSixTQUFTLHNCQUFzQixnQkFBZ0Isd0JBQXdCLFNBQVMsZUFBZSxZQUFZLElBQUksbUJBQW1CLFlBQVksZ0JBQWdCLGFBQWEsK0dBQStHLGVBQWUsa0JBQWtCLEtBQUssNkNBQTZDLGdCQUFnQixvQkFBb0IsVUFBVSxxQkFBcUIsb0JBQW9CLG9CQUFvQixlQUFlLHVCQUF1Qiw0QkFBNEIsY0FBYyxJQUFJLFNBQVMsSUFBSSwrQkFBK0IsdUNBQXVDLGNBQWMscUJBQXFCLFdBQVcsNEJBQTRCLGdCQUFnQixFQUFFLGlCQUFpQixvQkFBb0Isa0JBQWtCLHdCQUF3QixpQkFBaUIsdUJBQXVCLFVBQVUsZUFBZSxtQkFBbUIsMFBBQTBQLFNBQVMsZUFBZSxtQkFBbUIscUJBQXFCLHlEQUF5RCxxQ0FBcUMsTUFBTSxzRUFBc0Usc0NBQXNDLElBQUksS0FBSyxXQUFXLFlBQVksU0FBUyxpQkFBaUIsdUJBQXVCLElBQUksS0FBSyxXQUFXLGlCQUFpQiw0QkFBNEIsSUFBSSxLQUFLLFdBQVcsa0JBQWtCLFNBQVMsaUJBQWlCLG1CQUFtQiw0QkFBNEIsSUFBSSxLQUFLLGtGQUFrRixnQkFBZ0IsU0FBUyxTQUFTLDZCQUE2Qix3REFBd0QsZUFBZSwrRUFBK0UsT0FBTyxVQUFVLElBQUksdUJBQXVCLDJDQUEyQywyS0FBMkssMEJBQTBCLHVCQUF1Qix1Q0FBdUMsWUFBWSx3QkFBd0Isd0NBQXdDLFlBQVkscUNBQXFDLGNBQWMsK0NBQStDLGdFQUFnRSxpQkFBaUIsbUJBQW1CLDZCQUE2QiwrQ0FBK0MsY0FBYywyQkFBMkIsUUFBUSw2Q0FBNkMsaUVBQWlFLHlFQUF5RSxtRUFBbUUsa0RBQWtELGVBQWUsTUFBTSw0RUFBNEUsdUJBQXVCLDZCQUE2QixNQUFNLEVBQUUsWUFBWSxlQUFlLHVDQUF1QywrRkFBK0Ysd0NBQXdDLGFBQWEscURBQXFELE1BQU0sZUFBZSxXQUFXLCtCQUErQixlQUFlLCtCQUErQixlQUFlLHFCQUFxQiwwQkFBMEIsaUNBQWlDLCtCQUErQix1QkFBdUIscURBQXFELE1BQU0sd0JBQXdCLGVBQWUsNkJBQTZCLGVBQWUsMENBQTBDLHdGQUF3Rix3Q0FBd0Msc0JBQXNCLGVBQWUsR0FBRyxtQkFBbUIsaUJBQWlCLDJKQUEySix1QkFBdUIsY0FBYyxpQkFBaUIsOEJBQThCLDRCQUE0QixpQkFBaUIsMkJBQTJCLGlCQUFpQixjQUFjLGVBQWUsOEJBQThCLElBQUksS0FBSyxXQUFXLFdBQVcsaUJBQWlCLGlCQUFpQixpSkFBaUosK0JBQStCLFFBQVEsRUFBRSxpQkFBaUIsMkNBQTJDLGdCQUFnQiw2REFBNkQsMkJBQTJCLGNBQWMsMEJBQTBCLHVCQUF1QixpQkFBaUIsbUJBQW1CLHNCQUFzQiwwQkFBMEIsRUFBRSxvQ0FBb0MsNERBQTRELGtCQUFrQixPQUFPLDJDQUEyQyxxQkFBcUIsc0JBQXNCLCtCQUErQixnQ0FBZ0Msc0JBQXNCLE9BQU8sK0NBQStDLGdCQUFnQixvTkFBb04sNkJBQTZCLGtFQUFrRSxnQ0FBZ0MsYUFBYSxzRkFBc0YsRUFBRSxvQkFBb0IsNkJBQTZCLGtCQUFrQixpQkFBaUIsZ0NBQWdDLGtCQUFrQixvQ0FBb0Msd0JBQXdCLE9BQU8sVUFBVSxFQUFFLHlLQUF5SyxpQ0FBaUMsUUFBUSxFQUFFLG9CQUFvQix1QkFBdUIsa0NBQWtDLDhDQUE4QyxFQUFFLGtDQUFrQyw2QkFBNkIsSUFBSSxTQUFTLFNBQVMsZ0JBQWdCLGlLQUFpSyxZQUFZLGtCQUFrQixxQkFBcUIsY0FBYyxXQUFXLE1BQU0seUVBQXlFLHNCQUFzQixpQkFBaUIsbUJBQW1CLG9CQUFvQixxQkFBcUIsc0JBQXNCLDJCQUEyQixzQ0FBc0MsNEhBQTRILDZHQUE2RyxFQUFFLG9CQUFvQixzQkFBc0IsbUJBQW1CLHdEQUF3RCx5Q0FBeUMsMkJBQTJCLGNBQWMsdUJBQXVCLHVDQUF1QyxVQUFVLDhCQUE4QiwrQ0FBK0MsbUNBQW1DLE9BQU8saUJBQWlCLGFBQWEsd0JBQXdCLGlCQUFpQixnQkFBZ0IsaUJBQWlCLGlCQUFpQixrQkFBa0Isd0JBQXdCLGdCQUFnQixpQkFBaUIsdUNBQXVDLDZHQUE2RyxpQkFBaUIsWUFBWSxvRkFBb0YsRUFBRSxFQUFFLEVBQUUsS0FBSyxPQUFPLGlCQUFpQix5REFBeUQsbUJBQW1CLGdCQUFnQixvQkFBb0IsY0FBYyxtQkFBbUIscU1BQXFNLFFBQVEsNkNBQTZDLGNBQWMsMERBQTBELHlIQUF5SCx1T0FBdU8sS0FBSyxPQUFPLFdBQVcsMkJBQTJCLG9JQUFvSSw0TUFBNE0sa0JBQWtCLG1CQUFtQiw0QkFBNEIsa0JBQWtCLDZCQUE2QixtREFBbUQsNENBQTRDLGVBQWUsK0JBQStCLHNCQUFzQixrRUFBa0UsUUFBUSx3REFBd0QsZ0ZBQWdGLHNDQUFzQyxpQkFBaUIsOENBQThDLDJEQUEyRCxzQ0FBc0MsaUJBQWlCLHlEQUF5RCxFQUFFLEdBQUcsUyIsImZpbGUiOiJ2ZW5kb3JzfnRpbnltY2UtcGx1Z2luLWZ1bGxzY3JlZW4tcGx1Z2luLW1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBUaW55IFRlY2hub2xvZ2llcywgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIExHUEwgb3IgYSBjb21tZXJjaWFsIGxpY2Vuc2UuXG4gKiBGb3IgTEdQTCBzZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqIEZvciBjb21tZXJjaWFsIGxpY2Vuc2VzIHNlZSBodHRwczovL3d3dy50aW55LmNsb3VkL1xuICpcbiAqIFZlcnNpb246IDUuNC4yICgyMDIwLTA4LTE3KVxuICovXG4hZnVuY3Rpb24ocCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4sdCxlLGM9ZnVuY3Rpb24obil7dmFyIHQ9bjtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHR9LHNldDpmdW5jdGlvbihuKXt0PW59fX0scj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuUGx1Z2luTWFuYWdlclwiKSxpPWZ1bmN0aW9uKG4pe3JldHVybntpc0Z1bGxzY3JlZW46ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PW4uZ2V0KCl9fX0sbz1mdW5jdGlvbigpe30sYT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbn19LGY9YSghMSksdT1hKCEwKSxsPWZ1bmN0aW9uKCl7cmV0dXJuIGR9LGQ9KG49ZnVuY3Rpb24obil7cmV0dXJuIG4uaXNOb25lKCl9LHtmb2xkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4oKX0saXM6Zixpc1NvbWU6Zixpc05vbmU6dSxnZXRPcjplPWZ1bmN0aW9uKG4pe3JldHVybiBufSxnZXRPclRodW5rOnQ9ZnVuY3Rpb24obil7cmV0dXJuIG4oKX0sZ2V0T3JEaWU6ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKG58fFwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLlwiKX0sZ2V0T3JOdWxsOmEobnVsbCksZ2V0T3JVbmRlZmluZWQ6YSh1bmRlZmluZWQpLG9yOmUsb3JUaHVuazp0LG1hcDpsLGVhY2g6byxiaW5kOmwsZXhpc3RzOmYsZm9yYWxsOnUsZmlsdGVyOmwsZXF1YWxzOm4sZXF1YWxzXzpuLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdG9TdHJpbmc6YShcIm5vbmUoKVwiKX0pLHM9ZnVuY3Rpb24oZSl7dmFyIG49YShlKSx0PWZ1bmN0aW9uKCl7cmV0dXJuIG99LHI9ZnVuY3Rpb24obil7cmV0dXJuIG4oZSl9LG89e2ZvbGQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdChlKX0saXM6ZnVuY3Rpb24obil7cmV0dXJuIGU9PT1ufSxpc1NvbWU6dSxpc05vbmU6ZixnZXRPcjpuLGdldE9yVGh1bms6bixnZXRPckRpZTpuLGdldE9yTnVsbDpuLGdldE9yVW5kZWZpbmVkOm4sb3I6dCxvclRodW5rOnQsbWFwOmZ1bmN0aW9uKG4pe3JldHVybiBzKG4oZSkpfSxlYWNoOmZ1bmN0aW9uKG4pe24oZSl9LGJpbmQ6cixleGlzdHM6cixmb3JhbGw6cixmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIG4oZSk/bzpkfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW2VdfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwic29tZShcIitlK1wiKVwifSxlcXVhbHM6ZnVuY3Rpb24obil7cmV0dXJuIG4uaXMoZSl9LGVxdWFsc186ZnVuY3Rpb24obix0KXtyZXR1cm4gbi5mb2xkKGYsZnVuY3Rpb24obil7cmV0dXJuIHQoZSxuKX0pfX07cmV0dXJuIG99LG09e3NvbWU6cyxub25lOmwsZnJvbTpmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09PW58fG49PT11bmRlZmluZWQ/ZDpzKG4pfX0saD1mdW5jdGlvbigpe3JldHVybiBuPWZ1bmN0aW9uKG4pe24udW5iaW5kKCl9LHQ9YyhtLm5vbmUoKSksZT1mdW5jdGlvbigpe3QuZ2V0KCkuZWFjaChuKX0se2NsZWFyOmZ1bmN0aW9uKCl7ZSgpLHQuc2V0KG0ubm9uZSgpKX0saXNTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXQoKS5pc1NvbWUoKX0sc2V0OmZ1bmN0aW9uKG4pe2UoKSx0LnNldChtLnNvbWUobikpfX07dmFyIG4sdCxlfSxnPWZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZT10eXBlb2YodD1uKSwobnVsbD09PXQ/XCJudWxsXCI6XCJvYmplY3RcIj09ZSYmKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpfHx0LmNvbnN0cnVjdG9yJiZcIkFycmF5XCI9PT10LmNvbnN0cnVjdG9yLm5hbWUpP1wiYXJyYXlcIjpcIm9iamVjdFwiPT1lJiYoU3RyaW5nLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpfHx0LmNvbnN0cnVjdG9yJiZcIlN0cmluZ1wiPT09dC5jb25zdHJ1Y3Rvci5uYW1lKT9cInN0cmluZ1wiOmUpPT09cjt2YXIgdCxlfX0sdj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT09dH19LHk9ZyhcInN0cmluZ1wiKSx3PWcoXCJhcnJheVwiKSxiPXYoXCJib29sZWFuXCIpLFM9ZnVuY3Rpb24obil7cmV0dXJuIShudWxsPT09KHQ9bil8fHQ9PT11bmRlZmluZWQpO3ZhciB0fSxUPXYoXCJmdW5jdGlvblwiKSx4PXYoXCJudW1iZXJcIiksRD1BcnJheS5wcm90b3R5cGUucHVzaCxFPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4ubGVuZ3RoLHI9bmV3IEFycmF5KGUpLG89MDtvPGU7bysrKXt2YXIgdT1uW29dO3Jbb109dCh1LG8pfXJldHVybiByfSxBPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPTAscj1uLmxlbmd0aDtlPHI7ZSsrKXt0KG5bZV0sZSl9fSxOPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPVtdLHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspe3ZhciB1PW5bcl07dCh1LHIpJiZlLnB1c2godSl9cmV0dXJuIGV9LE89ZnVuY3Rpb24obix0KXtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciB0PVtdLGU9MCxyPW4ubGVuZ3RoO2U8cjsrK2Upe2lmKCF3KG5bZV0pKXRocm93IG5ldyBFcnJvcihcIkFyci5mbGF0dGVuIGl0ZW0gXCIrZStcIiB3YXMgbm90IGFuIGFycmF5LCBpbnB1dDogXCIrbik7RC5hcHBseSh0LG5bZV0pfXJldHVybiB0fShFKG4sdCkpfSxDPU9iamVjdC5rZXlzLE09ZnVuY3Rpb24obil7cmV0dXJuIG4uc3R5bGUhPT11bmRlZmluZWQmJlQobi5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKX0saz1mdW5jdGlvbihuKXtpZihudWxsPT09bnx8bj09PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoXCJOb2RlIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZFwiKTtyZXR1cm57ZG9tOmEobil9fSxGPXtmcm9tSHRtbDpmdW5jdGlvbihuLHQpe3ZhciBlPSh0fHxwLmRvY3VtZW50KS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2lmKGUuaW5uZXJIVE1MPW4sIWUuaGFzQ2hpbGROb2RlcygpfHwxPGUuY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgcC5jb25zb2xlLmVycm9yKFwiSFRNTCBkb2VzIG5vdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZVwiLG4pLG5ldyBFcnJvcihcIkhUTUwgbXVzdCBoYXZlIGEgc2luZ2xlIHJvb3Qgbm9kZVwiKTtyZXR1cm4gayhlLmNoaWxkTm9kZXNbMF0pfSxmcm9tVGFnOmZ1bmN0aW9uKG4sdCl7dmFyIGU9KHR8fHAuZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQobik7cmV0dXJuIGsoZSl9LGZyb21UZXh0OmZ1bmN0aW9uKG4sdCl7dmFyIGU9KHR8fHAuZG9jdW1lbnQpLmNyZWF0ZVRleHROb2RlKG4pO3JldHVybiBrKGUpfSxmcm9tRG9tOmssZnJvbVBvaW50OmZ1bmN0aW9uKG4sdCxlKXt2YXIgcj1uLmRvbSgpO3JldHVybiBtLmZyb20oci5lbGVtZW50RnJvbVBvaW50KHQsZSkpLm1hcChrKX19LFA9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwLndpbmRvdz9wLndpbmRvdzpGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5kb20oKS5ub2RlVHlwZT09PXR9fSksTD1QKDEpLEg9UCgzKSxxPVAoOSksVj1QKDExKSxXPWZ1bmN0aW9uKG4sdCl7dmFyIGU9bi5kb20oKTtpZigxIT09ZS5ub2RlVHlwZSlyZXR1cm4hMTt2YXIgcj1lO2lmKHIubWF0Y2hlcyE9PXVuZGVmaW5lZClyZXR1cm4gci5tYXRjaGVzKHQpO2lmKHIubXNNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIubXNNYXRjaGVzU2VsZWN0b3IodCk7aWYoci53ZWJraXRNYXRjaGVzU2VsZWN0b3IhPT11bmRlZmluZWQpcmV0dXJuIHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHQpO2lmKHIubW96TWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXJldHVybiByLm1vek1hdGNoZXNTZWxlY3Rvcih0KTt0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyIGxhY2tzIG5hdGl2ZSBzZWxlY3RvcnNcIil9LGo9ZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIG49ZSxtLmZyb20obi5kb20oKS5wYXJlbnROb2RlKS5tYXAoRi5mcm9tRG9tKS5tYXAoeikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBOKG4sZnVuY3Rpb24obil7cmV0dXJuIHQ9bixlLmRvbSgpIT09dC5kb20oKTt2YXIgdH0pfSkuZ2V0T3IoW10pfSx6PWZ1bmN0aW9uKG4pe3JldHVybiBFKG4uZG9tKCkuY2hpbGROb2RlcyxGLmZyb21Eb20pfSxCPVQocC5FbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3cpJiZUKHAuTm9kZS5wcm90b3R5cGUuZ2V0Um9vdE5vZGUpLEk9YShCKSxSPUI/ZnVuY3Rpb24obil7cmV0dXJuIEYuZnJvbURvbShuLmRvbSgpLmdldFJvb3ROb2RlKCkpfTpmdW5jdGlvbihuKXtyZXR1cm4gcShuKT9uOih0PW4sRi5mcm9tRG9tKHQuZG9tKCkub3duZXJEb2N1bWVudCkpO3ZhciB0fSxVPWZ1bmN0aW9uKG4pe3ZhciB0PVIobik7cmV0dXJuIFYodCk/bS5zb21lKHQpOm0ubm9uZSgpfSxfPWZ1bmN0aW9uKG4pe3JldHVybiBGLmZyb21Eb20obi5kb20oKS5ob3N0KX0sSz1mdW5jdGlvbihuKXtpZihJKCkmJlMobi50YXJnZXQpKXt2YXIgdD1GLmZyb21Eb20obi50YXJnZXQpO2lmKEwodCkmJlgoRi5mcm9tRG9tKG4udGFyZ2V0KSkpe2lmKG4uY29tcG9zZWQmJm4uY29tcG9zZWRQYXRoKXt2YXIgZT1uLmNvbXBvc2VkUGF0aCgpO2lmKGUpcmV0dXJuIDA9PT0ocj1lKS5sZW5ndGg/bS5ub25lKCk6bS5zb21lKHJbMF0pfX19dmFyIHI7cmV0dXJuIG0uZnJvbShuLnRhcmdldCl9LFg9ZnVuY3Rpb24obil7cmV0dXJuIFMobi5kb20oKS5zaGFkb3dSb290KX0sWT1mdW5jdGlvbihuKXt2YXIgdCxlLHI9SChuKT9uLmRvbSgpLnBhcmVudE5vZGU6bi5kb20oKTtyZXR1cm4gciE9PXVuZGVmaW5lZCYmbnVsbCE9PXImJm51bGwhPT1yLm93bmVyRG9jdW1lbnQmJlUoRi5mcm9tRG9tKHIpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIHIub3duZXJEb2N1bWVudC5ib2R5LmNvbnRhaW5zKHIpfSwodD1ZLGU9XyxmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKX0pKX0sRz1mdW5jdGlvbihuLHQsZSl7IWZ1bmN0aW9uKG4sdCxlKXtpZighKHkoZSl8fGIoZSl8fHgoZSkpKXRocm93IHAuY29uc29sZS5lcnJvcihcIkludmFsaWQgY2FsbCB0byBBdHRyLnNldC4gS2V5IFwiLHQsXCI6OiBWYWx1ZSBcIixlLFwiOjogRWxlbWVudCBcIixuKSxuZXcgRXJyb3IoXCJBdHRyaWJ1dGUgdmFsdWUgd2FzIG5vdCBzaW1wbGVcIik7bi5zZXRBdHRyaWJ1dGUodCxlK1wiXCIpfShuLmRvbSgpLHQsZSl9LEo9ZnVuY3Rpb24obix0KXt2YXIgZT1uLmRvbSgpLmdldEF0dHJpYnV0ZSh0KTtyZXR1cm4gbnVsbD09PWU/dW5kZWZpbmVkOmV9LFE9ZnVuY3Rpb24obix0KXtuLmRvbSgpLnJlbW92ZUF0dHJpYnV0ZSh0KX0sWj1mdW5jdGlvbihuLHQpe3ZhciBlPW4uZG9tKCk7IWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPUMobikscj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIHU9ZVtyXTt0KG5bdV0sdSl9fSh0LGZ1bmN0aW9uKG4sdCl7IWZ1bmN0aW9uKG4sdCxlKXtpZigheShlKSl0aHJvdyBwLmNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGNhbGwgdG8gQ1NTLnNldC4gUHJvcGVydHkgXCIsdCxcIjo6IFZhbHVlIFwiLGUsXCI6OiBFbGVtZW50IFwiLG4pLG5ldyBFcnJvcihcIkNTUyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nOiBcIitlKTtNKG4pJiZuLnN0eWxlLnNldFByb3BlcnR5KHQsZSl9KGUsdCxuKX0pfSwkPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIE0obik/bi5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQpOlwiXCJ9LG5uPWZ1bmN0aW9uKG4pe3ZhciBlLHIsdCxvLHUsaT1GLmZyb21Eb20oSyhuKS5nZXRPcihuLnRhcmdldCkpLGM9ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdG9wUHJvcGFnYXRpb24oKX0sZj1mdW5jdGlvbigpe3JldHVybiBuLnByZXZlbnREZWZhdWx0KCl9LGw9KGU9ZixyPWMsZnVuY3Rpb24oKXtmb3IodmFyIG49W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07cmV0dXJuIGUoci5hcHBseShudWxsLG4pKX0pO3JldHVybiB0PWksbz1uLmNsaWVudFgsdT1uLmNsaWVudFkse3RhcmdldDphKHQpLHg6YShvKSx5OmEodSksc3RvcDpjLHByZXZlbnQ6ZixraWxsOmwscmF3OmEobil9fSx0bj1mdW5jdGlvbihlLHIpe3JldHVybntsZWZ0OmEoZSksdG9wOmEociksdHJhbnNsYXRlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRuKGUrbixyK3QpfX19LGVuPXRuLHJuPWZ1bmN0aW9uKG4pe3ZhciB0PW49PT11bmRlZmluZWQ/cC53aW5kb3c6bjtyZXR1cm4gbS5mcm9tKHQudmlzdWFsVmlld3BvcnQpfSxvbj1mdW5jdGlvbihuLHQsZSxyKXtyZXR1cm57eDpuLHk6dCx3aWR0aDplLGhlaWdodDpyLHJpZ2h0Om4rZSxib3R0b206dCtyfX0sdW49ZnVuY3Rpb24obil7dmFyIHQsZSxyLG8sdT1uPT09dW5kZWZpbmVkP3Aud2luZG93Om4saT11LmRvY3VtZW50LGM9KHQ9Ri5mcm9tRG9tKGkpLGU9dCE9PXVuZGVmaW5lZD90LmRvbSgpOnAuZG9jdW1lbnQscj1lLmJvZHkuc2Nyb2xsTGVmdHx8ZS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxvPWUuYm9keS5zY3JvbGxUb3B8fGUuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxlbihyLG8pKTtyZXR1cm4gcm4odSkuZm9sZChmdW5jdGlvbigpe3ZhciBuPXUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHQ9bi5jbGllbnRXaWR0aCxlPW4uY2xpZW50SGVpZ2h0O3JldHVybiBvbihjLmxlZnQoKSxjLnRvcCgpLHQsZSl9LGZ1bmN0aW9uKG4pe3JldHVybiBvbihNYXRoLm1heChuLnBhZ2VMZWZ0LGMubGVmdCgpKSxNYXRoLm1heChuLnBhZ2VUb3AsYy50b3AoKSksbi53aWR0aCxuLmhlaWdodCl9KX0sY249ZnVuY3Rpb24oZSxyLG4pe3JldHVybiBybihuKS5tYXAoZnVuY3Rpb24obil7dmFyIHQ9ZnVuY3Rpb24obil7cmV0dXJuIHIobm4obikpfTtyZXR1cm4gbi5hZGRFdmVudExpc3RlbmVyKGUsdCkse3VuYmluZDpmdW5jdGlvbigpe3JldHVybiBuLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX19fSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe3JldHVybnt1bmJpbmQ6b319KX0sZm49dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmRvbS5ET01VdGlsc1wiKSxsbj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuRW52XCIpLGFuPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLkRlbGF5XCIpLGRuPWZ1bmN0aW9uKG4sdCl7bi5maXJlKFwiRnVsbHNjcmVlblN0YXRlQ2hhbmdlZFwiLHtzdGF0ZTp0fSl9LHNuPWZ1bmN0aW9uKG4sdCxlKXtyZXR1cm4gTihmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1UKHQpP3Q6ZixyPW4uZG9tKCksbz1bXTtudWxsIT09ci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUhPT11bmRlZmluZWQ7KXt2YXIgdT1yLnBhcmVudE5vZGUsaT1GLmZyb21Eb20odSk7aWYoby5wdXNoKGkpLCEwPT09ZShpKSlicmVhaztyPXV9cmV0dXJuIG99KG4sZSksdCl9LG1uPWZ1bmN0aW9uKG4pe3JldHVybiB0PW4sbz1lPT09dW5kZWZpbmVkP3AuZG9jdW1lbnQ6ZS5kb20oKSwxIT09KHI9bykubm9kZVR5cGUmJjkhPT1yLm5vZGVUeXBlJiYxMSE9PXIubm9kZVR5cGV8fDA9PT1yLmNoaWxkRWxlbWVudENvdW50P1tdOkUoby5xdWVyeVNlbGVjdG9yQWxsKHQpLEYuZnJvbURvbSk7dmFyIHQsZSxyLG99LGhuPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGU9ZnVuY3Rpb24obil7cmV0dXJuIFcobix0KX0sTihqKG4pLGUpO3ZhciBlfSxwbj1cImRhdGEtZXBob3gtbW9iaWxlLWZ1bGxzY3JlZW4tc3R5bGVcIixnbj1cInBvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDtcIix2bj1cInRvcDowIWltcG9ydGFudDtsZWZ0OjAhaW1wb3J0YW50O21hcmdpbjowIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O2hlaWdodDoxMDAlIWltcG9ydGFudDtvdmVyZmxvdzp2aXNpYmxlIWltcG9ydGFudDtcIix5bj1sbi5vcy5pc0FuZHJvaWQoKSx3bj1mdW5jdGlvbihuKXt2YXIgdCxlLHIsbyx1PShlPVwiYmFja2dyb3VuZC1jb2xvclwiLHI9KHQ9bikuZG9tKCksXCJcIiE9PShvPXAud2luZG93LmdldENvbXB1dGVkU3R5bGUocikuZ2V0UHJvcGVydHlWYWx1ZShlKSl8fFkodCk/bzokKHIsZSkpO3JldHVybiB1IT09dW5kZWZpbmVkJiZcIlwiIT09dT9cImJhY2tncm91bmQtY29sb3I6XCIrdStcIiFpbXBvcnRhbnRcIjpcImJhY2tncm91bmQtY29sb3I6cmdiKDI1NSwyNTUsMjU1KSFpbXBvcnRhbnQ7XCJ9LGJuPWZ1bmN0aW9uKG8sbix0KXt2YXIgZSxyLHU9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0PUoobixcInN0eWxlXCIpLGU9dD09PXVuZGVmaW5lZD9cIm5vLXN0eWxlc1wiOnQudHJpbSgpO2UhPT1yJiYoRyhuLHBuLGUpLFoobixvLnBhcnNlU3R5bGUocikpKX19LGk9KGU9XCIqXCIsc24obixmdW5jdGlvbihuKXtyZXR1cm4gVyhuLGUpfSxyKSksYz1PKGksZnVuY3Rpb24obil7cmV0dXJuIGhuKG4sXCIqOm5vdCgudG94LXNpbHZlci1zaW5rKVwiKX0pLGY9d24odCk7QShjLHUoXCJkaXNwbGF5Om5vbmUhaW1wb3J0YW50O1wiKSksQShpLHUoZ24rdm4rZikpLHUoKCEwPT09eW4/XCJcIjpnbikrdm4rZikobil9LFNuPWZuLkRPTSxUbj1ybigpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm57YmluZDpvLHVuYmluZDpvfX0sZnVuY3Rpb24odCl7dmFyIGUscj0oZT1jKG0ubm9uZSgpKSx7Y2xlYXI6ZnVuY3Rpb24oKXtlLnNldChtLm5vbmUoKSl9LHNldDpmdW5jdGlvbihuKXtlLnNldChtLnNvbWUobikpfSxpc1NldDpmdW5jdGlvbigpe3JldHVybiBlLmdldCgpLmlzU29tZSgpfSxvbjpmdW5jdGlvbihuKXtlLmdldCgpLmVhY2gobil9fSksbz1oKCksdT1oKCksaT1hbi50aHJvdHRsZShmdW5jdGlvbigpe3AuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A9MCxwLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A9MCxwLndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtyLm9uKGZ1bmN0aW9uKG4pe3JldHVybiBaKG4se3RvcDp0Lm9mZnNldFRvcCtcInB4XCIsbGVmdDp0Lm9mZnNldExlZnQrXCJweFwiLGhlaWdodDp0LmhlaWdodCtcInB4XCIsd2lkdGg6dC53aWR0aCtcInB4XCJ9KX0pfSl9LDUwKTtyZXR1cm57YmluZDpmdW5jdGlvbihuKXtyLnNldChuKSxpKCksby5zZXQoY24oXCJyZXNpemVcIixpKSksdS5zZXQoY24oXCJzY3JvbGxcIixpKSl9LHVuYmluZDpmdW5jdGlvbigpe3Iub24oZnVuY3Rpb24oKXtvLmNsZWFyKCksdS5jbGVhcigpfSksci5jbGVhcigpfX19KSx4bj1mdW5jdGlvbih0LG4pe3ZhciBlLHIsbz1wLmRvY3VtZW50LmJvZHksdT1wLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxpPXQuZ2V0Q29udGFpbmVyKCksYz1GLmZyb21Eb20oaSksZj1uLmdldCgpLGw9Ri5mcm9tRG9tKHQuZ2V0Qm9keSgpKSxhPWxuLmRldmljZVR5cGUuaXNUb3VjaCgpLGQ9aS5zdHlsZSxzPXQuaWZyYW1lRWxlbWVudC5zdHlsZSxtPWZ1bmN0aW9uKCl7dmFyIGUsbjthJiYoZT10LmRvbSxuPW1uKFwiW1wiK3BuK1wiXVwiKSxBKG4sZnVuY3Rpb24obil7dmFyIHQ9SihuLHBuKTtcIm5vLXN0eWxlc1wiIT09dD9aKG4sZS5wYXJzZVN0eWxlKHQpKTpRKG4sXCJzdHlsZVwiKSxRKG4scG4pfSkpLFNuLnJlbW92ZUNsYXNzKG8sXCJ0b3gtZnVsbHNjcmVlblwiKSxTbi5yZW1vdmVDbGFzcyh1LFwidG94LWZ1bGxzY3JlZW5cIiksU24ucmVtb3ZlQ2xhc3MoaSxcInRveC1mdWxsc2NyZWVuXCIpLFRuLnVuYmluZCgpfTtpZihmKXMud2lkdGg9Zi5pZnJhbWVXaWR0aCxzLmhlaWdodD1mLmlmcmFtZUhlaWdodCxkLndpZHRoPWYuY29udGFpbmVyV2lkdGgsZC5oZWlnaHQ9Zi5jb250YWluZXJIZWlnaHQsZC50b3A9Zi5jb250YWluZXJUb3AsZC5sZWZ0PWYuY29udGFpbmVyTGVmdCxlPWYuc2Nyb2xsUG9zLHAud2luZG93LnNjcm9sbFRvKGUueCxlLnkpLG4uc2V0KG51bGwpLGRuKHQsITEpLG0oKSx0Lm9mZihcInJlbW92ZVwiLG0pO2Vsc2V7dmFyIGg9e3Njcm9sbFBvczp7eDoocj11bihwLndpbmRvdykpLngseTpyLnl9LGNvbnRhaW5lcldpZHRoOmQud2lkdGgsY29udGFpbmVySGVpZ2h0OmQuaGVpZ2h0LGNvbnRhaW5lclRvcDpkLnRvcCxjb250YWluZXJMZWZ0OmQubGVmdCxpZnJhbWVXaWR0aDpzLndpZHRoLGlmcmFtZUhlaWdodDpzLmhlaWdodH07YSYmYm4odC5kb20sYyxsKSxzLndpZHRoPXMuaGVpZ2h0PVwiMTAwJVwiLGQud2lkdGg9ZC5oZWlnaHQ9XCJcIixTbi5hZGRDbGFzcyhvLFwidG94LWZ1bGxzY3JlZW5cIiksU24uYWRkQ2xhc3ModSxcInRveC1mdWxsc2NyZWVuXCIpLFNuLmFkZENsYXNzKGksXCJ0b3gtZnVsbHNjcmVlblwiKSxUbi5iaW5kKGMpLHQub24oXCJyZW1vdmVcIixtKSxuLnNldChoKSxkbih0LCEwKX19LERuPWZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKHQpe3Quc2V0QWN0aXZlKG51bGwhPT1yLmdldCgpKTt2YXIgbj1mdW5jdGlvbihuKXtyZXR1cm4gdC5zZXRBY3RpdmUobi5zdGF0ZSl9O3JldHVybiBlLm9uKFwiRnVsbHNjcmVlblN0YXRlQ2hhbmdlZFwiLG4pLGZ1bmN0aW9uKCl7cmV0dXJuIGUub2ZmKFwiRnVsbHNjcmVlblN0YXRlQ2hhbmdlZFwiLG4pfX19OyFmdW5jdGlvbiBFbigpe3IuYWRkKFwiZnVsbHNjcmVlblwiLGZ1bmN0aW9uKG4pe3ZhciB0LGUscixvLHU9YyhudWxsKTtyZXR1cm4gbi5pbmxpbmV8fChlPXUsKHQ9bikuYWRkQ29tbWFuZChcIm1jZUZ1bGxTY3JlZW5cIixmdW5jdGlvbigpe3huKHQsZSl9KSxvPXUsKHI9bikudWkucmVnaXN0cnkuYWRkVG9nZ2xlTWVudUl0ZW0oXCJmdWxsc2NyZWVuXCIse3RleHQ6XCJGdWxsc2NyZWVuXCIsaWNvbjpcImZ1bGxzY3JlZW5cIixzaG9ydGN1dDpcIk1ldGErU2hpZnQrRlwiLG9uQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZXhlY0NvbW1hbmQoXCJtY2VGdWxsU2NyZWVuXCIpfSxvblNldHVwOkRuKHIsbyl9KSxyLnVpLnJlZ2lzdHJ5LmFkZFRvZ2dsZUJ1dHRvbihcImZ1bGxzY3JlZW5cIix7dG9vbHRpcDpcIkZ1bGxzY3JlZW5cIixpY29uOlwiZnVsbHNjcmVlblwiLG9uQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZXhlY0NvbW1hbmQoXCJtY2VGdWxsU2NyZWVuXCIpfSxvblNldHVwOkRuKHIsbyl9KSxuLmFkZFNob3J0Y3V0KFwiTWV0YStTaGlmdCtGXCIsXCJcIixcIm1jZUZ1bGxTY3JlZW5cIikpLGkodSl9KX0oKX0od2luZG93KTsiXSwic291cmNlUm9vdCI6IiJ9