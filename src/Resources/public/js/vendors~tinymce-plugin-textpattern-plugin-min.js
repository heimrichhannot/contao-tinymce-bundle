(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~tinymce-plugin-textpattern-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/textpattern/plugin.min.js":
/*!****************************************************************!*\
  !*** ./node_modules/tinymce/plugins/textpattern/plugin.min.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(f){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(){return(u=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};var n,r,e,o=function(){},a=function(t){return function(){return t}},i=function(t){return t},c=a(!1),s=a(!0),l=function(){return d},d=(n=function(t){return t.isNone()},{fold:function(t,n){return t()},is:c,isSome:c,isNone:s,getOr:e=function(t){return t},getOrThunk:r=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(undefined),or:e,orThunk:r,map:l,each:o,bind:l,exists:c,forall:s,filter:l,equals:n,equals_:n,toArray:function(){return[]},toString:a("none()")}),m=function(r){var t=a(r),n=function(){return o},e=function(t){return t(r)},o={fold:function(t,n){return n(r)},is:function(t){return r===t},isSome:s,isNone:c,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return m(t(r))},each:function(t){t(r)},bind:e,exists:e,forall:e,filter:function(t){return t(r)?o:d},toArray:function(){return[r]},toString:function(){return"some("+r+")"},equals:function(t){return t.is(r)},equals_:function(t,n){return t.fold(c,function(t){return n(r,t)})}};return o},y={some:m,none:l,from:function(t){return null===t||t===undefined?d:m(t)}},g=function(e){return function(t){return r=typeof(n=t),(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e;var n,r}},p=g("string"),h=g("object"),v=g("array"),b=Array.prototype.slice,k=Array.prototype.indexOf,O=function(t,n){return r=t,e=n,-1<k.call(r,e);var r,e},w=function(t,n){for(var r=t.length,e=new Array(r),o=0;o<r;o++){var a=t[o];e[o]=n(a,o)}return e},C=function(t,n){for(var r=0,e=t.length;r<e;r++){n(t[r],r)}},E=function(t,n){for(var r=[],e=0,o=t.length;e<o;e++){var a=t[e];n(a,e)&&r.push(a)}return r},x=function(t,n,r){return function(t,n){for(var r=t.length-1;0<=r;r--){n(t[r],r)}}(t,function(t){r=n(r,t)}),r},R=function(t,n){return function(t,n,r){for(var e=0,o=t.length;e<o;e++){var a=t[e];if(n(a,e))return y.some(a);if(r(a,e))break}return y.none()}(t,n,c)},T=function(t,n){for(var r=0,e=t.length;r<e;++r){if(!0!==n(t[r],r))return!1}return!0},N=Object.keys,P=Object.hasOwnProperty,S=(function(i){if(!v(i))throw new Error("cases must be an array");if(0===i.length)throw new Error("there must be at least one case");var u=[],r={};C(i,function(t,e){var n=N(t);if(1!==n.length)throw new Error("one and only one name per case");var o=n[0],a=t[o];if(r[o]!==undefined)throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!v(a))throw new Error("case arguments must be an array");u.push(o),r[o]=function(){var t=arguments.length;if(t!==a.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+a.length+" ("+a+"), got "+t);for(var r=new Array(t),n=0;n<r.length;n++)r[n]=arguments[n];return{fold:function(){if(arguments.length!==i.length)throw new Error("Wrong number of arguments to fold. Expected "+i.length+", got "+arguments.length);return arguments[e].apply(null,r)},match:function(t){var n=N(t);if(u.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+u.join(",")+"\nActual: "+n.join(","));if(!T(u,function(t){return O(n,t)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+u.join(", "));return t[o].apply(null,r)},log:function(t){f.console.log(t,{constructors:u,constructor:o,params:r})}}}})}([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){var n=[],r=[];return C(t,function(t){t.fold(function(t){n.push(t)},function(t){r.push(t)})}),{errors:n,values:r}}),M=function(r){return{is:function(t){return r===t},isValue:s,isError:c,getOr:a(r),getOrThunk:a(r),getOrDie:a(r),or:function(t){return M(r)},orThunk:function(t){return M(r)},fold:function(t,n){return n(r)},map:function(t){return M(t(r))},mapError:function(t){return M(r)},each:function(t){t(r)},bind:function(t){return t(r)},exists:function(t){return t(r)},forall:function(t){return t(r)},toOption:function(){return y.some(r)}}},A=function(r){return{is:c,isValue:c,isError:s,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return t=String(r),function(){throw new Error(t)}();var t},or:function(t){return t},orThunk:function(t){return t()},fold:function(t,n){return t(r)},map:function(t){return A(r)},mapError:function(t){return A(t(r))},each:o,bind:function(t){return A(r)},exists:c,forall:s,toOption:y.none}},B={value:M,error:A,fromOption:function(t,n){return t.fold(function(){return A(n)},M)}},D=function(t){return"inline-command"===t.type||"inline-format"===t.type},I=function(t){return"block-command"===t.type||"block-format"===t.type},j=function(t){return n=t,r=function(t,n){return t.start.length===n.start.length?0:t.start.length>n.start.length?-1:1},(e=b.call(n,0)).sort(r),e;var n,r,e},_=function(o){var a=function(t){return B.error({message:t,pattern:o})},t=function(t,n,r){if(o.format===undefined)return o.cmd!==undefined?p(o.cmd)?B.value(r(o.cmd,o.value)):a(t+" pattern has non-string `cmd` parameter"):a(t+" pattern is missing both `format` and `cmd` parameters");var e=void 0;if(v(o.format)){if(!T(o.format,p))return a(t+" pattern has non-string items in the `format` array");e=o.format}else{if(!p(o.format))return a(t+" pattern has non-string `format` parameter");e=[o.format]}return B.value(n(e))};if(!h(o))return a("Raw pattern is not an object");if(!p(o.start))return a("Raw pattern is missing `start` parameter");if(o.end===undefined)return o.replacement!==undefined?p(o.replacement)?0===o.start.length?a("Replacement pattern has empty `start` parameter"):B.value({type:"inline-command",start:"",end:o.start,cmd:"mceInsertContent",value:o.replacement}):a("Replacement pattern has non-string `replacement` parameter"):0===o.start.length?a("Block pattern has empty `start` parameter"):t("Block",function(t){return{type:"block-format",start:o.start,format:t[0]}},function(t,n){return{type:"block-command",start:o.start,cmd:t,value:n}});if(!p(o.end))return a("Inline pattern has non-string `end` parameter");if(0===o.start.length&&0===o.end.length)return a("Inline pattern has empty `start` and `end` parameters");var r=o.start,e=o.end;return 0===e.length&&(e=r,r=""),t("Inline",function(t){return{type:"inline-format",start:r,end:e,format:t}},function(t,n){return{type:"inline-command",start:r,end:e,cmd:t,value:n}})},U=function(t){return"block-command"===t.type?{start:t.start,cmd:t.cmd,value:t.value}:"block-format"===t.type?{start:t.start,format:t.format}:"inline-command"===t.type?"mceInsertContent"===t.cmd&&""===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}:"inline-format"===t.type?{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}:void 0},q=function(t){return{inlinePatterns:E(t,D),blockPatterns:j(E(t,I))}},L=function(e){return{setPatterns:function(t){var n=S(w(t,_));if(0<n.errors.length){var r=n.errors[0];throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}e.set(q(n.values))},getPatterns:function(){return function f(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),o=0;for(n=0;n<r;n++)for(var a=arguments[n],i=0,u=a.length;i<u;i++,o++)e[o]=a[i];return e}(w(e.get().inlinePatterns,U),w(e.get().blockPatterns,U))}}},V="undefined"!=typeof f.window?f.window:Function("return this;")(),W=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=V.console;r&&(r.error?r.error.apply(r,t):r.log.apply(r,t))},F=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],G=function(t){var n=t.getParam("forced_root_block","p");return!1===n?"":!0===n?"p":n},H=tinymce.util.Tools.resolve("tinymce.util.Delay"),J=tinymce.util.Tools.resolve("tinymce.util.VK"),K=tinymce.util.Tools.resolve("tinymce.util.Tools"),X=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),z=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Q=function(t,n){return{container:t,offset:n}},Y=function(t){return t.nodeType===f.Node.TEXT_NODE},Z=function(t,n,r){if(n&&t.isEmpty(n)&&!r(n)){var e=n.parentNode;t.remove(n),Z(t,e,r)}},$=function(t,n,r,e){void 0===e&&(e=!0);var o=n.startContainer.parentNode,a=n.endContainer.parentNode;n.deleteContents(),e&&!r(n.startContainer)&&(Y(n.startContainer)&&0===n.startContainer.data.length&&t.remove(n.startContainer),Y(n.endContainer)&&0===n.endContainer.data.length&&t.remove(n.endContainer),Z(t,o,r),o!==a&&Z(t,a,r))},tt=function(t,n){var r,e=n.get(t);return v(e)&&(0===(r=e).length?y.none():y.some(r[0])).exists(function(t){return n=t,r="block",P.call(n,r);var n,r})},nt=function(t){return 0===t.start.length},rt=function(t,n){var r=y.from(t.dom.getParent(n.startContainer,t.dom.isBlock));return""===G(t)?r.orThunk(function(){return y.some(t.getBody())}):r},et=X.DOM,ot=function(n){return function(t){return n===t?-1:0}},at=function(t,n,r){if(Y(t)&&0<=n)return y.some(Q(t,n));var e=z(et);return y.from(e.backwards(t,n,ot(t),r)).map(function(t){return Q(t.container,t.container.data.length)})},it=function(t,r,e){if(!Y(t))return y.none();var n=t.textContent;if(0<=r&&r<=n.length)return y.some(Q(t,r));var o=z(et);return y.from(o.backwards(t,r,ot(t),e)).bind(function(t){var n=t.container.data;return it(t.container,r+n.length,e)})},ut=function(t,n,r){if(!Y(t))return y.none();var e=t.textContent;if(n<=e.length)return y.some(Q(t,n));var o=z(et);return y.from(o.forwards(t,n,ot(t),r)).bind(function(t){return ut(t.container,n-e.length,r)})},ft=function(t,n,r,e,o){var a,i=z(t,(a=t,function(t){return a.isBlock(t)||O(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===a.getContentEditable(t)}));return y.from(i.backwards(n,r,e,o))},ct=function(t,n,r){if(Y(n)&&(r<0||r>n.data.length))return[];for(var e=[r],o=n;o!==t&&o.parentNode;){for(var a=o.parentNode,i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===o){e.push(i);break}o=a}return o===t?e.reverse():[]},st=function(t,n,r,e,o){return{start:ct(t,n,r),end:ct(t,e,o)}},lt=function(t,n){var r,e,o,a=n.slice(),i=a.pop();return r=a,e=function(t,n){return t.bind(function(t){return y.from(t.childNodes[n])})},o=y.some(t),C(r,function(t){o=e(o,t)}),o.bind(function(t){return Y(t)&&0<=i&&t.data.length,y.some({node:t,offset:i})})},dt=function(n,r){return lt(n,r.start).bind(function(t){var o=t.node,a=t.offset;return lt(n,r.end).map(function(t){var n=t.node,r=t.offset,e=f.document.createRange();return e.setStart(o,a),e.setEnd(n,r),e})})},mt=function(e,o,n){(function(t,n,r){if(Y(t)&&n>=t.length)return y.some(Q(t,n));var e=z(et);return y.from(e.forwards(t,n,ot(t),r)).map(function(t){return Q(t.container,0)})})(o,0,o).each(function(t){var r=t.container;ut(r,n.start.length,o).each(function(t){var n=e.createRng();n.setStart(r,0),n.setEnd(t.container,t.offset),$(e,n,function(t){return t===o})})})},gt=function(e,a){var i=e.dom,t=e.selection.getRng();return rt(e,t).filter(function(t){var n=G(e),r=""===n&&i.is(t,"body")||i.is(t,n);return null!==t&&r}).bind(function(n){var t,r,e,o=n.textContent;return(t=a,e=(r=o).replace("\xa0"," "),R(t,function(t){return 0===r.indexOf(t.start)||0===e.indexOf(t.start)})).map(function(t){return K.trim(o).length===t.start.length?[]:[{pattern:t,range:st(i.getRoot(),n,0,n,0)}]})}).getOr([])},pt=function(i,t){if(0!==t.length){var n=i.selection.getBookmark();C(t,function(t){return r=t,e=(n=i).dom,o=r.pattern,a=dt(e.getRoot(),r.range).getOrDie("Unable to resolve path range"),rt(n,a).each(function(t){"block-format"===o.type?tt(o.format,n.formatter)&&n.undoManager.transact(function(){mt(n.dom,t,o),n.formatter.apply(o.format)}):"block-command"===o.type&&n.undoManager.transact(function(){mt(n.dom,t,o),n.execCommand(o.cmd,!1,o.value)})}),1;var n,r,e,o,a}),i.selection.moveToBookmark(n)}},ht=0,vt=function(t,n){return t.create("span",{"data-mce-type":"bookmark",id:n})},yt=function(t,n){var r=t.createRng();return r.setStartAfter(n.start),r.setEndBefore(n.end),r},bt=function(t,n,r){var e=dt(t.getRoot(),r).getOrDie("Unable to resolve path range"),o=e.startContainer,a=e.endContainer,i=0===e.endOffset?a:a.splitText(e.endOffset),u=0===e.startOffset?o:o.splitText(e.startOffset);return{prefix:n,end:i.parentNode.insertBefore(vt(t,n+"-end"),i),start:u.parentNode.insertBefore(vt(t,n+"-start"),u)}},kt=function(t,n,r){Z(t,t.get(n.prefix+"-end"),r),Z(t,t.get(n.prefix+"-start"),r)},Ot=function(e,o,a,t){var i,u=o.start;return ft(e,t.container,t.offset,(i=u,function(t,n){var r=t.data.substring(0,n),e=r.lastIndexOf(i.charAt(i.length-1)),o=r.lastIndexOf(i);return-1!==o?o+i.length:-1!==e?e+1:-1}),a).bind(function(r){if(r.offset>=u.length){var t=e.createRng();return t.setStart(r.container,r.offset-u.length),t.setEnd(r.container,r.offset),y.some(t)}var n=r.offset-u.length;return it(r.container,n,a).map(function(t){var n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n}).filter(function(t){return t.toString()===u}).orThunk(function(){return Ot(e,o,a,Q(r.container,0))})})},wt=function(a,i,u){var f=a.dom,c=f.getRoot(),s=u.pattern,l=u.position.container,d=u.position.offset;return it(l,d-u.pattern.end.length,i).bind(function(t){var e=st(c,t.container,t.offset,l,d);if(nt(s))return y.some({matches:[{pattern:s,startRng:e,endRng:e}],position:t});var n=Ct(a,u.remainingPatterns,t.container,t.offset,i),o=n.getOr({matches:[],position:t}),r=o.position;return function(t,r,n,e,o,a){if(void 0===a&&(a=!1),0!==r.start.length||a)return at(n,e,o).bind(function(n){return Ot(t,r,o,n).bind(function(t){if(a){if(t.endContainer===n.container&&t.endOffset===n.offset)return y.none();if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return y.none()}return y.some(t)})});var i=t.createRng();return i.setStart(n,e),i.setEnd(n,e),y.some(i)}(f,s,r.container,r.offset,i,n.isNone()).map(function(t){var n,r=st(c,(n=t).startContainer,n.startOffset,n.endContainer,n.endOffset);return{matches:o.matches.concat([{pattern:s,startRng:r,endRng:e}]),position:Q(t.startContainer,t.startOffset)}})})},Ct=function(d,m,g,p,h){var v=d.dom;return at(g,p,v.getRoot()).bind(function(t){var n=v.createRng();n.setStart(h,0),n.setEnd(g,p);for(var r,e,o,a,i,u=n.toString(),f=0;f<m.length;f++){var c=m[f];if(r=u,e=c.end,i=a=o=void 0,a=e,i=(o=r).length-e.length,""===a||o.length>=a.length&&o.substr(i,i+a.length)===a){var s=m.slice();s.splice(f,1);var l=wt(d,h,{pattern:c,remainingPatterns:s,position:t});if(l.isSome())return l}}return y.none()})},Et=function(n,t,r){n.selection.setRng(r),"inline-format"===t.type?C(t.format,function(t){n.formatter.apply(t)}):n.execCommand(t.cmd,!1,t.value)},xt=function(o,t){var n,r,a=(n="mce_textpattern",r=(new Date).getTime(),n+"_"+Math.floor(1e9*Math.random())+ ++ht+String(r)),i=x(t,function(t,n){var r=bt(o,a+"_end"+t.length,n.endRng);return t.concat([u(u({},n),{endMarker:r})])},[]);return x(i,function(t,n){var r=i.length-t.length-1,e=nt(n.pattern)?n.endMarker:bt(o,a+"_start"+r,n.startRng);return t.concat([u(u({},n),{startMarker:e})])},[])},Rt=function(r,e,o){var a=r.selection.getRng();return!1===a.collapsed?[]:rt(r,a).bind(function(t){var n=a.startOffset-(o?1:0);return Ct(r,e,a.startContainer,n,t)}).fold(function(){return[]},function(t){return t.matches})},Tt=function(f,t){if(0!==t.length){var c=f.dom,n=f.selection.getBookmark(),r=xt(c,t);C(r,function(t){var n,r,e,o,a,i=c.getParent(t.startMarker.start,c.isBlock),u=function(t){return t===i};nt(t.pattern)?(n=f,r=t.pattern,e=t.endMarker,o=u,a=yt(n.dom,e),$(n.dom,a,o),Et(n,r,a)):function(t,n,r,e,o){var a=t.dom,i=yt(a,e),u=yt(a,r);$(a,u,o),$(a,i,o);var f={prefix:r.prefix,start:r.end,end:e.start},c=yt(a,f);Et(t,n,c)}(f,t.pattern,t.startMarker,t.endMarker,u),kt(c,t.endMarker,u),kt(c,t.startMarker,u)}),f.selection.moveToBookmark(n)}},Nt=function(t,n){var r=Rt(t,n.inlinePatterns,!0);0<r.length&&t.undoManager.transact(function(){Tt(t,r)})},Pt=function(t,n,r){for(var e=0;e<t.length;e++)if(r(t[e],n))return!0},St=function(n,r){var e=[",",".",";",":","!","?"],o=[32];n.on("keydown",function(t){13!==t.keyCode||J.modifierPressed(t)||!function(r,t){if(!r.selection.isCollapsed())return!1;var e=Rt(r,t.inlinePatterns,!1),o=gt(r,t.blockPatterns);return(0<o.length||0<e.length)&&(r.undoManager.add(),r.undoManager.extra(function(){r.execCommand("mceInsertNewLine")},function(){r.insertContent("\ufeff"),Tt(r,e),pt(r,o);var t=r.selection.getRng(),n=at(t.startContainer,t.startOffset,r.dom.getRoot());r.execCommand("mceInsertNewLine"),n.each(function(t){var n=t.container;"\ufeff"===n.data.charAt(t.offset-1)&&(n.deleteData(t.offset-1,1),Z(r.dom,n.parentNode,function(t){return t===r.dom.getRoot()}))})}),!0)}(n,r.get())||t.preventDefault()},!0),n.on("keyup",function(t){Pt(o,t,function(t,n){return t===n.keyCode&&!1===J.modifierPressed(n)})&&Nt(n,r.get())}),n.on("keypress",function(t){Pt(e,t,function(t,n){return t.charCodeAt(0)===n.charCode})&&H.setEditorTimeout(n,function(){Nt(n,r.get())})})};!function Mt(){t.add("textpattern",function(t){var n,r,e=(n=function(t){var n=t.getParam("textpattern_patterns",F,"array");if(!v(n))return W("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var r=S(w(n,_));return C(r.errors,function(t){return W(t.message,t.pattern)}),q(r.values)}(t),r=n,{get:function(){return r},set:function(t){r=t}});return St(t,e),L(e)})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL3RleHRwYXR0ZXJuL3BsdWdpbi5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYSx1RUFBdUUsb0NBQW9DLGlDQUFpQyxJQUFJLHVGQUF1RixTQUFTLHlCQUF5Qix3QkFBd0IsZUFBZSxrQkFBa0IsVUFBVSxlQUFlLFNBQVMsOEJBQThCLFNBQVMsa0JBQWtCLGtCQUFrQixFQUFFLG1CQUFtQixXQUFXLDRDQUE0QyxTQUFTLDBCQUEwQixXQUFXLHNCQUFzQixzREFBc0QsbUpBQW1KLFNBQVMsc0JBQXNCLGdCQUFnQix3QkFBd0IsU0FBUyxlQUFlLFlBQVksSUFBSSxtQkFBbUIsWUFBWSxnQkFBZ0IsYUFBYSwrR0FBK0csZUFBZSxrQkFBa0IsS0FBSyw2Q0FBNkMsZ0JBQWdCLG9CQUFvQixVQUFVLHFCQUFxQixvQkFBb0Isb0JBQW9CLGVBQWUsdUJBQXVCLDRCQUE0QixjQUFjLElBQUksU0FBUyxJQUFJLCtCQUErQix1Q0FBdUMsZUFBZSxtQkFBbUIsMFBBQTBQLFNBQVMsNEdBQTRHLDhCQUE4QixRQUFRLGlCQUFpQixzQ0FBc0MsSUFBSSxLQUFLLFdBQVcsWUFBWSxTQUFTLGlCQUFpQix1QkFBdUIsSUFBSSxLQUFLLFdBQVcsaUJBQWlCLDRCQUE0QixJQUFJLEtBQUssV0FBVyxrQkFBa0IsU0FBUyxtQkFBbUIscUJBQXFCLHFCQUFxQixLQUFLLEtBQUssV0FBVyxlQUFlLFNBQVMsSUFBSSxpQkFBaUIsdUJBQXVCLHVCQUF1QixJQUFJLEtBQUssV0FBVywyQkFBMkIsZ0JBQWdCLGdCQUFnQixRQUFRLGlCQUFpQix1QkFBdUIsSUFBSSxLQUFLLDJCQUEyQixTQUFTLHNEQUFzRCxtREFBbUQsbUVBQW1FLGNBQWMsa0JBQWtCLFdBQVcsa0VBQWtFLGtCQUFrQixpRUFBaUUsdUVBQXVFLDREQUE0RCwwQkFBMEIsdUJBQXVCLGtIQUFrSCwyQkFBMkIsV0FBVyxzQkFBc0IsT0FBTyxnQkFBZ0Isa0lBQWtJLGtDQUFrQyxtQkFBbUIsV0FBVyw4SEFBOEgsb0JBQW9CLGNBQWMsNEhBQTRILDBCQUEwQixpQkFBaUIsaUJBQWlCLHNDQUFzQyxLQUFLLEVBQUUsR0FBRywrQkFBK0IsRUFBRSwrQkFBK0IsRUFBRSxnQ0FBZ0MsRUFBRSwrQkFBK0IsZUFBZSxjQUFjLHVCQUF1QixtQkFBbUIsVUFBVSxhQUFhLFVBQVUsRUFBRSxHQUFHLG1CQUFtQixnQkFBZ0IsT0FBTyxlQUFlLGFBQWEsNkVBQTZFLFlBQVkscUJBQXFCLFlBQVksb0JBQW9CLFlBQVksaUJBQWlCLGVBQWUsc0JBQXNCLFlBQVksa0JBQWtCLEtBQUssa0JBQWtCLFlBQVksb0JBQW9CLFlBQVksb0JBQW9CLFlBQVkscUJBQXFCLG1CQUFtQixlQUFlLE9BQU8sd0RBQXdELFdBQVcscUJBQXFCLDhCQUE4QixtQkFBbUIsR0FBRyxNQUFNLGdCQUFnQixTQUFTLHFCQUFxQixXQUFXLG9CQUFvQixZQUFZLGlCQUFpQixZQUFZLHNCQUFzQixlQUFlLHlCQUF5QixZQUFZLG9DQUFvQyxJQUFJLHlDQUF5Qyx5QkFBeUIsWUFBWSxLQUFLLGVBQWUsMERBQTBELGVBQWUsd0RBQXdELGVBQWUsMkJBQTJCLDRFQUE0RSwyQkFBMkIsVUFBVSxlQUFlLGtCQUFrQixnQkFBZ0Isb0JBQW9CLEVBQUUsbUJBQW1CLGlNQUFpTSxhQUFhLGdCQUFnQixvRkFBb0YsV0FBVyxLQUFLLHlFQUF5RSxhQUFhLHNCQUFzQixrREFBa0Qsb0VBQW9FLHdKQUF3SixzRkFBc0YsMEpBQTBKLE9BQU8sK0NBQStDLGVBQWUsT0FBTyxrREFBa0QsRUFBRSx1RUFBdUUsMEdBQTBHLHNCQUFzQix1REFBdUQsT0FBTyw2Q0FBNkMsZUFBZSxPQUFPLG1EQUFtRCxFQUFFLGVBQWUsZ0NBQWdDLHNDQUFzQywwQkFBMEIsOEJBQThCLHFFQUFxRSxnQ0FBZ0MsRUFBRSxnREFBZ0QsMkJBQTJCLHdFQUF3RSxRQUFRLGVBQWUsT0FBTywrQ0FBK0MsZUFBZSxPQUFPLHdCQUF3QixnQkFBZ0Isc0JBQXNCLGtCQUFrQixrRUFBa0UsbUJBQW1CLHdCQUF3QixvQkFBb0IsbUNBQW1DLElBQUksMkJBQTJCLG1CQUFtQixRQUFRLElBQUksMENBQTBDLElBQUksa0JBQWtCLFNBQVMsMkRBQTJELCtEQUErRCxrQkFBa0IsaUJBQWlCLG1CQUFtQixzQkFBc0IsZ0JBQWdCLGlEQUFpRCxLQUFLLGtDQUFrQyxFQUFFLGtDQUFrQyxFQUFFLHNCQUFzQixFQUFFLHVCQUF1QixFQUFFLHdCQUF3QixFQUFFLHlCQUF5QixFQUFFLDBCQUEwQixFQUFFLDJCQUEyQixFQUFFLG9DQUFvQyxFQUFFLHFDQUFxQyxFQUFFLHFDQUFxQyxnQkFBZ0IsMENBQTBDLDZCQUE2QixtUkFBbVIsT0FBTyxzQkFBc0IsZUFBZSxxQ0FBcUMsbUJBQW1CLDJCQUEyQixtQkFBbUIsc0JBQXNCLHFCQUFxQixtQkFBbUIsOERBQThELHFPQUFxTyxrQkFBa0IsaUJBQWlCLHlFQUF5RSxpQ0FBaUMsUUFBUSxFQUFFLGdCQUFnQiwwQkFBMEIsa0JBQWtCLDhEQUE4RCxxQ0FBcUMsMkJBQTJCLElBQUkseUJBQXlCLG1CQUFtQixtQkFBbUIsb0JBQW9CLG9DQUFvQyxZQUFZLHdEQUF3RCw4Q0FBOEMsRUFBRSxvQkFBb0IseUJBQXlCLG9CQUFvQiwyQ0FBMkMsWUFBWSx5REFBeUQsdUJBQXVCLG9DQUFvQyxFQUFFLG9CQUFvQix5QkFBeUIsb0JBQW9CLHFDQUFxQyxZQUFZLHdEQUF3RCxvQ0FBb0MsRUFBRSx3QkFBd0IsNkJBQTZCLGdHQUFnRyxHQUFHLG9DQUFvQyxvQkFBb0IseUNBQXlDLGtCQUFrQixvQkFBb0IsRUFBRSwyQkFBMkIsc0JBQXNCLDRCQUE0QixVQUFVLE1BQU0sSUFBSSw0QkFBNEIsd0JBQXdCLE9BQU8sK0JBQStCLGtCQUFrQixnQ0FBZ0MsMkJBQTJCLDBCQUEwQiwrQkFBK0IsRUFBRSw2QkFBNkIsU0FBUyxxQkFBcUIseUNBQXlDLGdCQUFnQixFQUFFLEVBQUUsa0JBQWtCLHNDQUFzQyx3QkFBd0IsbUNBQW1DLG1EQUFtRCx1Q0FBdUMsRUFBRSxFQUFFLG9CQUFvQixpQkFBaUIsMkNBQTJDLFlBQVksdURBQXVELHdCQUF3QixFQUFFLDBCQUEwQixrQkFBa0Isd0NBQXdDLG9CQUFvQixpRUFBaUUsYUFBYSxFQUFFLEVBQUUsRUFBRSxrQkFBa0IsbUNBQW1DLGtDQUFrQywrQ0FBK0MsbUJBQW1CLG1CQUFtQiwwQkFBMEIsdURBQXVELHNEQUFzRCxtQkFBbUIsOENBQThDLHdDQUF3QyxFQUFFLEVBQUUsWUFBWSxrQkFBa0IsaUJBQWlCLGdDQUFnQyxnQkFBZ0IsK0hBQStILG9GQUFvRiwwQ0FBMEMsOERBQThELDhDQUE4QyxFQUFFLElBQUksY0FBYyxpQ0FBaUMsdUJBQXVCLHdCQUF3QixnQ0FBZ0MsRUFBRSxrQkFBa0Isb0JBQW9CLHdEQUF3RCxvQkFBb0IsbU1BQW1NLE9BQU8sOEdBQThHLG9CQUFvQiw4REFBOEQsc0JBQXNCLGdCQUFnQixvREFBb0QscUZBQXFGLHNDQUFzQyxzQkFBc0IsdUJBQXVCLG9CQUFvQiwwRkFBMEYsd0JBQXdCLDJDQUEyQyxvQkFBb0IseUVBQXlFLHFCQUFxQix3QkFBd0IscUJBQXFCLGtDQUFrQyxFQUFFLEVBQUUsb0JBQW9CLGlGQUFpRix1REFBdUQscUNBQXFDLHdCQUF3QixVQUFVLDhCQUE4QixhQUFhLEVBQUUsa0VBQWtFLHNCQUFzQixlQUFlLDZCQUE2Qiw4RUFBOEUsb0NBQW9DLE1BQU0sd0VBQXdFLGlGQUFpRixpQkFBaUIsRUFBRSxFQUFFLG9CQUFvQiwrQ0FBK0Msd0RBQXdELDRFQUE0RSxPQUFPLDJCQUEyQiw4QkFBOEIsK0NBQStDLEVBQUUsRUFBRSx3QkFBd0IsWUFBWSw0Q0FBNEMsb0JBQW9CLDhCQUE4QixxQ0FBcUMsV0FBVyxLQUFLLFdBQVcsZ0hBQWdILGdCQUFnQixjQUFjLGNBQWMseUNBQXlDLEVBQUUsd0JBQXdCLGdCQUFnQixFQUFFLG9CQUFvQixzRUFBc0UscUJBQXFCLGtDQUFrQyxrQkFBa0IsK0hBQStILHVDQUF1Qyx1QkFBdUIsS0FBSyxZQUFZLElBQUksS0FBSyx5QkFBeUIsb0ZBQW9GLHVCQUF1QixLQUFLLGNBQWMsSUFBSSxLQUFLLG9CQUFvQiwyQkFBMkIsbURBQW1ELDRCQUE0QixvQ0FBb0Msa0JBQWtCLFNBQVMsYUFBYSxpQkFBaUIsRUFBRSxrQkFBa0IsaUJBQWlCLGtEQUFrRCxnQkFBZ0IseUVBQXlFLGNBQWMsMkdBQTJHLGdDQUFnQyxrQkFBa0IsT0FBTyx3Q0FBd0MsV0FBVyxVQUFVLG9GQUFvRixpQ0FBaUMsa0JBQWtCLGdDQUFnQyw4Q0FBOEMsUUFBUSxFQUFFLG9CQUFvQixZQUFZLFdBQVcsMEJBQTBCLGtCQUFrQixpQkFBaUIsc0JBQXNCLDJCQUEyQixxREFBcUQsdUNBQXVDLHdEQUF3RCxvRkFBb0Ysa0NBQWtDLFlBQVksMENBQTBDLGdGQUFnRixxREFBcUQsa0JBQWtCLG1HQUFtRywyQkFBMkIsR0FBRyxFQUFFLE1BQU0sZ0NBQWdDLDhCQUE4QixxQkFBcUIsZ0RBQWdELGlCQUFpQiw4QkFBOEIscUJBQXFCLG9DQUFvQyxtQ0FBbUMsY0FBYyxFQUFFLEdBQUcsZUFBZSxnQ0FBZ0MseUJBQXlCLG1EQUFtRCwwRUFBMEUsb0NBQW9DLGdCQUFnQiw4QkFBOEIsOEJBQThCLGNBQWMsU0FBUyxlQUFlLFNBQVMsaUJBQWlCLEtBQUssRUFBRSxvQkFBb0IsRUFBRSxHQUFHLFMiLCJmaWxlIjoidmVuZG9yc350aW55bWNlLXBsdWdpbi10ZXh0cGF0dGVybi1wbHVnaW4tbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIFRpbnkgVGVjaG5vbG9naWVzLCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTEdQTCBvciBhIGNvbW1lcmNpYWwgbGljZW5zZS5cbiAqIEZvciBMR1BMIHNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICogRm9yIGNvbW1lcmNpYWwgbGljZW5zZXMgc2VlIGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvXG4gKlxuICogVmVyc2lvbjogNS40LjIgKDIwMjAtMDgtMTcpXG4gKi9cbiFmdW5jdGlvbihmKXtcInVzZSBzdHJpY3RcIjt2YXIgdD10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuUGx1Z2luTWFuYWdlclwiKSx1PWZ1bmN0aW9uKCl7cmV0dXJuKHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBuLHI9MSxlPWFyZ3VtZW50cy5sZW5ndGg7cjxlO3IrKylmb3IodmFyIG8gaW4gbj1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sbykmJih0W29dPW5bb10pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbixyLGUsbz1mdW5jdGlvbigpe30sYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGM9YSghMSkscz1hKCEwKSxsPWZ1bmN0aW9uKCl7cmV0dXJuIGR9LGQ9KG49ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNOb25lKCl9LHtmb2xkOmZ1bmN0aW9uKHQsbil7cmV0dXJuIHQoKX0saXM6Yyxpc1NvbWU6Yyxpc05vbmU6cyxnZXRPcjplPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxnZXRPclRodW5rOnI9ZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0sZ2V0T3JEaWU6ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKHR8fFwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLlwiKX0sZ2V0T3JOdWxsOmEobnVsbCksZ2V0T3JVbmRlZmluZWQ6YSh1bmRlZmluZWQpLG9yOmUsb3JUaHVuazpyLG1hcDpsLGVhY2g6byxiaW5kOmwsZXhpc3RzOmMsZm9yYWxsOnMsZmlsdGVyOmwsZXF1YWxzOm4sZXF1YWxzXzpuLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdG9TdHJpbmc6YShcIm5vbmUoKVwiKX0pLG09ZnVuY3Rpb24ocil7dmFyIHQ9YShyKSxuPWZ1bmN0aW9uKCl7cmV0dXJuIG99LGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQocil9LG89e2ZvbGQ6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbihyKX0saXM6ZnVuY3Rpb24odCl7cmV0dXJuIHI9PT10fSxpc1NvbWU6cyxpc05vbmU6YyxnZXRPcjp0LGdldE9yVGh1bms6dCxnZXRPckRpZTp0LGdldE9yTnVsbDp0LGdldE9yVW5kZWZpbmVkOnQsb3I6bixvclRodW5rOm4sbWFwOmZ1bmN0aW9uKHQpe3JldHVybiBtKHQocikpfSxlYWNoOmZ1bmN0aW9uKHQpe3Qocil9LGJpbmQ6ZSxleGlzdHM6ZSxmb3JhbGw6ZSxmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQocik/bzpkfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW3JdfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwic29tZShcIityK1wiKVwifSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMocil9LGVxdWFsc186ZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5mb2xkKGMsZnVuY3Rpb24odCl7cmV0dXJuIG4ocix0KX0pfX07cmV0dXJuIG99LHk9e3NvbWU6bSxub25lOmwsZnJvbTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXR8fHQ9PT11bmRlZmluZWQ/ZDptKHQpfX0sZz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHI9dHlwZW9mKG49dCksKG51bGw9PT1uP1wibnVsbFwiOlwib2JqZWN0XCI9PXImJihBcnJheS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihuKXx8bi5jb25zdHJ1Y3RvciYmXCJBcnJheVwiPT09bi5jb25zdHJ1Y3Rvci5uYW1lKT9cImFycmF5XCI6XCJvYmplY3RcIj09ciYmKFN0cmluZy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihuKXx8bi5jb25zdHJ1Y3RvciYmXCJTdHJpbmdcIj09PW4uY29uc3RydWN0b3IubmFtZSk/XCJzdHJpbmdcIjpyKT09PWU7dmFyIG4scn19LHA9ZyhcInN0cmluZ1wiKSxoPWcoXCJvYmplY3RcIiksdj1nKFwiYXJyYXlcIiksYj1BcnJheS5wcm90b3R5cGUuc2xpY2Usaz1BcnJheS5wcm90b3R5cGUuaW5kZXhPZixPPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHI9dCxlPW4sLTE8ay5jYWxsKHIsZSk7dmFyIHIsZX0sdz1mdW5jdGlvbih0LG4pe2Zvcih2YXIgcj10Lmxlbmd0aCxlPW5ldyBBcnJheShyKSxvPTA7bzxyO28rKyl7dmFyIGE9dFtvXTtlW29dPW4oYSxvKX1yZXR1cm4gZX0sQz1mdW5jdGlvbih0LG4pe2Zvcih2YXIgcj0wLGU9dC5sZW5ndGg7cjxlO3IrKyl7bih0W3JdLHIpfX0sRT1mdW5jdGlvbih0LG4pe2Zvcih2YXIgcj1bXSxlPTAsbz10Lmxlbmd0aDtlPG87ZSsrKXt2YXIgYT10W2VdO24oYSxlKSYmci5wdXNoKGEpfXJldHVybiByfSx4PWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtmb3IodmFyIHI9dC5sZW5ndGgtMTswPD1yO3ItLSl7bih0W3JdLHIpfX0odCxmdW5jdGlvbih0KXtyPW4ocix0KX0pLHJ9LFI9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24odCxuLHIpe2Zvcih2YXIgZT0wLG89dC5sZW5ndGg7ZTxvO2UrKyl7dmFyIGE9dFtlXTtpZihuKGEsZSkpcmV0dXJuIHkuc29tZShhKTtpZihyKGEsZSkpYnJlYWt9cmV0dXJuIHkubm9uZSgpfSh0LG4sYyl9LFQ9ZnVuY3Rpb24odCxuKXtmb3IodmFyIHI9MCxlPXQubGVuZ3RoO3I8ZTsrK3Ipe2lmKCEwIT09bih0W3JdLHIpKXJldHVybiExfXJldHVybiEwfSxOPU9iamVjdC5rZXlzLFA9T2JqZWN0Lmhhc093blByb3BlcnR5LFM9KGZ1bmN0aW9uKGkpe2lmKCF2KGkpKXRocm93IG5ldyBFcnJvcihcImNhc2VzIG11c3QgYmUgYW4gYXJyYXlcIik7aWYoMD09PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInRoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lIGNhc2VcIik7dmFyIHU9W10scj17fTtDKGksZnVuY3Rpb24odCxlKXt2YXIgbj1OKHQpO2lmKDEhPT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJvbmUgYW5kIG9ubHkgb25lIG5hbWUgcGVyIGNhc2VcIik7dmFyIG89blswXSxhPXRbb107aWYocltvXSE9PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoXCJkdXBsaWNhdGUga2V5IGRldGVjdGVkOlwiK28pO2lmKFwiY2F0YVwiPT09byl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgaGF2ZSBhIGNhc2UgbmFtZWQgY2F0YSAoc29ycnkpXCIpO2lmKCF2KGEpKXRocm93IG5ldyBFcnJvcihcImNhc2UgYXJndW1lbnRzIG11c3QgYmUgYW4gYXJyYXlcIik7dS5wdXNoKG8pLHJbb109ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO2lmKHQhPT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGNhc2UgXCIrbytcIi4gRXhwZWN0ZWQgXCIrYS5sZW5ndGgrXCIgKFwiK2ErXCIpLCBnb3QgXCIrdCk7Zm9yKHZhciByPW5ldyBBcnJheSh0KSxuPTA7bjxyLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJue2ZvbGQ6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBmb2xkLiBFeHBlY3RlZCBcIitpLmxlbmd0aCtcIiwgZ290IFwiK2FyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBhcmd1bWVudHNbZV0uYXBwbHkobnVsbCxyKX0sbWF0Y2g6ZnVuY3Rpb24odCl7dmFyIG49Tih0KTtpZih1Lmxlbmd0aCE9PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gbWF0Y2guIEV4cGVjdGVkOiBcIit1LmpvaW4oXCIsXCIpK1wiXFxuQWN0dWFsOiBcIituLmpvaW4oXCIsXCIpKTtpZighVCh1LGZ1bmN0aW9uKHQpe3JldHVybiBPKG4sdCl9KSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYWxsIGJyYW5jaGVzIHdlcmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgbWF0Y2guIFNwZWNpZmllZDogXCIrbi5qb2luKFwiLCBcIikrXCJcXG5SZXF1aXJlZDogXCIrdS5qb2luKFwiLCBcIikpO3JldHVybiB0W29dLmFwcGx5KG51bGwscil9LGxvZzpmdW5jdGlvbih0KXtmLmNvbnNvbGUubG9nKHQse2NvbnN0cnVjdG9yczp1LGNvbnN0cnVjdG9yOm8scGFyYW1zOnJ9KX19fX0pfShbe2JvdGhFcnJvcnM6W1wiZXJyb3IxXCIsXCJlcnJvcjJcIl19LHtmaXJzdEVycm9yOltcImVycm9yMVwiLFwidmFsdWUyXCJdfSx7c2Vjb25kRXJyb3I6W1widmFsdWUxXCIsXCJlcnJvcjJcIl19LHtib3RoVmFsdWVzOltcInZhbHVlMVwiLFwidmFsdWUyXCJdfV0pLGZ1bmN0aW9uKHQpe3ZhciBuPVtdLHI9W107cmV0dXJuIEModCxmdW5jdGlvbih0KXt0LmZvbGQoZnVuY3Rpb24odCl7bi5wdXNoKHQpfSxmdW5jdGlvbih0KXtyLnB1c2godCl9KX0pLHtlcnJvcnM6bix2YWx1ZXM6cn19KSxNPWZ1bmN0aW9uKHIpe3JldHVybntpczpmdW5jdGlvbih0KXtyZXR1cm4gcj09PXR9LGlzVmFsdWU6cyxpc0Vycm9yOmMsZ2V0T3I6YShyKSxnZXRPclRodW5rOmEociksZ2V0T3JEaWU6YShyKSxvcjpmdW5jdGlvbih0KXtyZXR1cm4gTShyKX0sb3JUaHVuazpmdW5jdGlvbih0KXtyZXR1cm4gTShyKX0sZm9sZDpmdW5jdGlvbih0LG4pe3JldHVybiBuKHIpfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIE0odChyKSl9LG1hcEVycm9yOmZ1bmN0aW9uKHQpe3JldHVybiBNKHIpfSxlYWNoOmZ1bmN0aW9uKHQpe3Qocil9LGJpbmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQocil9LGV4aXN0czpmdW5jdGlvbih0KXtyZXR1cm4gdChyKX0sZm9yYWxsOmZ1bmN0aW9uKHQpe3JldHVybiB0KHIpfSx0b09wdGlvbjpmdW5jdGlvbigpe3JldHVybiB5LnNvbWUocil9fX0sQT1mdW5jdGlvbihyKXtyZXR1cm57aXM6Yyxpc1ZhbHVlOmMsaXNFcnJvcjpzLGdldE9yOmksZ2V0T3JUaHVuazpmdW5jdGlvbih0KXtyZXR1cm4gdCgpfSxnZXRPckRpZTpmdW5jdGlvbigpe3JldHVybiB0PVN0cmluZyhyKSxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcih0KX0oKTt2YXIgdH0sb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LG9yVGh1bms6ZnVuY3Rpb24odCl7cmV0dXJuIHQoKX0sZm9sZDpmdW5jdGlvbih0LG4pe3JldHVybiB0KHIpfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIEEocil9LG1hcEVycm9yOmZ1bmN0aW9uKHQpe3JldHVybiBBKHQocikpfSxlYWNoOm8sYmluZDpmdW5jdGlvbih0KXtyZXR1cm4gQShyKX0sZXhpc3RzOmMsZm9yYWxsOnMsdG9PcHRpb246eS5ub25lfX0sQj17dmFsdWU6TSxlcnJvcjpBLGZyb21PcHRpb246ZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIEEobil9LE0pfX0sRD1mdW5jdGlvbih0KXtyZXR1cm5cImlubGluZS1jb21tYW5kXCI9PT10LnR5cGV8fFwiaW5saW5lLWZvcm1hdFwiPT09dC50eXBlfSxJPWZ1bmN0aW9uKHQpe3JldHVyblwiYmxvY2stY29tbWFuZFwiPT09dC50eXBlfHxcImJsb2NrLWZvcm1hdFwiPT09dC50eXBlfSxqPWZ1bmN0aW9uKHQpe3JldHVybiBuPXQscj1mdW5jdGlvbih0LG4pe3JldHVybiB0LnN0YXJ0Lmxlbmd0aD09PW4uc3RhcnQubGVuZ3RoPzA6dC5zdGFydC5sZW5ndGg+bi5zdGFydC5sZW5ndGg/LTE6MX0sKGU9Yi5jYWxsKG4sMCkpLnNvcnQociksZTt2YXIgbixyLGV9LF89ZnVuY3Rpb24obyl7dmFyIGE9ZnVuY3Rpb24odCl7cmV0dXJuIEIuZXJyb3Ioe21lc3NhZ2U6dCxwYXR0ZXJuOm99KX0sdD1mdW5jdGlvbih0LG4scil7aWYoby5mb3JtYXQ9PT11bmRlZmluZWQpcmV0dXJuIG8uY21kIT09dW5kZWZpbmVkP3Aoby5jbWQpP0IudmFsdWUocihvLmNtZCxvLnZhbHVlKSk6YSh0K1wiIHBhdHRlcm4gaGFzIG5vbi1zdHJpbmcgYGNtZGAgcGFyYW1ldGVyXCIpOmEodCtcIiBwYXR0ZXJuIGlzIG1pc3NpbmcgYm90aCBgZm9ybWF0YCBhbmQgYGNtZGAgcGFyYW1ldGVyc1wiKTt2YXIgZT12b2lkIDA7aWYodihvLmZvcm1hdCkpe2lmKCFUKG8uZm9ybWF0LHApKXJldHVybiBhKHQrXCIgcGF0dGVybiBoYXMgbm9uLXN0cmluZyBpdGVtcyBpbiB0aGUgYGZvcm1hdGAgYXJyYXlcIik7ZT1vLmZvcm1hdH1lbHNle2lmKCFwKG8uZm9ybWF0KSlyZXR1cm4gYSh0K1wiIHBhdHRlcm4gaGFzIG5vbi1zdHJpbmcgYGZvcm1hdGAgcGFyYW1ldGVyXCIpO2U9W28uZm9ybWF0XX1yZXR1cm4gQi52YWx1ZShuKGUpKX07aWYoIWgobykpcmV0dXJuIGEoXCJSYXcgcGF0dGVybiBpcyBub3QgYW4gb2JqZWN0XCIpO2lmKCFwKG8uc3RhcnQpKXJldHVybiBhKFwiUmF3IHBhdHRlcm4gaXMgbWlzc2luZyBgc3RhcnRgIHBhcmFtZXRlclwiKTtpZihvLmVuZD09PXVuZGVmaW5lZClyZXR1cm4gby5yZXBsYWNlbWVudCE9PXVuZGVmaW5lZD9wKG8ucmVwbGFjZW1lbnQpPzA9PT1vLnN0YXJ0Lmxlbmd0aD9hKFwiUmVwbGFjZW1lbnQgcGF0dGVybiBoYXMgZW1wdHkgYHN0YXJ0YCBwYXJhbWV0ZXJcIik6Qi52YWx1ZSh7dHlwZTpcImlubGluZS1jb21tYW5kXCIsc3RhcnQ6XCJcIixlbmQ6by5zdGFydCxjbWQ6XCJtY2VJbnNlcnRDb250ZW50XCIsdmFsdWU6by5yZXBsYWNlbWVudH0pOmEoXCJSZXBsYWNlbWVudCBwYXR0ZXJuIGhhcyBub24tc3RyaW5nIGByZXBsYWNlbWVudGAgcGFyYW1ldGVyXCIpOjA9PT1vLnN0YXJ0Lmxlbmd0aD9hKFwiQmxvY2sgcGF0dGVybiBoYXMgZW1wdHkgYHN0YXJ0YCBwYXJhbWV0ZXJcIik6dChcIkJsb2NrXCIsZnVuY3Rpb24odCl7cmV0dXJue3R5cGU6XCJibG9jay1mb3JtYXRcIixzdGFydDpvLnN0YXJ0LGZvcm1hdDp0WzBdfX0sZnVuY3Rpb24odCxuKXtyZXR1cm57dHlwZTpcImJsb2NrLWNvbW1hbmRcIixzdGFydDpvLnN0YXJ0LGNtZDp0LHZhbHVlOm59fSk7aWYoIXAoby5lbmQpKXJldHVybiBhKFwiSW5saW5lIHBhdHRlcm4gaGFzIG5vbi1zdHJpbmcgYGVuZGAgcGFyYW1ldGVyXCIpO2lmKDA9PT1vLnN0YXJ0Lmxlbmd0aCYmMD09PW8uZW5kLmxlbmd0aClyZXR1cm4gYShcIklubGluZSBwYXR0ZXJuIGhhcyBlbXB0eSBgc3RhcnRgIGFuZCBgZW5kYCBwYXJhbWV0ZXJzXCIpO3ZhciByPW8uc3RhcnQsZT1vLmVuZDtyZXR1cm4gMD09PWUubGVuZ3RoJiYoZT1yLHI9XCJcIiksdChcIklubGluZVwiLGZ1bmN0aW9uKHQpe3JldHVybnt0eXBlOlwiaW5saW5lLWZvcm1hdFwiLHN0YXJ0OnIsZW5kOmUsZm9ybWF0OnR9fSxmdW5jdGlvbih0LG4pe3JldHVybnt0eXBlOlwiaW5saW5lLWNvbW1hbmRcIixzdGFydDpyLGVuZDplLGNtZDp0LHZhbHVlOm59fSl9LFU9ZnVuY3Rpb24odCl7cmV0dXJuXCJibG9jay1jb21tYW5kXCI9PT10LnR5cGU/e3N0YXJ0OnQuc3RhcnQsY21kOnQuY21kLHZhbHVlOnQudmFsdWV9OlwiYmxvY2stZm9ybWF0XCI9PT10LnR5cGU/e3N0YXJ0OnQuc3RhcnQsZm9ybWF0OnQuZm9ybWF0fTpcImlubGluZS1jb21tYW5kXCI9PT10LnR5cGU/XCJtY2VJbnNlcnRDb250ZW50XCI9PT10LmNtZCYmXCJcIj09PXQuc3RhcnQ/e3N0YXJ0OnQuZW5kLHJlcGxhY2VtZW50OnQudmFsdWV9OntzdGFydDp0LnN0YXJ0LGVuZDp0LmVuZCxjbWQ6dC5jbWQsdmFsdWU6dC52YWx1ZX06XCJpbmxpbmUtZm9ybWF0XCI9PT10LnR5cGU/e3N0YXJ0OnQuc3RhcnQsZW5kOnQuZW5kLGZvcm1hdDoxPT09dC5mb3JtYXQubGVuZ3RoP3QuZm9ybWF0WzBdOnQuZm9ybWF0fTp2b2lkIDB9LHE9ZnVuY3Rpb24odCl7cmV0dXJue2lubGluZVBhdHRlcm5zOkUodCxEKSxibG9ja1BhdHRlcm5zOmooRSh0LEkpKX19LEw9ZnVuY3Rpb24oZSl7cmV0dXJue3NldFBhdHRlcm5zOmZ1bmN0aW9uKHQpe3ZhciBuPVModyh0LF8pKTtpZigwPG4uZXJyb3JzLmxlbmd0aCl7dmFyIHI9bi5lcnJvcnNbMF07dGhyb3cgbmV3IEVycm9yKHIubWVzc2FnZStcIjpcXG5cIitKU09OLnN0cmluZ2lmeShyLnBhdHRlcm4sbnVsbCwyKSl9ZS5zZXQocShuLnZhbHVlcykpfSxnZXRQYXR0ZXJuczpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBmKCl7Zm9yKHZhciB0PTAsbj0wLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKXQrPWFyZ3VtZW50c1tuXS5sZW5ndGg7dmFyIGU9QXJyYXkodCksbz0wO2ZvcihuPTA7bjxyO24rKylmb3IodmFyIGE9YXJndW1lbnRzW25dLGk9MCx1PWEubGVuZ3RoO2k8dTtpKyssbysrKWVbb109YVtpXTtyZXR1cm4gZX0odyhlLmdldCgpLmlubGluZVBhdHRlcm5zLFUpLHcoZS5nZXQoKS5ibG9ja1BhdHRlcm5zLFUpKX19fSxWPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBmLndpbmRvdz9mLndpbmRvdzpGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpLFc9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dmFyIHI9Vi5jb25zb2xlO3ImJihyLmVycm9yP3IuZXJyb3IuYXBwbHkocix0KTpyLmxvZy5hcHBseShyLHQpKX0sRj1be3N0YXJ0OlwiKlwiLGVuZDpcIipcIixmb3JtYXQ6XCJpdGFsaWNcIn0se3N0YXJ0OlwiKipcIixlbmQ6XCIqKlwiLGZvcm1hdDpcImJvbGRcIn0se3N0YXJ0OlwiI1wiLGZvcm1hdDpcImgxXCJ9LHtzdGFydDpcIiMjXCIsZm9ybWF0OlwiaDJcIn0se3N0YXJ0OlwiIyMjXCIsZm9ybWF0OlwiaDNcIn0se3N0YXJ0OlwiIyMjI1wiLGZvcm1hdDpcImg0XCJ9LHtzdGFydDpcIiMjIyMjXCIsZm9ybWF0OlwiaDVcIn0se3N0YXJ0OlwiIyMjIyMjXCIsZm9ybWF0OlwiaDZcIn0se3N0YXJ0OlwiMS4gXCIsY21kOlwiSW5zZXJ0T3JkZXJlZExpc3RcIn0se3N0YXJ0OlwiKiBcIixjbWQ6XCJJbnNlcnRVbm9yZGVyZWRMaXN0XCJ9LHtzdGFydDpcIi0gXCIsY21kOlwiSW5zZXJ0VW5vcmRlcmVkTGlzdFwifV0sRz1mdW5jdGlvbih0KXt2YXIgbj10LmdldFBhcmFtKFwiZm9yY2VkX3Jvb3RfYmxvY2tcIixcInBcIik7cmV0dXJuITE9PT1uP1wiXCI6ITA9PT1uP1wicFwiOm59LEg9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuRGVsYXlcIiksSj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UudXRpbC5WS1wiKSxLPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLlRvb2xzXCIpLFg9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmRvbS5ET01VdGlsc1wiKSx6PXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS5kb20uVGV4dFNlZWtlclwiKSxRPWZ1bmN0aW9uKHQsbil7cmV0dXJue2NvbnRhaW5lcjp0LG9mZnNldDpufX0sWT1mdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlVHlwZT09PWYuTm9kZS5URVhUX05PREV9LFo9ZnVuY3Rpb24odCxuLHIpe2lmKG4mJnQuaXNFbXB0eShuKSYmIXIobikpe3ZhciBlPW4ucGFyZW50Tm9kZTt0LnJlbW92ZShuKSxaKHQsZSxyKX19LCQ9ZnVuY3Rpb24odCxuLHIsZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciBvPW4uc3RhcnRDb250YWluZXIucGFyZW50Tm9kZSxhPW4uZW5kQ29udGFpbmVyLnBhcmVudE5vZGU7bi5kZWxldGVDb250ZW50cygpLGUmJiFyKG4uc3RhcnRDb250YWluZXIpJiYoWShuLnN0YXJ0Q29udGFpbmVyKSYmMD09PW4uc3RhcnRDb250YWluZXIuZGF0YS5sZW5ndGgmJnQucmVtb3ZlKG4uc3RhcnRDb250YWluZXIpLFkobi5lbmRDb250YWluZXIpJiYwPT09bi5lbmRDb250YWluZXIuZGF0YS5sZW5ndGgmJnQucmVtb3ZlKG4uZW5kQ29udGFpbmVyKSxaKHQsbyxyKSxvIT09YSYmWih0LGEscikpfSx0dD1mdW5jdGlvbih0LG4pe3ZhciByLGU9bi5nZXQodCk7cmV0dXJuIHYoZSkmJigwPT09KHI9ZSkubGVuZ3RoP3kubm9uZSgpOnkuc29tZShyWzBdKSkuZXhpc3RzKGZ1bmN0aW9uKHQpe3JldHVybiBuPXQscj1cImJsb2NrXCIsUC5jYWxsKG4scik7dmFyIG4scn0pfSxudD1mdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuc3RhcnQubGVuZ3RofSxydD1mdW5jdGlvbih0LG4pe3ZhciByPXkuZnJvbSh0LmRvbS5nZXRQYXJlbnQobi5zdGFydENvbnRhaW5lcix0LmRvbS5pc0Jsb2NrKSk7cmV0dXJuXCJcIj09PUcodCk/ci5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIHkuc29tZSh0LmdldEJvZHkoKSl9KTpyfSxldD1YLkRPTSxvdD1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG49PT10Py0xOjB9fSxhdD1mdW5jdGlvbih0LG4scil7aWYoWSh0KSYmMDw9bilyZXR1cm4geS5zb21lKFEodCxuKSk7dmFyIGU9eihldCk7cmV0dXJuIHkuZnJvbShlLmJhY2t3YXJkcyh0LG4sb3QodCkscikpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gUSh0LmNvbnRhaW5lcix0LmNvbnRhaW5lci5kYXRhLmxlbmd0aCl9KX0saXQ9ZnVuY3Rpb24odCxyLGUpe2lmKCFZKHQpKXJldHVybiB5Lm5vbmUoKTt2YXIgbj10LnRleHRDb250ZW50O2lmKDA8PXImJnI8PW4ubGVuZ3RoKXJldHVybiB5LnNvbWUoUSh0LHIpKTt2YXIgbz16KGV0KTtyZXR1cm4geS5mcm9tKG8uYmFja3dhcmRzKHQscixvdCh0KSxlKSkuYmluZChmdW5jdGlvbih0KXt2YXIgbj10LmNvbnRhaW5lci5kYXRhO3JldHVybiBpdCh0LmNvbnRhaW5lcixyK24ubGVuZ3RoLGUpfSl9LHV0PWZ1bmN0aW9uKHQsbixyKXtpZighWSh0KSlyZXR1cm4geS5ub25lKCk7dmFyIGU9dC50ZXh0Q29udGVudDtpZihuPD1lLmxlbmd0aClyZXR1cm4geS5zb21lKFEodCxuKSk7dmFyIG89eihldCk7cmV0dXJuIHkuZnJvbShvLmZvcndhcmRzKHQsbixvdCh0KSxyKSkuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gdXQodC5jb250YWluZXIsbi1lLmxlbmd0aCxyKX0pfSxmdD1mdW5jdGlvbih0LG4scixlLG8pe3ZhciBhLGk9eih0LChhPXQsZnVuY3Rpb24odCl7cmV0dXJuIGEuaXNCbG9jayh0KXx8TyhbXCJCUlwiLFwiSU1HXCIsXCJIUlwiLFwiSU5QVVRcIl0sdC5ub2RlTmFtZSl8fFwiZmFsc2VcIj09PWEuZ2V0Q29udGVudEVkaXRhYmxlKHQpfSkpO3JldHVybiB5LmZyb20oaS5iYWNrd2FyZHMobixyLGUsbykpfSxjdD1mdW5jdGlvbih0LG4scil7aWYoWShuKSYmKHI8MHx8cj5uLmRhdGEubGVuZ3RoKSlyZXR1cm5bXTtmb3IodmFyIGU9W3JdLG89bjtvIT09dCYmby5wYXJlbnROb2RlOyl7Zm9yKHZhciBhPW8ucGFyZW50Tm9kZSxpPTA7aTxhLmNoaWxkTm9kZXMubGVuZ3RoO2krKylpZihhLmNoaWxkTm9kZXNbaV09PT1vKXtlLnB1c2goaSk7YnJlYWt9bz1hfXJldHVybiBvPT09dD9lLnJldmVyc2UoKTpbXX0sc3Q9ZnVuY3Rpb24odCxuLHIsZSxvKXtyZXR1cm57c3RhcnQ6Y3QodCxuLHIpLGVuZDpjdCh0LGUsbyl9fSxsdD1mdW5jdGlvbih0LG4pe3ZhciByLGUsbyxhPW4uc2xpY2UoKSxpPWEucG9wKCk7cmV0dXJuIHI9YSxlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuYmluZChmdW5jdGlvbih0KXtyZXR1cm4geS5mcm9tKHQuY2hpbGROb2Rlc1tuXSl9KX0sbz15LnNvbWUodCksQyhyLGZ1bmN0aW9uKHQpe289ZShvLHQpfSksby5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiBZKHQpJiYwPD1pJiZ0LmRhdGEubGVuZ3RoLHkuc29tZSh7bm9kZTp0LG9mZnNldDppfSl9KX0sZHQ9ZnVuY3Rpb24obixyKXtyZXR1cm4gbHQobixyLnN0YXJ0KS5iaW5kKGZ1bmN0aW9uKHQpe3ZhciBvPXQubm9kZSxhPXQub2Zmc2V0O3JldHVybiBsdChuLHIuZW5kKS5tYXAoZnVuY3Rpb24odCl7dmFyIG49dC5ub2RlLHI9dC5vZmZzZXQsZT1mLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7cmV0dXJuIGUuc2V0U3RhcnQobyxhKSxlLnNldEVuZChuLHIpLGV9KX0pfSxtdD1mdW5jdGlvbihlLG8sbil7KGZ1bmN0aW9uKHQsbixyKXtpZihZKHQpJiZuPj10Lmxlbmd0aClyZXR1cm4geS5zb21lKFEodCxuKSk7dmFyIGU9eihldCk7cmV0dXJuIHkuZnJvbShlLmZvcndhcmRzKHQsbixvdCh0KSxyKSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBRKHQuY29udGFpbmVyLDApfSl9KShvLDAsbykuZWFjaChmdW5jdGlvbih0KXt2YXIgcj10LmNvbnRhaW5lcjt1dChyLG4uc3RhcnQubGVuZ3RoLG8pLmVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5jcmVhdGVSbmcoKTtuLnNldFN0YXJ0KHIsMCksbi5zZXRFbmQodC5jb250YWluZXIsdC5vZmZzZXQpLCQoZSxuLGZ1bmN0aW9uKHQpe3JldHVybiB0PT09b30pfSl9KX0sZ3Q9ZnVuY3Rpb24oZSxhKXt2YXIgaT1lLmRvbSx0PWUuc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiBydChlLHQpLmZpbHRlcihmdW5jdGlvbih0KXt2YXIgbj1HKGUpLHI9XCJcIj09PW4mJmkuaXModCxcImJvZHlcIil8fGkuaXModCxuKTtyZXR1cm4gbnVsbCE9PXQmJnJ9KS5iaW5kKGZ1bmN0aW9uKG4pe3ZhciB0LHIsZSxvPW4udGV4dENvbnRlbnQ7cmV0dXJuKHQ9YSxlPShyPW8pLnJlcGxhY2UoXCJcXHhhMFwiLFwiIFwiKSxSKHQsZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1yLmluZGV4T2YodC5zdGFydCl8fDA9PT1lLmluZGV4T2YodC5zdGFydCl9KSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBLLnRyaW0obykubGVuZ3RoPT09dC5zdGFydC5sZW5ndGg/W106W3twYXR0ZXJuOnQscmFuZ2U6c3QoaS5nZXRSb290KCksbiwwLG4sMCl9XX0pfSkuZ2V0T3IoW10pfSxwdD1mdW5jdGlvbihpLHQpe2lmKDAhPT10Lmxlbmd0aCl7dmFyIG49aS5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKTtDKHQsZnVuY3Rpb24odCl7cmV0dXJuIHI9dCxlPShuPWkpLmRvbSxvPXIucGF0dGVybixhPWR0KGUuZ2V0Um9vdCgpLHIucmFuZ2UpLmdldE9yRGllKFwiVW5hYmxlIHRvIHJlc29sdmUgcGF0aCByYW5nZVwiKSxydChuLGEpLmVhY2goZnVuY3Rpb24odCl7XCJibG9jay1mb3JtYXRcIj09PW8udHlwZT90dChvLmZvcm1hdCxuLmZvcm1hdHRlcikmJm4udW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24oKXttdChuLmRvbSx0LG8pLG4uZm9ybWF0dGVyLmFwcGx5KG8uZm9ybWF0KX0pOlwiYmxvY2stY29tbWFuZFwiPT09by50eXBlJiZuLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7bXQobi5kb20sdCxvKSxuLmV4ZWNDb21tYW5kKG8uY21kLCExLG8udmFsdWUpfSl9KSwxO3ZhciBuLHIsZSxvLGF9KSxpLnNlbGVjdGlvbi5tb3ZlVG9Cb29rbWFyayhuKX19LGh0PTAsdnQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdC5jcmVhdGUoXCJzcGFuXCIse1wiZGF0YS1tY2UtdHlwZVwiOlwiYm9va21hcmtcIixpZDpufSl9LHl0PWZ1bmN0aW9uKHQsbil7dmFyIHI9dC5jcmVhdGVSbmcoKTtyZXR1cm4gci5zZXRTdGFydEFmdGVyKG4uc3RhcnQpLHIuc2V0RW5kQmVmb3JlKG4uZW5kKSxyfSxidD1mdW5jdGlvbih0LG4scil7dmFyIGU9ZHQodC5nZXRSb290KCkscikuZ2V0T3JEaWUoXCJVbmFibGUgdG8gcmVzb2x2ZSBwYXRoIHJhbmdlXCIpLG89ZS5zdGFydENvbnRhaW5lcixhPWUuZW5kQ29udGFpbmVyLGk9MD09PWUuZW5kT2Zmc2V0P2E6YS5zcGxpdFRleHQoZS5lbmRPZmZzZXQpLHU9MD09PWUuc3RhcnRPZmZzZXQ/bzpvLnNwbGl0VGV4dChlLnN0YXJ0T2Zmc2V0KTtyZXR1cm57cHJlZml4Om4sZW5kOmkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodnQodCxuK1wiLWVuZFwiKSxpKSxzdGFydDp1LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHZ0KHQsbitcIi1zdGFydFwiKSx1KX19LGt0PWZ1bmN0aW9uKHQsbixyKXtaKHQsdC5nZXQobi5wcmVmaXgrXCItZW5kXCIpLHIpLFoodCx0LmdldChuLnByZWZpeCtcIi1zdGFydFwiKSxyKX0sT3Q9ZnVuY3Rpb24oZSxvLGEsdCl7dmFyIGksdT1vLnN0YXJ0O3JldHVybiBmdChlLHQuY29udGFpbmVyLHQub2Zmc2V0LChpPXUsZnVuY3Rpb24odCxuKXt2YXIgcj10LmRhdGEuc3Vic3RyaW5nKDAsbiksZT1yLmxhc3RJbmRleE9mKGkuY2hhckF0KGkubGVuZ3RoLTEpKSxvPXIubGFzdEluZGV4T2YoaSk7cmV0dXJuLTEhPT1vP28raS5sZW5ndGg6LTEhPT1lP2UrMTotMX0pLGEpLmJpbmQoZnVuY3Rpb24ocil7aWYoci5vZmZzZXQ+PXUubGVuZ3RoKXt2YXIgdD1lLmNyZWF0ZVJuZygpO3JldHVybiB0LnNldFN0YXJ0KHIuY29udGFpbmVyLHIub2Zmc2V0LXUubGVuZ3RoKSx0LnNldEVuZChyLmNvbnRhaW5lcixyLm9mZnNldCkseS5zb21lKHQpfXZhciBuPXIub2Zmc2V0LXUubGVuZ3RoO3JldHVybiBpdChyLmNvbnRhaW5lcixuLGEpLm1hcChmdW5jdGlvbih0KXt2YXIgbj1lLmNyZWF0ZVJuZygpO3JldHVybiBuLnNldFN0YXJ0KHQuY29udGFpbmVyLHQub2Zmc2V0KSxuLnNldEVuZChyLmNvbnRhaW5lcixyLm9mZnNldCksbn0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygpPT09dX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gT3QoZSxvLGEsUShyLmNvbnRhaW5lciwwKSl9KX0pfSx3dD1mdW5jdGlvbihhLGksdSl7dmFyIGY9YS5kb20sYz1mLmdldFJvb3QoKSxzPXUucGF0dGVybixsPXUucG9zaXRpb24uY29udGFpbmVyLGQ9dS5wb3NpdGlvbi5vZmZzZXQ7cmV0dXJuIGl0KGwsZC11LnBhdHRlcm4uZW5kLmxlbmd0aCxpKS5iaW5kKGZ1bmN0aW9uKHQpe3ZhciBlPXN0KGMsdC5jb250YWluZXIsdC5vZmZzZXQsbCxkKTtpZihudChzKSlyZXR1cm4geS5zb21lKHttYXRjaGVzOlt7cGF0dGVybjpzLHN0YXJ0Um5nOmUsZW5kUm5nOmV9XSxwb3NpdGlvbjp0fSk7dmFyIG49Q3QoYSx1LnJlbWFpbmluZ1BhdHRlcm5zLHQuY29udGFpbmVyLHQub2Zmc2V0LGkpLG89bi5nZXRPcih7bWF0Y2hlczpbXSxwb3NpdGlvbjp0fSkscj1vLnBvc2l0aW9uO3JldHVybiBmdW5jdGlvbih0LHIsbixlLG8sYSl7aWYodm9pZCAwPT09YSYmKGE9ITEpLDAhPT1yLnN0YXJ0Lmxlbmd0aHx8YSlyZXR1cm4gYXQobixlLG8pLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIE90KHQscixvLG4pLmJpbmQoZnVuY3Rpb24odCl7aWYoYSl7aWYodC5lbmRDb250YWluZXI9PT1uLmNvbnRhaW5lciYmdC5lbmRPZmZzZXQ9PT1uLm9mZnNldClyZXR1cm4geS5ub25lKCk7aWYoMD09PW4ub2Zmc2V0JiZ0LmVuZENvbnRhaW5lci50ZXh0Q29udGVudC5sZW5ndGg9PT10LmVuZE9mZnNldClyZXR1cm4geS5ub25lKCl9cmV0dXJuIHkuc29tZSh0KX0pfSk7dmFyIGk9dC5jcmVhdGVSbmcoKTtyZXR1cm4gaS5zZXRTdGFydChuLGUpLGkuc2V0RW5kKG4sZSkseS5zb21lKGkpfShmLHMsci5jb250YWluZXIsci5vZmZzZXQsaSxuLmlzTm9uZSgpKS5tYXAoZnVuY3Rpb24odCl7dmFyIG4scj1zdChjLChuPXQpLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQsbi5lbmRDb250YWluZXIsbi5lbmRPZmZzZXQpO3JldHVybnttYXRjaGVzOm8ubWF0Y2hlcy5jb25jYXQoW3twYXR0ZXJuOnMsc3RhcnRSbmc6cixlbmRSbmc6ZX1dKSxwb3NpdGlvbjpRKHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCl9fSl9KX0sQ3Q9ZnVuY3Rpb24oZCxtLGcscCxoKXt2YXIgdj1kLmRvbTtyZXR1cm4gYXQoZyxwLHYuZ2V0Um9vdCgpKS5iaW5kKGZ1bmN0aW9uKHQpe3ZhciBuPXYuY3JlYXRlUm5nKCk7bi5zZXRTdGFydChoLDApLG4uc2V0RW5kKGcscCk7Zm9yKHZhciByLGUsbyxhLGksdT1uLnRvU3RyaW5nKCksZj0wO2Y8bS5sZW5ndGg7ZisrKXt2YXIgYz1tW2ZdO2lmKHI9dSxlPWMuZW5kLGk9YT1vPXZvaWQgMCxhPWUsaT0obz1yKS5sZW5ndGgtZS5sZW5ndGgsXCJcIj09PWF8fG8ubGVuZ3RoPj1hLmxlbmd0aCYmby5zdWJzdHIoaSxpK2EubGVuZ3RoKT09PWEpe3ZhciBzPW0uc2xpY2UoKTtzLnNwbGljZShmLDEpO3ZhciBsPXd0KGQsaCx7cGF0dGVybjpjLHJlbWFpbmluZ1BhdHRlcm5zOnMscG9zaXRpb246dH0pO2lmKGwuaXNTb21lKCkpcmV0dXJuIGx9fXJldHVybiB5Lm5vbmUoKX0pfSxFdD1mdW5jdGlvbihuLHQscil7bi5zZWxlY3Rpb24uc2V0Um5nKHIpLFwiaW5saW5lLWZvcm1hdFwiPT09dC50eXBlP0ModC5mb3JtYXQsZnVuY3Rpb24odCl7bi5mb3JtYXR0ZXIuYXBwbHkodCl9KTpuLmV4ZWNDb21tYW5kKHQuY21kLCExLHQudmFsdWUpfSx4dD1mdW5jdGlvbihvLHQpe3ZhciBuLHIsYT0obj1cIm1jZV90ZXh0cGF0dGVyblwiLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCksbitcIl9cIitNYXRoLmZsb29yKDFlOSpNYXRoLnJhbmRvbSgpKSsgKytodCtTdHJpbmcocikpLGk9eCh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9YnQobyxhK1wiX2VuZFwiK3QubGVuZ3RoLG4uZW5kUm5nKTtyZXR1cm4gdC5jb25jYXQoW3UodSh7fSxuKSx7ZW5kTWFya2VyOnJ9KV0pfSxbXSk7cmV0dXJuIHgoaSxmdW5jdGlvbih0LG4pe3ZhciByPWkubGVuZ3RoLXQubGVuZ3RoLTEsZT1udChuLnBhdHRlcm4pP24uZW5kTWFya2VyOmJ0KG8sYStcIl9zdGFydFwiK3Isbi5zdGFydFJuZyk7cmV0dXJuIHQuY29uY2F0KFt1KHUoe30sbikse3N0YXJ0TWFya2VyOmV9KV0pfSxbXSl9LFJ0PWZ1bmN0aW9uKHIsZSxvKXt2YXIgYT1yLnNlbGVjdGlvbi5nZXRSbmcoKTtyZXR1cm4hMT09PWEuY29sbGFwc2VkP1tdOnJ0KHIsYSkuYmluZChmdW5jdGlvbih0KXt2YXIgbj1hLnN0YXJ0T2Zmc2V0LShvPzE6MCk7cmV0dXJuIEN0KHIsZSxhLnN0YXJ0Q29udGFpbmVyLG4sdCl9KS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuW119LGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hdGNoZXN9KX0sVHQ9ZnVuY3Rpb24oZix0KXtpZigwIT09dC5sZW5ndGgpe3ZhciBjPWYuZG9tLG49Zi5zZWxlY3Rpb24uZ2V0Qm9va21hcmsoKSxyPXh0KGMsdCk7QyhyLGZ1bmN0aW9uKHQpe3ZhciBuLHIsZSxvLGEsaT1jLmdldFBhcmVudCh0LnN0YXJ0TWFya2VyLnN0YXJ0LGMuaXNCbG9jayksdT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PWl9O250KHQucGF0dGVybik/KG49ZixyPXQucGF0dGVybixlPXQuZW5kTWFya2VyLG89dSxhPXl0KG4uZG9tLGUpLCQobi5kb20sYSxvKSxFdChuLHIsYSkpOmZ1bmN0aW9uKHQsbixyLGUsbyl7dmFyIGE9dC5kb20saT15dChhLGUpLHU9eXQoYSxyKTskKGEsdSxvKSwkKGEsaSxvKTt2YXIgZj17cHJlZml4OnIucHJlZml4LHN0YXJ0OnIuZW5kLGVuZDplLnN0YXJ0fSxjPXl0KGEsZik7RXQodCxuLGMpfShmLHQucGF0dGVybix0LnN0YXJ0TWFya2VyLHQuZW5kTWFya2VyLHUpLGt0KGMsdC5lbmRNYXJrZXIsdSksa3QoYyx0LnN0YXJ0TWFya2VyLHUpfSksZi5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsobil9fSxOdD1mdW5jdGlvbih0LG4pe3ZhciByPVJ0KHQsbi5pbmxpbmVQYXR0ZXJucywhMCk7MDxyLmxlbmd0aCYmdC51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe1R0KHQscil9KX0sUHQ9ZnVuY3Rpb24odCxuLHIpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKHIodFtlXSxuKSlyZXR1cm4hMH0sU3Q9ZnVuY3Rpb24obixyKXt2YXIgZT1bXCIsXCIsXCIuXCIsXCI7XCIsXCI6XCIsXCIhXCIsXCI/XCJdLG89WzMyXTtuLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKHQpezEzIT09dC5rZXlDb2RlfHxKLm1vZGlmaWVyUHJlc3NlZCh0KXx8IWZ1bmN0aW9uKHIsdCl7aWYoIXIuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpcmV0dXJuITE7dmFyIGU9UnQocix0LmlubGluZVBhdHRlcm5zLCExKSxvPWd0KHIsdC5ibG9ja1BhdHRlcm5zKTtyZXR1cm4oMDxvLmxlbmd0aHx8MDxlLmxlbmd0aCkmJihyLnVuZG9NYW5hZ2VyLmFkZCgpLHIudW5kb01hbmFnZXIuZXh0cmEoZnVuY3Rpb24oKXtyLmV4ZWNDb21tYW5kKFwibWNlSW5zZXJ0TmV3TGluZVwiKX0sZnVuY3Rpb24oKXtyLmluc2VydENvbnRlbnQoXCJcXHVmZWZmXCIpLFR0KHIsZSkscHQocixvKTt2YXIgdD1yLnNlbGVjdGlvbi5nZXRSbmcoKSxuPWF0KHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCxyLmRvbS5nZXRSb290KCkpO3IuZXhlY0NvbW1hbmQoXCJtY2VJbnNlcnROZXdMaW5lXCIpLG4uZWFjaChmdW5jdGlvbih0KXt2YXIgbj10LmNvbnRhaW5lcjtcIlxcdWZlZmZcIj09PW4uZGF0YS5jaGFyQXQodC5vZmZzZXQtMSkmJihuLmRlbGV0ZURhdGEodC5vZmZzZXQtMSwxKSxaKHIuZG9tLG4ucGFyZW50Tm9kZSxmdW5jdGlvbih0KXtyZXR1cm4gdD09PXIuZG9tLmdldFJvb3QoKX0pKX0pfSksITApfShuLHIuZ2V0KCkpfHx0LnByZXZlbnREZWZhdWx0KCl9LCEwKSxuLm9uKFwia2V5dXBcIixmdW5jdGlvbih0KXtQdChvLHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gdD09PW4ua2V5Q29kZSYmITE9PT1KLm1vZGlmaWVyUHJlc3NlZChuKX0pJiZOdChuLHIuZ2V0KCkpfSksbi5vbihcImtleXByZXNzXCIsZnVuY3Rpb24odCl7UHQoZSx0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuY2hhckNvZGVBdCgwKT09PW4uY2hhckNvZGV9KSYmSC5zZXRFZGl0b3JUaW1lb3V0KG4sZnVuY3Rpb24oKXtOdChuLHIuZ2V0KCkpfSl9KX07IWZ1bmN0aW9uIE10KCl7dC5hZGQoXCJ0ZXh0cGF0dGVyblwiLGZ1bmN0aW9uKHQpe3ZhciBuLHIsZT0obj1mdW5jdGlvbih0KXt2YXIgbj10LmdldFBhcmFtKFwidGV4dHBhdHRlcm5fcGF0dGVybnNcIixGLFwiYXJyYXlcIik7aWYoIXYobikpcmV0dXJuIFcoXCJUaGUgc2V0dGluZyB0ZXh0cGF0dGVybl9wYXR0ZXJucyBzaG91bGQgYmUgYW4gYXJyYXlcIikse2lubGluZVBhdHRlcm5zOltdLGJsb2NrUGF0dGVybnM6W119O3ZhciByPVModyhuLF8pKTtyZXR1cm4gQyhyLmVycm9ycyxmdW5jdGlvbih0KXtyZXR1cm4gVyh0Lm1lc3NhZ2UsdC5wYXR0ZXJuKX0pLHEoci52YWx1ZXMpfSh0KSxyPW4se2dldDpmdW5jdGlvbigpe3JldHVybiByfSxzZXQ6ZnVuY3Rpb24odCl7cj10fX0pO3JldHVybiBTdCh0LGUpLEwoZSl9KX0oKX0od2luZG93KTsiXSwic291cmNlUm9vdCI6IiJ9