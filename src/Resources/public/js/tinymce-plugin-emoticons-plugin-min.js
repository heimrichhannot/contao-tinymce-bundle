(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["tinymce-plugin-emoticons-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/emoticons/plugin.min.js":
/*!**************************************************************!*\
  !*** ./node_modules/tinymce/plugins/emoticons/plugin.min.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(m){"use strict";var n,t,e,u,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(n){return function(){return n}},a=i(!1),c=i(!0),r=function(){return l},l=(n=function(n){return n.isNone()},{fold:function(n,t){return n()},is:a,isSome:a,isNone:c,getOr:e=function(n){return n},getOrThunk:t=function(n){return n()},getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(undefined),or:e,orThunk:t,map:r,each:function(){},bind:r,exists:a,forall:c,filter:r,equals:n,equals_:n,toArray:function(){return[]},toString:i("none()")}),s=function(e){var n=i(e),t=function(){return r},o=function(n){return n(e)},r={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:c,isNone:a,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:t,orThunk:t,map:function(n){return s(n(e))},each:function(n){n(e)},bind:o,exists:o,forall:o,filter:function(n){return n(e)?r:l},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(a,function(n){return t(e,n)})}};return r},g={some:s,none:r,from:function(n){return null===n||n===undefined?l:s(n)}},f=function(n,t){return-1!==n.indexOf(t)},d=function(n,t){return f(n.title.toLowerCase(),t)||function(n,t){for(var e=0,o=n.length;e<o;e++){if(t(n[e],e))return!0}return!1}(n.keywords,function(n){return f(n.toLowerCase(),t)})},y=function(n,t,e){for(var o=[],r=t.toLowerCase(),i=e.fold(function(){return a},function(t){return function(n){return t<=n}}),u=0;u<n.length&&(0!==t.length&&!d(n[u],r)||(o.push({value:n[u]["char"],text:n[u].title,icon:n[u]["char"]}),!i(o.length)));u++);return o},h=function(n){var t=n;return{get:function(){return t},set:function(n){t=n}}},v=function(){return(v=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}).apply(this,arguments)},p=Object.prototype.hasOwnProperty,b=(u=function(n,t){return t},function(){for(var n=new Array(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];if(0===n.length)throw new Error("Can't merge zero objects");for(var e={},o=0;o<n.length;o++){var r=n[o];for(var i in r)p.call(r,i)&&(e[i]=u(e[i],r[i]))}return e}),w=Object.keys,O=Object.hasOwnProperty,C=function(n,t){for(var e=w(n),o=0,r=e.length;o<r;o++){var i=e[o];t(n[i],i)}},k=function(n,o){var r={};return C(n,function(n,t){var e=o(n,t);r[e.k]=e.v}),r},j=tinymce.util.Tools.resolve("tinymce.Resource"),A=tinymce.util.Tools.resolve("tinymce.util.Delay"),T=tinymce.util.Tools.resolve("tinymce.util.Promise"),_="All",D={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},P=function(n,t){return e=n,o=t,O.call(e,o)?n[t]:t;var e,o},x=function(n){var e,t=n.getParam("emoticons_append",{},"object");return e=function(n){return v({keywords:[],category:"user"},n)},k(t,function(n,t){return{k:t,v:e(n,t)}})},L=function(o,r,n){var u=h(g.none()),a=h(g.none());o.on("init",function(){j.load(n,r).then(function(n){var t,r,i,e=x(o);t=b(n,e),r={},i=[],C(t,function(n,t){var e={title:t,keywords:n.keywords,"char":n["char"],category:P(D,n.category)},o=r[e.category]!==undefined?r[e.category]:[];r[e.category]=o.concat([e]),i.push(e)}),u.set(g.some(r)),a.set(g.some(i))},function(n){m.console.log("Failed to load emoticons: "+n),u.set(g.some({})),a.set(g.some([]))})});var e=function(){return a.get().getOr([])},i=function(){return u.get().isSome()&&a.get().isSome()};return{listCategories:function(){return[_].concat(w(u.get().getOr({})))},hasLoaded:i,waitForLoad:function(){return i()?T.resolve(!0):new T(function(n,t){var e=15,o=A.setInterval(function(){i()?(A.clearInterval(o),n(!0)):--e<0&&(m.console.log("Could not load emojis from url: "+r),A.clearInterval(o),t(!1))},100)})},listAll:e,listCategory:function(t){return t===_?e():u.get().bind(function(n){return g.from(n[t])}).getOr([])}}},S="pattern",N=function(r,u){var e,o,i,n={pattern:"",results:y(u.listAll(),"",g.some(300))},a=h(_),c=(e=function(n){var t,e,o,r,i;e=(t=n).getData(),o=a.get(),r=u.listCategory(o),i=y(r,e[S],o===_?g.some(300):g.none()),t.setData({results:i})},o=200,i=null,{cancel:function(){null!==i&&(m.clearTimeout(i),i=null)},throttle:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];null!==i&&m.clearTimeout(i),i=m.setTimeout(function(){e.apply(null,n),i=null},o)}}),t={label:"Search",type:"input",name:S},l={type:"collection",name:"results"},s=function(){return{title:"Emoticons",size:"normal",body:{type:"tabpanel",tabs:function(n,t){for(var e=n.length,o=new Array(e),r=0;r<e;r++){var i=n[r];o[r]=t(i,r)}return o}(u.listCategories(),function(n){return{title:n,name:n,items:[t,l]}})},initialData:n,onTabChange:function(n,t){a.set(t.newTabName),c.throttle(n)},onChange:c.throttle,onAction:function(n,t){var e,o;"results"===t.name&&(e=r,o=t.value,e.insertContent(o),n.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},f=r.windowManager.open(s());f.focus(S),u.hasLoaded()||(f.block("Loading emoticons..."),u.waitForLoad().then(function(){f.redial(s()),c.throttle(f),f.focus(S),f.unblock()})["catch"](function(n){f.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),f.focus(S),f.unblock()}))};!function E(){o.add("emoticons",function(n,t){var e,o,r,i,u,a,c,l=(o=t,(e=n).getParam("emoticons_database_url",o+"/js/emojis"+e.suffix+".js")),s=n.getParam("emoticons_database_id","tinymce.plugins.emoticons","string"),f=L(n,l,s);i=f,u=function(){return N(r,i)},(r=n).ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:u}),r.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:u}),c=f,(a=n).ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(t,e){return c.waitForLoad().then(function(){var n=c.listAll();return y(n,t,g.some(e))})},onAction:function(n,t,e){a.selection.setRng(t),a.insertContent(e),n.hide()}})})}()}(window);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL2Vtb3RpY29ucy9wbHVnaW4ubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWEsZ0ZBQWdGLGtCQUFrQixVQUFVLDhCQUE4QixTQUFTLGtCQUFrQixrQkFBa0IsRUFBRSxtQkFBbUIsV0FBVyw0Q0FBNEMsU0FBUywwQkFBMEIsV0FBVyxzQkFBc0Isc0RBQXNELHFGQUFxRix5RUFBeUUsU0FBUyxzQkFBc0IsZ0JBQWdCLHdCQUF3QixTQUFTLGVBQWUsWUFBWSxJQUFJLG1CQUFtQixZQUFZLGdCQUFnQixhQUFhLCtHQUErRyxlQUFlLGtCQUFrQixLQUFLLDZDQUE2QyxnQkFBZ0Isb0JBQW9CLFVBQVUscUJBQXFCLG9CQUFvQixvQkFBb0IsZUFBZSx1QkFBdUIsNEJBQTRCLGNBQWMsSUFBSSxTQUFTLElBQUksK0JBQStCLHVDQUF1QyxpQkFBaUIsd0JBQXdCLGlCQUFpQixpREFBaUQsdUJBQXVCLElBQUksS0FBSyxzQkFBc0IsU0FBUyx3QkFBd0IsNEJBQTRCLEVBQUUsbUJBQW1CLG1EQUFtRCxTQUFTLGFBQWEsbUJBQW1CLGFBQWEsTUFBTSxnREFBZ0QscURBQXFELGlCQUFpQixLQUFLLFNBQVMsZUFBZSxRQUFRLE9BQU8sZUFBZSxTQUFTLGlCQUFpQixNQUFNLGNBQWMsb0NBQW9DLGlDQUFpQyxJQUFJLHVGQUF1RixTQUFTLHdCQUF3QixzREFBc0QsU0FBUyxZQUFZLDBDQUEwQyxXQUFXLHNCQUFzQiw0REFBNEQsWUFBWSxLQUFLLFdBQVcsS0FBSyxXQUFXLGdEQUFnRCxTQUFTLHdEQUF3RCw4QkFBOEIsSUFBSSxLQUFLLFdBQVcsV0FBVyxpQkFBaUIsU0FBUyx5QkFBeUIsYUFBYSxXQUFXLElBQUkscUtBQXFLLHdOQUF3TixpQkFBaUIsa0NBQWtDLFFBQVEsZUFBZSx3Q0FBd0MsV0FBVyxxQkFBcUIsVUFBVSw0QkFBNEIsSUFBSSxtQkFBbUIsT0FBTyxjQUFjLEVBQUUsbUJBQW1CLGdDQUFnQyx1QkFBdUIsNkJBQTZCLGlCQUFpQixhQUFhLHdCQUF3QixPQUFPLHNFQUFzRSw4Q0FBOEMsc0NBQXNDLG9DQUFvQyxhQUFhLDZEQUE2RCxxQkFBcUIsRUFBRSxFQUFFLGlCQUFpQix5QkFBeUIsY0FBYywyQ0FBMkMsT0FBTywwQkFBMEIsbUNBQW1DLElBQUksb0NBQW9DLDZDQUE2QyxvQ0FBb0MscUhBQXFILE1BQU0sRUFBRSxvQ0FBb0MsMENBQTBDLG9CQUFvQixjQUFjLDZCQUE2QixhQUFhLGlEQUFpRCx5QkFBeUIsY0FBYyxrR0FBa0csVUFBVSxFQUFFLGVBQWUsa0JBQWtCLHFDQUFxQyxxQkFBcUIsaUJBQWlCLG1CQUFtQixzQkFBc0Isc0RBQXNELHVCQUF1QixLQUFLLEtBQUssbUNBQW1DLElBQUksaUNBQWlDLGNBQWMsT0FBTyxzQ0FBc0MsbUNBQW1DLHNDQUFzQyxJQUFJLEtBQUssV0FBVyxZQUFZLFNBQVMsZ0NBQWdDLE9BQU8sNEJBQTRCLEVBQUUseUNBQXlDLGtDQUFrQyw0Q0FBNEMsUUFBUSxpRUFBaUUsV0FBVyxzQ0FBc0MsR0FBRyw2QkFBNkIsMkZBQTJGLG1EQUFtRCx1QkFBdUIsVUFBVSx3QkFBd0IscUJBQXFCLHVGQUF1RixFQUFFLFdBQVcsc0NBQXNDLGVBQWUsdUJBQXVCLHlCQUF5QixJQUFJLGNBQWMsZ0NBQWdDLHVMQUF1TCxpQkFBaUIsY0FBYywwQ0FBMEMsNENBQTRDLHlDQUF5Qyw0Q0FBNEMsc0RBQXNELHFEQUFxRCx1Q0FBdUMsa0JBQWtCLHdCQUF3QixFQUFFLDBCQUEwQixtREFBbUQsRUFBRSxFQUFFLEdBQUcsUyIsImZpbGUiOiJ0aW55bWNlLXBsdWdpbi1lbW90aWNvbnMtcGx1Z2luLW1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBUaW55IFRlY2hub2xvZ2llcywgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIExHUEwgb3IgYSBjb21tZXJjaWFsIGxpY2Vuc2UuXG4gKiBGb3IgTEdQTCBzZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqIEZvciBjb21tZXJjaWFsIGxpY2Vuc2VzIHNlZSBodHRwczovL3d3dy50aW55LmNsb3VkL1xuICpcbiAqIFZlcnNpb246IDUuNC4yICgyMDIwLTA4LTE3KVxuICovXG4hZnVuY3Rpb24obSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4sdCxlLHUsbz10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuUGx1Z2luTWFuYWdlclwiKSxpPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufX0sYT1pKCExKSxjPWkoITApLHI9ZnVuY3Rpb24oKXtyZXR1cm4gbH0sbD0obj1mdW5jdGlvbihuKXtyZXR1cm4gbi5pc05vbmUoKX0se2ZvbGQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gbigpfSxpczphLGlzU29tZTphLGlzTm9uZTpjLGdldE9yOmU9ZnVuY3Rpb24obil7cmV0dXJuIG59LGdldE9yVGh1bms6dD1mdW5jdGlvbihuKXtyZXR1cm4gbigpfSxnZXRPckRpZTpmdW5jdGlvbihuKXt0aHJvdyBuZXcgRXJyb3Iobnx8XCJlcnJvcjogZ2V0T3JEaWUgY2FsbGVkIG9uIG5vbmUuXCIpfSxnZXRPck51bGw6aShudWxsKSxnZXRPclVuZGVmaW5lZDppKHVuZGVmaW5lZCksb3I6ZSxvclRodW5rOnQsbWFwOnIsZWFjaDpmdW5jdGlvbigpe30sYmluZDpyLGV4aXN0czphLGZvcmFsbDpjLGZpbHRlcjpyLGVxdWFsczpuLGVxdWFsc186bix0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW119LHRvU3RyaW5nOmkoXCJub25lKClcIil9KSxzPWZ1bmN0aW9uKGUpe3ZhciBuPWkoZSksdD1mdW5jdGlvbigpe3JldHVybiByfSxvPWZ1bmN0aW9uKG4pe3JldHVybiBuKGUpfSxyPXtmb2xkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQoZSl9LGlzOmZ1bmN0aW9uKG4pe3JldHVybiBlPT09bn0saXNTb21lOmMsaXNOb25lOmEsZ2V0T3I6bixnZXRPclRodW5rOm4sZ2V0T3JEaWU6bixnZXRPck51bGw6bixnZXRPclVuZGVmaW5lZDpuLG9yOnQsb3JUaHVuazp0LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gcyhuKGUpKX0sZWFjaDpmdW5jdGlvbihuKXtuKGUpfSxiaW5kOm8sZXhpc3RzOm8sZm9yYWxsOm8sZmlsdGVyOmZ1bmN0aW9uKG4pe3JldHVybiBuKGUpP3I6bH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltlXX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cInNvbWUoXCIrZStcIilcIn0sZXF1YWxzOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKGUpfSxlcXVhbHNfOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4uZm9sZChhLGZ1bmN0aW9uKG4pe3JldHVybiB0KGUsbil9KX19O3JldHVybiByfSxnPXtzb21lOnMsbm9uZTpyLGZyb206ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PT1ufHxuPT09dW5kZWZpbmVkP2w6cyhuKX19LGY9ZnVuY3Rpb24obix0KXtyZXR1cm4tMSE9PW4uaW5kZXhPZih0KX0sZD1mdW5jdGlvbihuLHQpe3JldHVybiBmKG4udGl0bGUudG9Mb3dlckNhc2UoKSx0KXx8ZnVuY3Rpb24obix0KXtmb3IodmFyIGU9MCxvPW4ubGVuZ3RoO2U8bztlKyspe2lmKHQobltlXSxlKSlyZXR1cm4hMH1yZXR1cm4hMX0obi5rZXl3b3JkcyxmdW5jdGlvbihuKXtyZXR1cm4gZihuLnRvTG93ZXJDYXNlKCksdCl9KX0seT1mdW5jdGlvbihuLHQsZSl7Zm9yKHZhciBvPVtdLHI9dC50b0xvd2VyQ2FzZSgpLGk9ZS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIGF9LGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdDw9bn19KSx1PTA7dTxuLmxlbmd0aCYmKDAhPT10Lmxlbmd0aCYmIWQoblt1XSxyKXx8KG8ucHVzaCh7dmFsdWU6blt1XVtcImNoYXJcIl0sdGV4dDpuW3VdLnRpdGxlLGljb246blt1XVtcImNoYXJcIl19KSwhaShvLmxlbmd0aCkpKTt1KyspO3JldHVybiBvfSxoPWZ1bmN0aW9uKG4pe3ZhciB0PW47cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXQ6ZnVuY3Rpb24obil7dD1ufX19LHY9ZnVuY3Rpb24oKXtyZXR1cm4odj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihuKXtmb3IodmFyIHQsZT0xLG89YXJndW1lbnRzLmxlbmd0aDtlPG87ZSsrKWZvcih2YXIgciBpbiB0PWFyZ3VtZW50c1tlXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmKG5bcl09dFtyXSk7cmV0dXJuIG59KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxiPSh1PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHR9LGZ1bmN0aW9uKCl7Zm9yKHZhciBuPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSx0PTA7dDxuLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07aWYoMD09PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbid0IG1lcmdlIHplcm8gb2JqZWN0c1wiKTtmb3IodmFyIGU9e30sbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcj1uW29dO2Zvcih2YXIgaSBpbiByKXAuY2FsbChyLGkpJiYoZVtpXT11KGVbaV0scltpXSkpfXJldHVybiBlfSksdz1PYmplY3Qua2V5cyxPPU9iamVjdC5oYXNPd25Qcm9wZXJ0eSxDPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPXcobiksbz0wLHI9ZS5sZW5ndGg7bzxyO28rKyl7dmFyIGk9ZVtvXTt0KG5baV0saSl9fSxrPWZ1bmN0aW9uKG4sbyl7dmFyIHI9e307cmV0dXJuIEMobixmdW5jdGlvbihuLHQpe3ZhciBlPW8obix0KTtyW2Uua109ZS52fSkscn0saj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuUmVzb3VyY2VcIiksQT10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UudXRpbC5EZWxheVwiKSxUPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLlByb21pc2VcIiksXz1cIkFsbFwiLEQ9e3N5bWJvbHM6XCJTeW1ib2xzXCIscGVvcGxlOlwiUGVvcGxlXCIsYW5pbWFsc19hbmRfbmF0dXJlOlwiQW5pbWFscyBhbmQgTmF0dXJlXCIsZm9vZF9hbmRfZHJpbms6XCJGb29kIGFuZCBEcmlua1wiLGFjdGl2aXR5OlwiQWN0aXZpdHlcIix0cmF2ZWxfYW5kX3BsYWNlczpcIlRyYXZlbCBhbmQgUGxhY2VzXCIsb2JqZWN0czpcIk9iamVjdHNcIixmbGFnczpcIkZsYWdzXCIsdXNlcjpcIlVzZXIgRGVmaW5lZFwifSxQPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGU9bixvPXQsTy5jYWxsKGUsbyk/blt0XTp0O3ZhciBlLG99LHg9ZnVuY3Rpb24obil7dmFyIGUsdD1uLmdldFBhcmFtKFwiZW1vdGljb25zX2FwcGVuZFwiLHt9LFwib2JqZWN0XCIpO3JldHVybiBlPWZ1bmN0aW9uKG4pe3JldHVybiB2KHtrZXl3b3JkczpbXSxjYXRlZ29yeTpcInVzZXJcIn0sbil9LGsodCxmdW5jdGlvbihuLHQpe3JldHVybntrOnQsdjplKG4sdCl9fSl9LEw9ZnVuY3Rpb24obyxyLG4pe3ZhciB1PWgoZy5ub25lKCkpLGE9aChnLm5vbmUoKSk7by5vbihcImluaXRcIixmdW5jdGlvbigpe2oubG9hZChuLHIpLnRoZW4oZnVuY3Rpb24obil7dmFyIHQscixpLGU9eChvKTt0PWIobixlKSxyPXt9LGk9W10sQyh0LGZ1bmN0aW9uKG4sdCl7dmFyIGU9e3RpdGxlOnQsa2V5d29yZHM6bi5rZXl3b3JkcyxcImNoYXJcIjpuW1wiY2hhclwiXSxjYXRlZ29yeTpQKEQsbi5jYXRlZ29yeSl9LG89cltlLmNhdGVnb3J5XSE9PXVuZGVmaW5lZD9yW2UuY2F0ZWdvcnldOltdO3JbZS5jYXRlZ29yeV09by5jb25jYXQoW2VdKSxpLnB1c2goZSl9KSx1LnNldChnLnNvbWUocikpLGEuc2V0KGcuc29tZShpKSl9LGZ1bmN0aW9uKG4pe20uY29uc29sZS5sb2coXCJGYWlsZWQgdG8gbG9hZCBlbW90aWNvbnM6IFwiK24pLHUuc2V0KGcuc29tZSh7fSkpLGEuc2V0KGcuc29tZShbXSkpfSl9KTt2YXIgZT1mdW5jdGlvbigpe3JldHVybiBhLmdldCgpLmdldE9yKFtdKX0saT1mdW5jdGlvbigpe3JldHVybiB1LmdldCgpLmlzU29tZSgpJiZhLmdldCgpLmlzU29tZSgpfTtyZXR1cm57bGlzdENhdGVnb3JpZXM6ZnVuY3Rpb24oKXtyZXR1cm5bX10uY29uY2F0KHcodS5nZXQoKS5nZXRPcih7fSkpKX0saGFzTG9hZGVkOmksd2FpdEZvckxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gaSgpP1QucmVzb2x2ZSghMCk6bmV3IFQoZnVuY3Rpb24obix0KXt2YXIgZT0xNSxvPUEuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpKCk/KEEuY2xlYXJJbnRlcnZhbChvKSxuKCEwKSk6LS1lPDAmJihtLmNvbnNvbGUubG9nKFwiQ291bGQgbm90IGxvYWQgZW1vamlzIGZyb20gdXJsOiBcIityKSxBLmNsZWFySW50ZXJ2YWwobyksdCghMSkpfSwxMDApfSl9LGxpc3RBbGw6ZSxsaXN0Q2F0ZWdvcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1fP2UoKTp1LmdldCgpLmJpbmQoZnVuY3Rpb24obil7cmV0dXJuIGcuZnJvbShuW3RdKX0pLmdldE9yKFtdKX19fSxTPVwicGF0dGVyblwiLE49ZnVuY3Rpb24ocix1KXt2YXIgZSxvLGksbj17cGF0dGVybjpcIlwiLHJlc3VsdHM6eSh1Lmxpc3RBbGwoKSxcIlwiLGcuc29tZSgzMDApKX0sYT1oKF8pLGM9KGU9ZnVuY3Rpb24obil7dmFyIHQsZSxvLHIsaTtlPSh0PW4pLmdldERhdGEoKSxvPWEuZ2V0KCkscj11Lmxpc3RDYXRlZ29yeShvKSxpPXkocixlW1NdLG89PT1fP2cuc29tZSgzMDApOmcubm9uZSgpKSx0LnNldERhdGEoe3Jlc3VsdHM6aX0pfSxvPTIwMCxpPW51bGwse2NhbmNlbDpmdW5jdGlvbigpe251bGwhPT1pJiYobS5jbGVhclRpbWVvdXQoaSksaT1udWxsKX0sdGhyb3R0bGU6ZnVuY3Rpb24oKXtmb3IodmFyIG49W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07bnVsbCE9PWkmJm0uY2xlYXJUaW1lb3V0KGkpLGk9bS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hcHBseShudWxsLG4pLGk9bnVsbH0sbyl9fSksdD17bGFiZWw6XCJTZWFyY2hcIix0eXBlOlwiaW5wdXRcIixuYW1lOlN9LGw9e3R5cGU6XCJjb2xsZWN0aW9uXCIsbmFtZTpcInJlc3VsdHNcIn0scz1mdW5jdGlvbigpe3JldHVybnt0aXRsZTpcIkVtb3RpY29uc1wiLHNpemU6XCJub3JtYWxcIixib2R5Ont0eXBlOlwidGFicGFuZWxcIix0YWJzOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPW4ubGVuZ3RoLG89bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXt2YXIgaT1uW3JdO29bcl09dChpLHIpfXJldHVybiBvfSh1Lmxpc3RDYXRlZ29yaWVzKCksZnVuY3Rpb24obil7cmV0dXJue3RpdGxlOm4sbmFtZTpuLGl0ZW1zOlt0LGxdfX0pfSxpbml0aWFsRGF0YTpuLG9uVGFiQ2hhbmdlOmZ1bmN0aW9uKG4sdCl7YS5zZXQodC5uZXdUYWJOYW1lKSxjLnRocm90dGxlKG4pfSxvbkNoYW5nZTpjLnRocm90dGxlLG9uQWN0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGUsbztcInJlc3VsdHNcIj09PXQubmFtZSYmKGU9cixvPXQudmFsdWUsZS5pbnNlcnRDb250ZW50KG8pLG4uY2xvc2UoKSl9LGJ1dHRvbnM6W3t0eXBlOlwiY2FuY2VsXCIsdGV4dDpcIkNsb3NlXCIscHJpbWFyeTohMH1dfX0sZj1yLndpbmRvd01hbmFnZXIub3BlbihzKCkpO2YuZm9jdXMoUyksdS5oYXNMb2FkZWQoKXx8KGYuYmxvY2soXCJMb2FkaW5nIGVtb3RpY29ucy4uLlwiKSx1LndhaXRGb3JMb2FkKCkudGhlbihmdW5jdGlvbigpe2YucmVkaWFsKHMoKSksYy50aHJvdHRsZShmKSxmLmZvY3VzKFMpLGYudW5ibG9jaygpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihuKXtmLnJlZGlhbCh7dGl0bGU6XCJFbW90aWNvbnNcIixib2R5Ont0eXBlOlwicGFuZWxcIixpdGVtczpbe3R5cGU6XCJhbGVydGJhbm5lclwiLGxldmVsOlwiZXJyb3JcIixpY29uOlwid2FybmluZ1wiLHRleHQ6XCI8cD5Db3VsZCBub3QgbG9hZCBlbW90aWNvbnM8L3A+XCJ9XX0sYnV0dG9uczpbe3R5cGU6XCJjYW5jZWxcIix0ZXh0OlwiQ2xvc2VcIixwcmltYXJ5OiEwfV0saW5pdGlhbERhdGE6e3BhdHRlcm46XCJcIixyZXN1bHRzOltdfX0pLGYuZm9jdXMoUyksZi51bmJsb2NrKCl9KSl9OyFmdW5jdGlvbiBFKCl7by5hZGQoXCJlbW90aWNvbnNcIixmdW5jdGlvbihuLHQpe3ZhciBlLG8scixpLHUsYSxjLGw9KG89dCwoZT1uKS5nZXRQYXJhbShcImVtb3RpY29uc19kYXRhYmFzZV91cmxcIixvK1wiL2pzL2Vtb2ppc1wiK2Uuc3VmZml4K1wiLmpzXCIpKSxzPW4uZ2V0UGFyYW0oXCJlbW90aWNvbnNfZGF0YWJhc2VfaWRcIixcInRpbnltY2UucGx1Z2lucy5lbW90aWNvbnNcIixcInN0cmluZ1wiKSxmPUwobixsLHMpO2k9Zix1PWZ1bmN0aW9uKCl7cmV0dXJuIE4ocixpKX0sKHI9bikudWkucmVnaXN0cnkuYWRkQnV0dG9uKFwiZW1vdGljb25zXCIse3Rvb2x0aXA6XCJFbW90aWNvbnNcIixpY29uOlwiZW1vamlcIixvbkFjdGlvbjp1fSksci51aS5yZWdpc3RyeS5hZGRNZW51SXRlbShcImVtb3RpY29uc1wiLHt0ZXh0OlwiRW1vdGljb25zLi4uXCIsaWNvbjpcImVtb2ppXCIsb25BY3Rpb246dX0pLGM9ZiwoYT1uKS51aS5yZWdpc3RyeS5hZGRBdXRvY29tcGxldGVyKFwiZW1vdGljb25zXCIse2NoOlwiOlwiLGNvbHVtbnM6XCJhdXRvXCIsbWluQ2hhcnM6MixmZXRjaDpmdW5jdGlvbih0LGUpe3JldHVybiBjLndhaXRGb3JMb2FkKCkudGhlbihmdW5jdGlvbigpe3ZhciBuPWMubGlzdEFsbCgpO3JldHVybiB5KG4sdCxnLnNvbWUoZSkpfSl9LG9uQWN0aW9uOmZ1bmN0aW9uKG4sdCxlKXthLnNlbGVjdGlvbi5zZXRSbmcodCksYS5pbnNlcnRDb250ZW50KGUpLG4uaGlkZSgpfX0pfSl9KCl9KHdpbmRvdyk7Il0sInNvdXJjZVJvb3QiOiIifQ==