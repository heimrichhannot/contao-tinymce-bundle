(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~tinymce-plugin-media-plugin-min"],{

/***/ "./node_modules/tinymce/plugins/media/plugin.min.js":
/*!**********************************************************!*\
  !*** ./node_modules/tinymce/plugins/media/plugin.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.4.2 (2020-08-17)
 */
!function(){"use strict";var e,t,r,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e){return function(){return e}},o=a(!1),c=a(!0),i=function(){return u},u=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:o,isSome:o,isNone:c,getOr:r=function(e){return e},getOrThunk:t=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:a(null),getOrUndefined:a(undefined),or:r,orThunk:t,map:i,each:function(){},bind:i,exists:o,forall:c,filter:i,equals:e,equals_:e,toArray:function(){return[]},toString:a("none()")}),s=function(r){var e=a(r),t=function(){return i},n=function(e){return e(r)},i={fold:function(e,t){return t(r)},is:function(e){return r===e},isSome:c,isNone:o,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return s(e(r))},each:function(e){e(r)},bind:n,exists:n,forall:n,filter:function(e){return e(r)?i:u},toArray:function(){return[r]},toString:function(){return"some("+r+")"},equals:function(e){return e.is(r)},equals_:function(e,t){return e.fold(o,function(e){return t(r,e)})}};return i},l={some:s,none:i,from:function(e){return null===e||e===undefined?u:s(e)}},m=function(n){return function(e){return r=typeof(t=e),(null===t?"null":"object"==r&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":r)===n;var t,r}},d=m("string"),h=m("object"),g=m("array"),v=Array.prototype.push,f=function(e,t){for(var r=0,n=e.length;r<n;r++){t(e[r],r)}},w=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},b=Object.keys,y=Object.hasOwnProperty,x=function(e,t){return j(e,t)?l.from(e[t]):l.none()},j=function(e,t){return y.call(e,t)},O=function(e){return e.getParam("media_scripts")},S=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),k=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),A=function(e,t){if(e)for(var r=0;r<e.length;r++)if(-1!==t.indexOf(e[r].filter))return e[r]},T=_.DOM,C=function(e){return e.replace(/px$/,"")},P=function(o,e){var c=w(!1),u={};return k({validate:!1,allow_conditional_comments:!0,start:function(e,t){if(!c.get())if(j(t.map,"data-ephox-embed-iri"))c.set(!0),i=(n=t).map.style,a=i?T.parseStyle(i):{},u={type:"ephox-embed-iri",source:n.map["data-ephox-embed-iri"],altsource:"",poster:"",width:x(a,"max-width").map(C).getOr(""),height:x(a,"max-height").map(C).getOr("")};else{if(u.source||"param"!==e||(u.source=t.map.movie),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(u.type||(u.type=e),u=S.extend(t.map,u)),"script"===e){var r=A(o,t.map.src);if(!r)return;u={type:"script",source:t.map.src,width:String(r.width),height:String(r.height)}}"source"===e&&(u.source?u.altsource||(u.altsource=t.map.src):u.source=t.map.src),"img"!==e||u.poster||(u.poster=t.map.src)}var n,i,a}}).parse(e),u.source=u.source||u.src||u.data,u.altsource=u.altsource||"",u.poster=u.poster||"",u},D=function(e){var t={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];return t||""},$=tinymce.util.Tools.resolve("tinymce.html.Schema"),F=tinymce.util.Tools.resolve("tinymce.html.Writer"),M=_.DOM,z=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},N=function(a,e){!function(e,t){for(var r=b(e),n=0,i=r.length;n<i;n++){var a=r[n];t(e[a],a)}}(e,function(e,t){var r=""+e;if(a.map[t])for(var n=a.length;n--;){var i=a[n];i.name===t&&(r?(a.map[t]=r,i.value=r):(delete a.map[t],a.splice(n,1)))}else r&&(a.push({name:t,value:r}),a.map[t]=r)})},U=["source","altsource"],E=function(e,c,u){var s,l=F(),m=w(!1),d=0;return k({validate:!1,allow_conditional_comments:!0,comment:function(e){l.comment(e)},cdata:function(e){l.cdata(e)},text:function(e,t){l.text(e,t)},start:function(e,t,r){if(!m.get())if(j(t.map,"data-ephox-embed-iri"))m.set(!0),n=c,a=(i=t).map.style,(o=a?M.parseStyle(a):{})["max-width"]=z(n.width),o["max-height"]=z(n.height),N(i,{style:M.serializeStyle(o)});else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":c.height!==undefined&&c.width!==undefined&&N(t,{width:c.width,height:c.height})}if(u)switch(e){case"video":N(t,{poster:c.poster,src:""}),c.altsource&&N(t,{src:""});break;case"iframe":N(t,{src:c.source});break;case"source":if(d<2&&(N(t,{src:c[U[d]],type:c[U[d]+"mime"]}),!c[U[d]]))return;d++;break;case"img":if(!c.poster)return;s=!0}}var n,i,a,o;l.start(e,t,r)},end:function(e){if(!m.get()){if("video"===e&&u)for(var t=0;t<2;t++)if(c[U[t]]){var r=[];r.map={},d<t&&(N(r,{src:c[U[t]],type:c[U[t]+"mime"]}),l.start("source",r,!0))}if(c.poster&&"object"===e&&u&&!s){var n=[];n.map={},N(n,{src:c.poster,width:c.width,height:c.height}),l.start("img",n,!0)}}l.end(e)}},$({})).parse(e),l.getContent()},R=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],L=function(t){var e=R.filter(function(e){return e.regex.test(t)});return 0<e.length?S.extend({},e[0],{url:function(e,t){for(var r,n=(r=t.match(/^(https?:\/\/|www\.)(.+)$/i))&&1<r.length&&"www."!==r[1]?r[1]:"https://",i=e.regex.exec(t),a=n+e.url,o=function(e){a=a.replace("$"+e,function(){return i[e]?i[e]:""})},c=0;c<i.length;c++)o(c);return a.replace(/\?$/,"")}(e[0],t)}):null},I=function(r,e){var n=S.extend({},e);if(!n.source&&(S.extend(n,P(O(r),n.embed)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=r.convertURL(n.source,"source"),n.altsource=r.convertURL(n.altsource,"source"),n.sourcemime=D(n.source),n.altsourcemime=D(n.altsource),n.poster=r.convertURL(n.poster,"poster");var t=L(n.source);if(t&&(n.source=t.url,n.type=t.type,n.allowFullscreen=t.allowFullscreen,n.width=n.width||String(t.w),n.height=n.height||String(t.h)),n.embed)return E(n.embed,n,!0);var i=A(O(r),n.source);i&&(n.type="script",n.width=String(i.width),n.height=String(i.height));var a,o,c,u,s,l,m,d,h=r.getParam("audio_template_callback"),f=r.getParam("video_template_callback");return n.width=n.width||"300",n.height=n.height||"150",S.each(n,function(e,t){n[t]=r.dom.encode(""+e)}),"iframe"===n.type?(d=(m=n).allowFullscreen?' allowFullscreen="1"':"",'<iframe src="'+m.source+'" width="'+m.width+'" height="'+m.height+'"'+d+"></iframe>"):"application/x-shockwave-flash"===n.sourcemime?(l='<object data="'+(s=n).source+'" width="'+s.width+'" height="'+s.height+'" type="application/x-shockwave-flash">',s.poster&&(l+='<img src="'+s.poster+'" width="'+s.width+'" height="'+s.height+'" />'),l+="</object>"):-1!==n.sourcemime.indexOf("audio")?(c=n,(u=h)?u(c):'<audio controls="controls" src="'+c.source+'">'+(c.altsource?'\n<source src="'+c.altsource+'"'+(c.altsourcemime?' type="'+c.altsourcemime+'"':"")+" />\n":"")+"</audio>"):"script"===n.type?'<script src="'+n.source+'"><\/script>':(a=n,(o=f)?o(a):'<video width="'+a.width+'" height="'+a.height+'"'+(a.poster?' poster="'+a.poster+'"':"")+' controls="controls">\n<source src="'+a.source+'"'+(a.sourcemime?' type="'+a.sourcemime+'"':"")+" />\n"+(a.altsource?'<source src="'+a.altsource+'"'+(a.altsourcemime?' type="'+a.altsourcemime+'"':"")+" />\n":"")+"</video>")},q=tinymce.util.Tools.resolve("tinymce.util.Promise"),B={},W=function(t){return function(e){return I(t,e)}},G=function(e,t){var r,n,i,a,o,c=e.getParam("media_url_resolver");return c?(i=t,a=W(e),o=c,new q(function(t,e){var r=function(e){return e.html&&(B[i.source]=e),t({url:i.source,html:e.html?e.html:a(i)})};B[i.source]?r(B[i.source]):o({url:i.source},r,e)})):(r=t,n=W(e),new q(function(e){e({html:n(r),url:r.source})}))},H=function(a,o,c){return function(e){var t,r=function(){return x(a,e)},n=function(){return x(o,e)},i=function(e){return x(e,"value").bind(function(e){return 0<e.length?l.some(e):l.none()})};return(t={})[e]=(e===c?r().bind(function(e){return h(e)?i(e).orThunk(n):n().orThunk(function(){return l.from(e)})}):n().orThunk(function(){return r().bind(function(e){return h(e)?i(e):l.from(e)})})).getOr(""),t}},J=function(e,t){var r,n,i=t?x(e,t).bind(function(e){return x(e,"meta")}).getOr({}):{},a=H(e,i,t);return p(p(p(p(p({},a("source")),a("altsource")),a("poster")),a("embed")),(r=i,n={},x(e,"dimensions").each(function(e){f(["width","height"],function(t){x(r,t).orThunk(function(){return x(e,t)}).each(function(e){return n[t]=e})})}),n))},K=function(e){var n=p(p({},e),{source:{value:x(e,"source").getOr("")},altsource:{value:x(e,"altsource").getOr("")},poster:{value:x(e,"poster").getOr("")}});return f(["width","height"],function(r){x(e,r).each(function(e){var t=n.dimensions||{};t[r]=e,n.dimensions=t})}),n},Q=function(r){return function(e){var t=e&&e.msg?"Media embed handler error: "+e.msg:"Media embed handler threw unknown error.";r.notificationManager.open({type:"error",text:t})}},V=function(e,t){return P(O(e),t)},X=function(i,a){return function(e){if(d(e.url)&&0<e.url.trim().length){var t=e.html,r=V(a,t),n=p(p({},r),{source:e.url,embed:t});i.setData(K(n))}}},Y=function(e,t){var r=e.dom.select("img[data-mce-object]");e.insertContent(t),function(e,t){for(var r=e.dom.select("img[data-mce-object]"),n=0;n<t.length;n++)for(var i=r.length-1;0<=i;i--)t[n]===r[i]&&r.splice(i,1);e.selection.select(r[0])}(e,r),e.nodeChanged()},Z=function(e,t,r){var n;t.embed=E(t.embed,t),t.embed&&(e.source===t.source||(n=t.source,B.hasOwnProperty(n)))?Y(r,t.embed):G(r,t).then(function(e){Y(r,e.html)})["catch"](Q(r))},ee=function(m){var e,t,r,n,i=(r=(e=m).selection.getNode(),n=(t=r).getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri")?e.serializer.serialize(r,{selection:!0}):"",p({embed:n},P(O(e),n))),d=w(i),a=K(i),o={title:"General",name:"general",items:function(e){for(var t=[],r=0,n=e.length;r<n;++r){if(!g(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);v.apply(t,e[r])}return t}([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],m.getParam("media_dimensions",!0)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[]])},c={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},u=[];m.getParam("media_alt_source",!0)&&u.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),m.getParam("media_poster",!0)&&u.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var s={title:"Advanced",name:"advanced",items:u},l=[o,c];0<u.length&&l.push(s);var h={type:"tabpanel",tabs:l},f=m.windowManager.open({title:"Insert/Edit Media",size:"normal",body:h,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(e){var t=J(e.getData());Z(d.get(),t,m),e.close()},onChange:function(e,t){switch(t.name){case"source":s=d.get(),l=J(e.getData(),"source"),s.source!==l.source&&(X(f,m)({url:l.source,html:""}),G(m,l).then(X(f,m))["catch"](Q(m)));break;case"embed":c=J((o=e).getData()),u=V(m,c.embed),o.setData(K(u));break;case"dimensions":case"altsource":case"poster":r=e,n=t.name,i=J(r.getData(),n),a=I(m,i),r.setData(K(p(p({},i),{embed:a})))}var r,n,i,a,o,c,u,s,l;d.set(J(e.getData()))},initialData:a})},te=tinymce.util.Tools.resolve("tinymce.html.Node"),re=tinymce.util.Tools.resolve("tinymce.Env"),ne=function(a,e){if(!1===a.getParam("media_filter_html",!0))return e;var o,c=F();return k({validate:!1,allow_conditional_comments:!1,comment:function(e){c.comment(e)},cdata:function(e){c.cdata(e)},text:function(e,t){c.text(e,t)},start:function(e,t,r){if(o=!0,"script"!==e&&"noscript"!==e&&"svg"!==e){for(var n=t.length-1;0<=n;n--){var i=t[n].name;0===i.indexOf("on")&&(delete t.map[i],t.splice(n,1)),"style"===i&&(t[n].value=a.dom.serializeStyle(a.dom.parseStyle(t[n].value),e))}c.start(e,t,r),o=!1}},end:function(e){o||c.end(e)}},$({})).parse(e),c.getContent()},ie=function(e,t){var r=t.name,n=new te("span",1);n.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":r,"class":"mce-preview-object mce-object-"+r}),ae(e,t,n);var i=new te(r,1);i.attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),"class":t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"});var a=new te("span",1);return a.attr("class","mce-shim"),n.append(i),n.append(a),n},ae=function(e,t,r){var n,i,a,o=t.attributes;for(a=o.length;a--;)n=o[a].name,i=o[a].value,"width"!==n&&"height"!==n&&"style"!==n&&("data"!==n&&"src"!==n||(i=e.convertURL(i,n)),r.attr("data-mce-p-"+n,i));var c=t.firstChild&&t.firstChild.value;c&&(r.attr("data-mce-html",escape(ne(e,c))),r.firstChild=null)},oe=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri")||(t=e.attr("class"))&&/\btiny-pageembed\b/.test(t))return!0;var t;return!1},ce=function(u){return function(e){for(var t,r,n,i,a,o,c=e.length;c--;)(t=e[c]).parent&&(t.parent.attr("data-mce-object")||"script"===t.name&&!(r=A(O(u),t.attr("src")))||(r&&(r.width&&t.attr("width",r.width.toString()),r.height&&t.attr("height",r.height.toString())),"iframe"===t.name&&u.getParam("media_live_embeds",!0)&&re.ceFalse?oe(t)||t.replace(ie(u,t)):oe(t)||t.replace((n=u,o=void 0,a=(i=t).name,(o=new te("img",1)).shortEnded=!0,ae(n,i,o),o.attr({width:i.attr("width")||"300",height:i.attr("height")||("audio"===a?"30":"150"),style:i.attr("style"),src:re.transparentSrc,"data-mce-object":a,"class":"mce-object mce-object-"+a}),o))))}},ue=function(e){var t,r;e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){e.execCommand("mceMedia")},onSetup:(t=e,r=["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"],function(e){return t.selection.selectorChangedWithUnbind(r.join(","),e.setActive).unbind})}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){e.execCommand("mceMedia")}})};!function se(){n.add("media",function(e){var t,d,r,n;return(t=e).addCommand("mceMedia",function(){ee(t)}),ue(e),e.on("ResolveName",function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}),(d=e).on("preInit",function(){var t=d.schema.getSpecialElements();S.each("video audio iframe object".split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var r=d.schema.getBoolAttrs();S.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){r[e]={}}),d.parser.addNodeFilter("iframe,video,audio,object,embed,script",ce(d)),d.serializer.addAttributeFilter("data-mce-object",function(e,t){for(var r,n,i,a,o,c,u,s,l=e.length;l--;)if((r=e[l]).parent){for(u=r.attr(t),n=new te(u,1),"audio"!==u&&"script"!==u&&((s=r.attr("class"))&&-1!==s.indexOf("mce-preview-object")?n.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):n.attr({width:r.attr("width"),height:r.attr("height")})),n.attr({style:r.attr("style")}),i=(a=r.attributes).length;i--;){var m=a[i].name;0===m.indexOf("data-mce-p-")&&n.attr(m.substr(11),a[i].value)}"script"===u&&n.attr("type","text/javascript"),(o=r.attr("data-mce-html"))&&((c=new te("#text",3)).raw=!0,c.value=ne(d,unescape(o)),n.append(c)),r.replace(n)}})}),d.on("SetContent",function(){d.$("span.mce-preview-object").each(function(e,t){var r=d.$(t);0===r.find("span.mce-shim").length&&r.append('<span class="mce-shim"></span>')})}),(r=e).on("click keyup touchend",function(){var e=r.selection.getNode();e&&r.dom.hasClass(e,"mce-preview-object")&&r.dom.getAttrib(e,"data-mce-selected")&&e.setAttribute("data-mce-selected","2")}),r.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()}),r.on("ObjectResized",function(e){var t,r=e.target;r.getAttribute("data-mce-object")&&(t=r.getAttribute("data-mce-html"))&&(t=unescape(t),r.setAttribute("data-mce-html",escape(E(t,{width:String(e.width),height:String(e.height)}))))}),n=e,{showDialog:function(){ee(n)}}})}()}();

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueW1jZS9wbHVnaW5zL21lZGlhL3BsdWdpbi5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYSw2RUFBNkUsb0NBQW9DLGlDQUFpQyxJQUFJLHVGQUF1RixTQUFTLHdCQUF3QixlQUFlLGtCQUFrQixVQUFVLDhCQUE4QixTQUFTLGtCQUFrQixrQkFBa0IsRUFBRSxtQkFBbUIsV0FBVyw0Q0FBNEMsU0FBUywwQkFBMEIsV0FBVyxzQkFBc0Isc0RBQXNELHFGQUFxRix5RUFBeUUsU0FBUyxzQkFBc0IsZ0JBQWdCLHdCQUF3QixTQUFTLGVBQWUsWUFBWSxJQUFJLG1CQUFtQixZQUFZLGdCQUFnQixhQUFhLCtHQUErRyxlQUFlLGtCQUFrQixLQUFLLDZDQUE2QyxnQkFBZ0Isb0JBQW9CLFVBQVUscUJBQXFCLG9CQUFvQixvQkFBb0IsZUFBZSx1QkFBdUIsNEJBQTRCLGNBQWMsSUFBSSxTQUFTLElBQUksK0JBQStCLHVDQUF1QyxlQUFlLG1CQUFtQiwwUEFBMFAsU0FBUyxpRkFBaUYsdUJBQXVCLElBQUksS0FBSyxXQUFXLGVBQWUsUUFBUSxPQUFPLGVBQWUsU0FBUyxpQkFBaUIsTUFBTSx1REFBdUQsb0NBQW9DLGlCQUFpQixtQkFBbUIsZUFBZSxtQ0FBbUMsZ0xBQWdMLGlCQUFpQixXQUFXLCtDQUErQyx1QkFBdUIsMkJBQTJCLGlCQUFpQixpQkFBaUIsVUFBVSw4REFBOEQsaUdBQWlHLElBQUksc0tBQXNLLEtBQUssMktBQTJLLHFCQUFxQixhQUFhLEdBQUcsOEVBQThFLDJIQUEySCxXQUFXLGdHQUFnRyxlQUFlLE9BQU8seUlBQXlJLG1DQUFtQyxhQUFhLCtIQUErSCxtQ0FBbUMsaUJBQWlCLGVBQWUsOEJBQThCLElBQUksS0FBSyxXQUFXLFdBQVcsaUJBQWlCLFdBQVcsK0JBQStCLElB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QkFBcUIsaUJBQWlCLGFBQWEsS0FBSywyQkFBMkIsa0JBQWtCLGdDQUFnQyxRQUFRLDZHQUE2RyxZQUFZLGtCQUFrQixRQUFRLHdLQUF3SyxFQUFFLHVCQUF1Qiw0REFBNEQsb0JBQW9CLHlCQUF5QixlQUFlLElBQUksMklBQTJJLHVDQUF1QywrREFBK0QsZ0JBQWdCLEtBQUssV0FBVywrRkFBK0YsTUFBTSxTQUFTLGdCQUFnQixtQkFBbUIsK0JBQStCLElBQUksaVlBQWlZLGtMQUFrTCxTQUFTLGdCQUFnQixRQUFRLHVDQUF1Qyw2REFBNkQsMEJBQTBCLHlHQUF5Ryw2RUFBNkUsRUFBRSxxQ0FBcUMsaURBQWlELDJCQUEyQixHQUFHLGVBQWUsMEJBQTBCLFlBQVksNkNBQTZDLE1BQU0sdUNBQXVDLE1BQU0sZ0ZBQWdGLGdDQUFnQyxvQ0FBb0MsMERBQTBELHNDQUFzQyxFQUFFLDhCQUE4Qix5RkFBeUYsUUFBUSx5SUFBeUksbUNBQW1DLElBQUkscUJBQXFCLDRIQUE0SCxvRUFBb0UsVUFBVSw4Q0FBOEMsV0FBVyxzQkFBc0IsNEJBQTRCLElBQUksRUFBRSxnQkFBZ0IsOERBQThELCtKQUErSixFQUFFLCtCQUErQixrREFBa0QsYUFBYSwrRUFBK0UsRUFBRSw2Q0FBNkMsNEJBQTRCLDJIQUEySCxvQ0FBb0MsK0NBQStDLDhDQUE4QyxtQ0FBbUMsaUJBQWlCLGtJQUFrSSw4Q0FBOEMsS0FBSyxPQUFPLHNCQUFzQixRQUFRLEVBQUUsR0FBRyxHIiwiZmlsZSI6InZlbmRvcnN+dGlueW1jZS1wbHVnaW4tbWVkaWEtcGx1Z2luLW1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBUaW55IFRlY2hub2xvZ2llcywgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIExHUEwgb3IgYSBjb21tZXJjaWFsIGxpY2Vuc2UuXG4gKiBGb3IgTEdQTCBzZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqIEZvciBjb21tZXJjaWFsIGxpY2Vuc2VzIHNlZSBodHRwczovL3d3dy50aW55LmNsb3VkL1xuICpcbiAqIFZlcnNpb246IDUuNC4yICgyMDIwLTA4LTE3KVxuICovXG4hZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZSx0LHIsbj10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuUGx1Z2luTWFuYWdlclwiKSxwPWZ1bmN0aW9uKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxuPWFyZ3VtZW50cy5sZW5ndGg7cjxuO3IrKylmb3IodmFyIGkgaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX0sbz1hKCExKSxjPWEoITApLGk9ZnVuY3Rpb24oKXtyZXR1cm4gdX0sdT0oZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5pc05vbmUoKX0se2ZvbGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSgpfSxpczpvLGlzU29tZTpvLGlzTm9uZTpjLGdldE9yOnI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGdldE9yVGh1bms6dD1mdW5jdGlvbihlKXtyZXR1cm4gZSgpfSxnZXRPckRpZTpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZXx8XCJlcnJvcjogZ2V0T3JEaWUgY2FsbGVkIG9uIG5vbmUuXCIpfSxnZXRPck51bGw6YShudWxsKSxnZXRPclVuZGVmaW5lZDphKHVuZGVmaW5lZCksb3I6cixvclRodW5rOnQsbWFwOmksZWFjaDpmdW5jdGlvbigpe30sYmluZDppLGV4aXN0czpvLGZvcmFsbDpjLGZpbHRlcjppLGVxdWFsczplLGVxdWFsc186ZSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW119LHRvU3RyaW5nOmEoXCJub25lKClcIil9KSxzPWZ1bmN0aW9uKHIpe3ZhciBlPWEociksdD1mdW5jdGlvbigpe3JldHVybiBpfSxuPWZ1bmN0aW9uKGUpe3JldHVybiBlKHIpfSxpPXtmb2xkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQocil9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiByPT09ZX0saXNTb21lOmMsaXNOb25lOm8sZ2V0T3I6ZSxnZXRPclRodW5rOmUsZ2V0T3JEaWU6ZSxnZXRPck51bGw6ZSxnZXRPclVuZGVmaW5lZDplLG9yOnQsb3JUaHVuazp0LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gcyhlKHIpKX0sZWFjaDpmdW5jdGlvbihlKXtlKHIpfSxiaW5kOm4sZXhpc3RzOm4sZm9yYWxsOm4sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlKHIpP2k6dX0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltyXX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cInNvbWUoXCIrcitcIilcIn0sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzKHIpfSxlcXVhbHNfOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9sZChvLGZ1bmN0aW9uKGUpe3JldHVybiB0KHIsZSl9KX19O3JldHVybiBpfSxsPXtzb21lOnMsbm9uZTppLGZyb206ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxlPT09dW5kZWZpbmVkP3U6cyhlKX19LG09ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiByPXR5cGVvZih0PWUpLChudWxsPT09dD9cIm51bGxcIjpcIm9iamVjdFwiPT1yJiYoQXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJlwiQXJyYXlcIj09PXQuY29uc3RydWN0b3IubmFtZSk/XCJhcnJheVwiOlwib2JqZWN0XCI9PXImJihTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCl8fHQuY29uc3RydWN0b3ImJlwiU3RyaW5nXCI9PT10LmNvbnN0cnVjdG9yLm5hbWUpP1wic3RyaW5nXCI6cik9PT1uO3ZhciB0LHJ9fSxkPW0oXCJzdHJpbmdcIiksaD1tKFwib2JqZWN0XCIpLGc9bShcImFycmF5XCIpLHY9QXJyYXkucHJvdG90eXBlLnB1c2gsZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49ZS5sZW5ndGg7cjxuO3IrKyl7dChlW3JdLHIpfX0sdz1mdW5jdGlvbihlKXt2YXIgdD1lO3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sc2V0OmZ1bmN0aW9uKGUpe3Q9ZX19fSxiPU9iamVjdC5rZXlzLHk9T2JqZWN0Lmhhc093blByb3BlcnR5LHg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaihlLHQpP2wuZnJvbShlW3RdKTpsLm5vbmUoKX0saj1mdW5jdGlvbihlLHQpe3JldHVybiB5LmNhbGwoZSx0KX0sTz1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbShcIm1lZGlhX3NjcmlwdHNcIil9LFM9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLnV0aWwuVG9vbHNcIiksXz10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuZG9tLkRPTVV0aWxzXCIpLGs9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmh0bWwuU2F4UGFyc2VyXCIpLEE9ZnVuY3Rpb24oZSx0KXtpZihlKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKC0xIT09dC5pbmRleE9mKGVbcl0uZmlsdGVyKSlyZXR1cm4gZVtyXX0sVD1fLkRPTSxDPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL3B4JC8sXCJcIil9LFA9ZnVuY3Rpb24obyxlKXt2YXIgYz13KCExKSx1PXt9O3JldHVybiBrKHt2YWxpZGF0ZTohMSxhbGxvd19jb25kaXRpb25hbF9jb21tZW50czohMCxzdGFydDpmdW5jdGlvbihlLHQpe2lmKCFjLmdldCgpKWlmKGoodC5tYXAsXCJkYXRhLWVwaG94LWVtYmVkLWlyaVwiKSljLnNldCghMCksaT0obj10KS5tYXAuc3R5bGUsYT1pP1QucGFyc2VTdHlsZShpKTp7fSx1PXt0eXBlOlwiZXBob3gtZW1iZWQtaXJpXCIsc291cmNlOm4ubWFwW1wiZGF0YS1lcGhveC1lbWJlZC1pcmlcIl0sYWx0c291cmNlOlwiXCIscG9zdGVyOlwiXCIsd2lkdGg6eChhLFwibWF4LXdpZHRoXCIpLm1hcChDKS5nZXRPcihcIlwiKSxoZWlnaHQ6eChhLFwibWF4LWhlaWdodFwiKS5tYXAoQykuZ2V0T3IoXCJcIil9O2Vsc2V7aWYodS5zb3VyY2V8fFwicGFyYW1cIiE9PWV8fCh1LnNvdXJjZT10Lm1hcC5tb3ZpZSksXCJpZnJhbWVcIiE9PWUmJlwib2JqZWN0XCIhPT1lJiZcImVtYmVkXCIhPT1lJiZcInZpZGVvXCIhPT1lJiZcImF1ZGlvXCIhPT1lfHwodS50eXBlfHwodS50eXBlPWUpLHU9Uy5leHRlbmQodC5tYXAsdSkpLFwic2NyaXB0XCI9PT1lKXt2YXIgcj1BKG8sdC5tYXAuc3JjKTtpZighcilyZXR1cm47dT17dHlwZTpcInNjcmlwdFwiLHNvdXJjZTp0Lm1hcC5zcmMsd2lkdGg6U3RyaW5nKHIud2lkdGgpLGhlaWdodDpTdHJpbmcoci5oZWlnaHQpfX1cInNvdXJjZVwiPT09ZSYmKHUuc291cmNlP3UuYWx0c291cmNlfHwodS5hbHRzb3VyY2U9dC5tYXAuc3JjKTp1LnNvdXJjZT10Lm1hcC5zcmMpLFwiaW1nXCIhPT1lfHx1LnBvc3Rlcnx8KHUucG9zdGVyPXQubWFwLnNyYyl9dmFyIG4saSxhfX0pLnBhcnNlKGUpLHUuc291cmNlPXUuc291cmNlfHx1LnNyY3x8dS5kYXRhLHUuYWx0c291cmNlPXUuYWx0c291cmNlfHxcIlwiLHUucG9zdGVyPXUucG9zdGVyfHxcIlwiLHV9LEQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e21wMzpcImF1ZGlvL21wZWdcIixtNGE6XCJhdWRpby94LW00YVwiLHdhdjpcImF1ZGlvL3dhdlwiLG1wNDpcInZpZGVvL21wNFwiLHdlYm06XCJ2aWRlby93ZWJtXCIsb2dnOlwidmlkZW8vb2dnXCIsc3dmOlwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIn1bZS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLlwiKS5wb3AoKV07cmV0dXJuIHR8fFwiXCJ9LCQ9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmh0bWwuU2NoZW1hXCIpLEY9dGlueW1jZS51dGlsLlRvb2xzLnJlc29sdmUoXCJ0aW55bWNlLmh0bWwuV3JpdGVyXCIpLE09Xy5ET00sej1mdW5jdGlvbihlKXtyZXR1cm4vXlswLTkuXSskLy50ZXN0KGUpP2UrXCJweFwiOmV9LE49ZnVuY3Rpb24oYSxlKXshZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9YihlKSxuPTAsaT1yLmxlbmd0aDtuPGk7bisrKXt2YXIgYT1yW25dO3QoZVthXSxhKX19KGUsZnVuY3Rpb24oZSx0KXt2YXIgcj1cIlwiK2U7aWYoYS5tYXBbdF0pZm9yKHZhciBuPWEubGVuZ3RoO24tLTspe3ZhciBpPWFbbl07aS5uYW1lPT09dCYmKHI/KGEubWFwW3RdPXIsaS52YWx1ZT1yKTooZGVsZXRlIGEubWFwW3RdLGEuc3BsaWNlKG4sMSkpKX1lbHNlIHImJihhLnB1c2goe25hbWU6dCx2YWx1ZTpyfSksYS5tYXBbdF09cil9KX0sVT1bXCJzb3VyY2VcIixcImFsdHNvdXJjZVwiXSxFPWZ1bmN0aW9uKGUsYyx1KXt2YXIgcyxsPUYoKSxtPXcoITEpLGQ9MDtyZXR1cm4gayh7dmFsaWRhdGU6ITEsYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHM6ITAsY29tbWVudDpmdW5jdGlvbihlKXtsLmNvbW1lbnQoZSl9LGNkYXRhOmZ1bmN0aW9uKGUpe2wuY2RhdGEoZSl9LHRleHQ6ZnVuY3Rpb24oZSx0KXtsLnRleHQoZSx0KX0sc3RhcnQ6ZnVuY3Rpb24oZSx0LHIpe2lmKCFtLmdldCgpKWlmKGoodC5tYXAsXCJkYXRhLWVwaG94LWVtYmVkLWlyaVwiKSltLnNldCghMCksbj1jLGE9KGk9dCkubWFwLnN0eWxlLChvPWE/TS5wYXJzZVN0eWxlKGEpOnt9KVtcIm1heC13aWR0aFwiXT16KG4ud2lkdGgpLG9bXCJtYXgtaGVpZ2h0XCJdPXoobi5oZWlnaHQpLE4oaSx7c3R5bGU6TS5zZXJpYWxpemVTdHlsZShvKX0pO2Vsc2V7c3dpdGNoKGUpe2Nhc2VcInZpZGVvXCI6Y2FzZVwib2JqZWN0XCI6Y2FzZVwiZW1iZWRcIjpjYXNlXCJpbWdcIjpjYXNlXCJpZnJhbWVcIjpjLmhlaWdodCE9PXVuZGVmaW5lZCYmYy53aWR0aCE9PXVuZGVmaW5lZCYmTih0LHt3aWR0aDpjLndpZHRoLGhlaWdodDpjLmhlaWdodH0pfWlmKHUpc3dpdGNoKGUpe2Nhc2VcInZpZGVvXCI6Tih0LHtwb3N0ZXI6Yy5wb3N0ZXIsc3JjOlwiXCJ9KSxjLmFsdHNvdXJjZSYmTih0LHtzcmM6XCJcIn0pO2JyZWFrO2Nhc2VcImlmcmFtZVwiOk4odCx7c3JjOmMuc291cmNlfSk7YnJlYWs7Y2FzZVwic291cmNlXCI6aWYoZDwyJiYoTih0LHtzcmM6Y1tVW2RdXSx0eXBlOmNbVVtkXStcIm1pbWVcIl19KSwhY1tVW2RdXSkpcmV0dXJuO2QrKzticmVhaztjYXNlXCJpbWdcIjppZighYy5wb3N0ZXIpcmV0dXJuO3M9ITB9fXZhciBuLGksYSxvO2wuc3RhcnQoZSx0LHIpfSxlbmQ6ZnVuY3Rpb24oZSl7aWYoIW0uZ2V0KCkpe2lmKFwidmlkZW9cIj09PWUmJnUpZm9yKHZhciB0PTA7dDwyO3QrKylpZihjW1VbdF1dKXt2YXIgcj1bXTtyLm1hcD17fSxkPHQmJihOKHIse3NyYzpjW1VbdF1dLHR5cGU6Y1tVW3RdK1wibWltZVwiXX0pLGwuc3RhcnQoXCJzb3VyY2VcIixyLCEwKSl9aWYoYy5wb3N0ZXImJlwib2JqZWN0XCI9PT1lJiZ1JiYhcyl7dmFyIG49W107bi5tYXA9e30sTihuLHtzcmM6Yy5wb3N0ZXIsd2lkdGg6Yy53aWR0aCxoZWlnaHQ6Yy5oZWlnaHR9KSxsLnN0YXJ0KFwiaW1nXCIsbiwhMCl9fWwuZW5kKGUpfX0sJCh7fSkpLnBhcnNlKGUpLGwuZ2V0Q29udGVudCgpfSxSPVt7cmVnZXg6L3lvdXR1XFwuYmVcXC8oW1xcd1xcLV9cXD8mPS5dKykvaSx0eXBlOlwiaWZyYW1lXCIsdzo1NjAsaDozMTQsdXJsOlwid3d3LnlvdXR1YmUuY29tL2VtYmVkLyQxXCIsYWxsb3dGdWxsc2NyZWVuOiEwfSx7cmVnZXg6L3lvdXR1YmVcXC5jb20oLispdj0oW14mXSspKCYoW2EtejAtOSY9XFwtX10rKSk/L2ksdHlwZTpcImlmcmFtZVwiLHc6NTYwLGg6MzE0LHVybDpcInd3dy55b3V0dWJlLmNvbS9lbWJlZC8kMj8kNFwiLGFsbG93RnVsbHNjcmVlbjohMH0se3JlZ2V4Oi95b3V0dWJlLmNvbVxcL2VtYmVkXFwvKFthLXowLTlcXD8mPVxcLV9dKykvaSx0eXBlOlwiaWZyYW1lXCIsdzo1NjAsaDozMTQsdXJsOlwid3d3LnlvdXR1YmUuY29tL2VtYmVkLyQxXCIsYWxsb3dGdWxsc2NyZWVuOiEwfSx7cmVnZXg6L3ZpbWVvXFwuY29tXFwvKFswLTldKykvLHR5cGU6XCJpZnJhbWVcIix3OjQyNSxoOjM1MCx1cmw6XCJwbGF5ZXIudmltZW8uY29tL3ZpZGVvLyQxP3RpdGxlPTAmYnlsaW5lPTAmcG9ydHJhaXQ9MCZjb2xvcj04ZGM3ZGNcIixhbGxvd0Z1bGxzY3JlZW46ITB9LHtyZWdleDovdmltZW9cXC5jb21cXC8oLiopXFwvKFswLTldKykvLHR5cGU6XCJpZnJhbWVcIix3OjQyNSxoOjM1MCx1cmw6XCJwbGF5ZXIudmltZW8uY29tL3ZpZGVvLyQyP3RpdGxlPTAmYW1wO2J5bGluZT0wXCIsYWxsb3dGdWxsc2NyZWVuOiEwfSx7cmVnZXg6L21hcHNcXC5nb29nbGVcXC4oW2Etel17MiwzfSlcXC9tYXBzXFwvKC4rKW1zaWQ9KC4rKS8sdHlwZTpcImlmcmFtZVwiLHc6NDI1LGg6MzUwLHVybDonbWFwcy5nb29nbGUuY29tL21hcHMvbXM/bXNpZD0kMiZvdXRwdXQ9ZW1iZWRcIicsYWxsb3dGdWxsc2NyZWVuOiExfSx7cmVnZXg6L2RhaWx5bW90aW9uXFwuY29tXFwvdmlkZW9cXC8oW15fXSspLyx0eXBlOlwiaWZyYW1lXCIsdzo0ODAsaDoyNzAsdXJsOlwid3d3LmRhaWx5bW90aW9uLmNvbS9lbWJlZC92aWRlby8kMVwiLGFsbG93RnVsbHNjcmVlbjohMH0se3JlZ2V4Oi9kYWlcXC5seVxcLyhbXl9dKykvLHR5cGU6XCJpZnJhbWVcIix3OjQ4MCxoOjI3MCx1cmw6XCJ3d3cuZGFpbHltb3Rpb24uY29tL2VtYmVkL3ZpZGVvLyQxXCIsYWxsb3dGdWxsc2NyZWVuOiEwfV0sTD1mdW5jdGlvbih0KXt2YXIgZT1SLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWdleC50ZXN0KHQpfSk7cmV0dXJuIDA8ZS5sZW5ndGg/Uy5leHRlbmQoe30sZVswXSx7dXJsOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG49KHI9dC5tYXRjaCgvXihodHRwcz86XFwvXFwvfHd3d1xcLikoLispJC9pKSkmJjE8ci5sZW5ndGgmJlwid3d3LlwiIT09clsxXT9yWzFdOlwiaHR0cHM6Ly9cIixpPWUucmVnZXguZXhlYyh0KSxhPW4rZS51cmwsbz1mdW5jdGlvbihlKXthPWEucmVwbGFjZShcIiRcIitlLGZ1bmN0aW9uKCl7cmV0dXJuIGlbZV0/aVtlXTpcIlwifSl9LGM9MDtjPGkubGVuZ3RoO2MrKylvKGMpO3JldHVybiBhLnJlcGxhY2UoL1xcPyQvLFwiXCIpfShlWzBdLHQpfSk6bnVsbH0sST1mdW5jdGlvbihyLGUpe3ZhciBuPVMuZXh0ZW5kKHt9LGUpO2lmKCFuLnNvdXJjZSYmKFMuZXh0ZW5kKG4sUChPKHIpLG4uZW1iZWQpKSwhbi5zb3VyY2UpKXJldHVyblwiXCI7bi5hbHRzb3VyY2V8fChuLmFsdHNvdXJjZT1cIlwiKSxuLnBvc3Rlcnx8KG4ucG9zdGVyPVwiXCIpLG4uc291cmNlPXIuY29udmVydFVSTChuLnNvdXJjZSxcInNvdXJjZVwiKSxuLmFsdHNvdXJjZT1yLmNvbnZlcnRVUkwobi5hbHRzb3VyY2UsXCJzb3VyY2VcIiksbi5zb3VyY2VtaW1lPUQobi5zb3VyY2UpLG4uYWx0c291cmNlbWltZT1EKG4uYWx0c291cmNlKSxuLnBvc3Rlcj1yLmNvbnZlcnRVUkwobi5wb3N0ZXIsXCJwb3N0ZXJcIik7dmFyIHQ9TChuLnNvdXJjZSk7aWYodCYmKG4uc291cmNlPXQudXJsLG4udHlwZT10LnR5cGUsbi5hbGxvd0Z1bGxzY3JlZW49dC5hbGxvd0Z1bGxzY3JlZW4sbi53aWR0aD1uLndpZHRofHxTdHJpbmcodC53KSxuLmhlaWdodD1uLmhlaWdodHx8U3RyaW5nKHQuaCkpLG4uZW1iZWQpcmV0dXJuIEUobi5lbWJlZCxuLCEwKTt2YXIgaT1BKE8ociksbi5zb3VyY2UpO2kmJihuLnR5cGU9XCJzY3JpcHRcIixuLndpZHRoPVN0cmluZyhpLndpZHRoKSxuLmhlaWdodD1TdHJpbmcoaS5oZWlnaHQpKTt2YXIgYSxvLGMsdSxzLGwsbSxkLGg9ci5nZXRQYXJhbShcImF1ZGlvX3RlbXBsYXRlX2NhbGxiYWNrXCIpLGY9ci5nZXRQYXJhbShcInZpZGVvX3RlbXBsYXRlX2NhbGxiYWNrXCIpO3JldHVybiBuLndpZHRoPW4ud2lkdGh8fFwiMzAwXCIsbi5oZWlnaHQ9bi5oZWlnaHR8fFwiMTUwXCIsUy5lYWNoKG4sZnVuY3Rpb24oZSx0KXtuW3RdPXIuZG9tLmVuY29kZShcIlwiK2UpfSksXCJpZnJhbWVcIj09PW4udHlwZT8oZD0obT1uKS5hbGxvd0Z1bGxzY3JlZW4/JyBhbGxvd0Z1bGxzY3JlZW49XCIxXCInOlwiXCIsJzxpZnJhbWUgc3JjPVwiJyttLnNvdXJjZSsnXCIgd2lkdGg9XCInK20ud2lkdGgrJ1wiIGhlaWdodD1cIicrbS5oZWlnaHQrJ1wiJytkK1wiPjwvaWZyYW1lPlwiKTpcImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCI9PT1uLnNvdXJjZW1pbWU/KGw9JzxvYmplY3QgZGF0YT1cIicrKHM9bikuc291cmNlKydcIiB3aWR0aD1cIicrcy53aWR0aCsnXCIgaGVpZ2h0PVwiJytzLmhlaWdodCsnXCIgdHlwZT1cImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoXCI+JyxzLnBvc3RlciYmKGwrPSc8aW1nIHNyYz1cIicrcy5wb3N0ZXIrJ1wiIHdpZHRoPVwiJytzLndpZHRoKydcIiBoZWlnaHQ9XCInK3MuaGVpZ2h0KydcIiAvPicpLGwrPVwiPC9vYmplY3Q+XCIpOi0xIT09bi5zb3VyY2VtaW1lLmluZGV4T2YoXCJhdWRpb1wiKT8oYz1uLCh1PWgpP3UoYyk6JzxhdWRpbyBjb250cm9scz1cImNvbnRyb2xzXCIgc3JjPVwiJytjLnNvdXJjZSsnXCI+JysoYy5hbHRzb3VyY2U/J1xcbjxzb3VyY2Ugc3JjPVwiJytjLmFsdHNvdXJjZSsnXCInKyhjLmFsdHNvdXJjZW1pbWU/JyB0eXBlPVwiJytjLmFsdHNvdXJjZW1pbWUrJ1wiJzpcIlwiKStcIiAvPlxcblwiOlwiXCIpK1wiPC9hdWRpbz5cIik6XCJzY3JpcHRcIj09PW4udHlwZT8nPHNjcmlwdCBzcmM9XCInK24uc291cmNlKydcIj48XFwvc2NyaXB0Pic6KGE9biwobz1mKT9vKGEpOic8dmlkZW8gd2lkdGg9XCInK2Eud2lkdGgrJ1wiIGhlaWdodD1cIicrYS5oZWlnaHQrJ1wiJysoYS5wb3N0ZXI/JyBwb3N0ZXI9XCInK2EucG9zdGVyKydcIic6XCJcIikrJyBjb250cm9scz1cImNvbnRyb2xzXCI+XFxuPHNvdXJjZSBzcmM9XCInK2Euc291cmNlKydcIicrKGEuc291cmNlbWltZT8nIHR5cGU9XCInK2Euc291cmNlbWltZSsnXCInOlwiXCIpK1wiIC8+XFxuXCIrKGEuYWx0c291cmNlPyc8c291cmNlIHNyYz1cIicrYS5hbHRzb3VyY2UrJ1wiJysoYS5hbHRzb3VyY2VtaW1lPycgdHlwZT1cIicrYS5hbHRzb3VyY2VtaW1lKydcIic6XCJcIikrXCIgLz5cXG5cIjpcIlwiKStcIjwvdmlkZW8+XCIpfSxxPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS51dGlsLlByb21pc2VcIiksQj17fSxXPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gSSh0LGUpfX0sRz1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxhLG8sYz1lLmdldFBhcmFtKFwibWVkaWFfdXJsX3Jlc29sdmVyXCIpO3JldHVybiBjPyhpPXQsYT1XKGUpLG89YyxuZXcgcShmdW5jdGlvbih0LGUpe3ZhciByPWZ1bmN0aW9uKGUpe3JldHVybiBlLmh0bWwmJihCW2kuc291cmNlXT1lKSx0KHt1cmw6aS5zb3VyY2UsaHRtbDplLmh0bWw/ZS5odG1sOmEoaSl9KX07QltpLnNvdXJjZV0/cihCW2kuc291cmNlXSk6byh7dXJsOmkuc291cmNlfSxyLGUpfSkpOihyPXQsbj1XKGUpLG5ldyBxKGZ1bmN0aW9uKGUpe2Uoe2h0bWw6bihyKSx1cmw6ci5zb3VyY2V9KX0pKX0sSD1mdW5jdGlvbihhLG8sYyl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0LHI9ZnVuY3Rpb24oKXtyZXR1cm4geChhLGUpfSxuPWZ1bmN0aW9uKCl7cmV0dXJuIHgobyxlKX0saT1mdW5jdGlvbihlKXtyZXR1cm4geChlLFwidmFsdWVcIikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aD9sLnNvbWUoZSk6bC5ub25lKCl9KX07cmV0dXJuKHQ9e30pW2VdPShlPT09Yz9yKCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gaChlKT9pKGUpLm9yVGh1bmsobik6bigpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gbC5mcm9tKGUpfSl9KTpuKCkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiByKCkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gaChlKT9pKGUpOmwuZnJvbShlKX0pfSkpLmdldE9yKFwiXCIpLHR9fSxKPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpPXQ/eChlLHQpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSxcIm1ldGFcIil9KS5nZXRPcih7fSk6e30sYT1IKGUsaSx0KTtyZXR1cm4gcChwKHAocChwKHt9LGEoXCJzb3VyY2VcIikpLGEoXCJhbHRzb3VyY2VcIikpLGEoXCJwb3N0ZXJcIikpLGEoXCJlbWJlZFwiKSksKHI9aSxuPXt9LHgoZSxcImRpbWVuc2lvbnNcIikuZWFjaChmdW5jdGlvbihlKXtmKFtcIndpZHRoXCIsXCJoZWlnaHRcIl0sZnVuY3Rpb24odCl7eChyLHQpLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4geChlLHQpfSkuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gblt0XT1lfSl9KX0pLG4pKX0sSz1mdW5jdGlvbihlKXt2YXIgbj1wKHAoe30sZSkse3NvdXJjZTp7dmFsdWU6eChlLFwic291cmNlXCIpLmdldE9yKFwiXCIpfSxhbHRzb3VyY2U6e3ZhbHVlOngoZSxcImFsdHNvdXJjZVwiKS5nZXRPcihcIlwiKX0scG9zdGVyOnt2YWx1ZTp4KGUsXCJwb3N0ZXJcIikuZ2V0T3IoXCJcIil9fSk7cmV0dXJuIGYoW1wid2lkdGhcIixcImhlaWdodFwiXSxmdW5jdGlvbihyKXt4KGUscikuZWFjaChmdW5jdGlvbihlKXt2YXIgdD1uLmRpbWVuc2lvbnN8fHt9O3Rbcl09ZSxuLmRpbWVuc2lvbnM9dH0pfSksbn0sUT1mdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5tc2c/XCJNZWRpYSBlbWJlZCBoYW5kbGVyIGVycm9yOiBcIitlLm1zZzpcIk1lZGlhIGVtYmVkIGhhbmRsZXIgdGhyZXcgdW5rbm93biBlcnJvci5cIjtyLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dHlwZTpcImVycm9yXCIsdGV4dDp0fSl9fSxWPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFAoTyhlKSx0KX0sWD1mdW5jdGlvbihpLGEpe3JldHVybiBmdW5jdGlvbihlKXtpZihkKGUudXJsKSYmMDxlLnVybC50cmltKCkubGVuZ3RoKXt2YXIgdD1lLmh0bWwscj1WKGEsdCksbj1wKHAoe30scikse3NvdXJjZTplLnVybCxlbWJlZDp0fSk7aS5zZXREYXRhKEsobikpfX19LFk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmRvbS5zZWxlY3QoXCJpbWdbZGF0YS1tY2Utb2JqZWN0XVwiKTtlLmluc2VydENvbnRlbnQodCksZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZS5kb20uc2VsZWN0KFwiaW1nW2RhdGEtbWNlLW9iamVjdF1cIiksbj0wO248dC5sZW5ndGg7bisrKWZvcih2YXIgaT1yLmxlbmd0aC0xOzA8PWk7aS0tKXRbbl09PT1yW2ldJiZyLnNwbGljZShpLDEpO2Uuc2VsZWN0aW9uLnNlbGVjdChyWzBdKX0oZSxyKSxlLm5vZGVDaGFuZ2VkKCl9LFo9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3QuZW1iZWQ9RSh0LmVtYmVkLHQpLHQuZW1iZWQmJihlLnNvdXJjZT09PXQuc291cmNlfHwobj10LnNvdXJjZSxCLmhhc093blByb3BlcnR5KG4pKSk/WShyLHQuZW1iZWQpOkcocix0KS50aGVuKGZ1bmN0aW9uKGUpe1kocixlLmh0bWwpfSlbXCJjYXRjaFwiXShRKHIpKX0sZWU9ZnVuY3Rpb24obSl7dmFyIGUsdCxyLG4saT0ocj0oZT1tKS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLG49KHQ9cikuZ2V0QXR0cmlidXRlKFwiZGF0YS1tY2Utb2JqZWN0XCIpfHx0LmdldEF0dHJpYnV0ZShcImRhdGEtZXBob3gtZW1iZWQtaXJpXCIpP2Uuc2VyaWFsaXplci5zZXJpYWxpemUocix7c2VsZWN0aW9uOiEwfSk6XCJcIixwKHtlbWJlZDpufSxQKE8oZSksbikpKSxkPXcoaSksYT1LKGkpLG89e3RpdGxlOlwiR2VuZXJhbFwiLG5hbWU6XCJnZW5lcmFsXCIsaXRlbXM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MCxuPWUubGVuZ3RoO3I8bjsrK3Ipe2lmKCFnKGVbcl0pKXRocm93IG5ldyBFcnJvcihcIkFyci5mbGF0dGVuIGl0ZW0gXCIrcitcIiB3YXMgbm90IGFuIGFycmF5LCBpbnB1dDogXCIrZSk7di5hcHBseSh0LGVbcl0pfXJldHVybiB0fShbW3tuYW1lOlwic291cmNlXCIsdHlwZTpcInVybGlucHV0XCIsZmlsZXR5cGU6XCJtZWRpYVwiLGxhYmVsOlwiU291cmNlXCJ9XSxtLmdldFBhcmFtKFwibWVkaWFfZGltZW5zaW9uc1wiLCEwKT9be3R5cGU6XCJzaXplaW5wdXRcIixuYW1lOlwiZGltZW5zaW9uc1wiLGxhYmVsOlwiQ29uc3RyYWluIHByb3BvcnRpb25zXCIsY29uc3RyYWluOiEwfV06W11dKX0sYz17dGl0bGU6XCJFbWJlZFwiLGl0ZW1zOlt7dHlwZTpcInRleHRhcmVhXCIsbmFtZTpcImVtYmVkXCIsbGFiZWw6XCJQYXN0ZSB5b3VyIGVtYmVkIGNvZGUgYmVsb3c6XCJ9XX0sdT1bXTttLmdldFBhcmFtKFwibWVkaWFfYWx0X3NvdXJjZVwiLCEwKSYmdS5wdXNoKHtuYW1lOlwiYWx0c291cmNlXCIsdHlwZTpcInVybGlucHV0XCIsZmlsZXR5cGU6XCJtZWRpYVwiLGxhYmVsOlwiQWx0ZXJuYXRpdmUgc291cmNlIFVSTFwifSksbS5nZXRQYXJhbShcIm1lZGlhX3Bvc3RlclwiLCEwKSYmdS5wdXNoKHtuYW1lOlwicG9zdGVyXCIsdHlwZTpcInVybGlucHV0XCIsZmlsZXR5cGU6XCJpbWFnZVwiLGxhYmVsOlwiTWVkaWEgcG9zdGVyIChJbWFnZSBVUkwpXCJ9KTt2YXIgcz17dGl0bGU6XCJBZHZhbmNlZFwiLG5hbWU6XCJhZHZhbmNlZFwiLGl0ZW1zOnV9LGw9W28sY107MDx1Lmxlbmd0aCYmbC5wdXNoKHMpO3ZhciBoPXt0eXBlOlwidGFicGFuZWxcIix0YWJzOmx9LGY9bS53aW5kb3dNYW5hZ2VyLm9wZW4oe3RpdGxlOlwiSW5zZXJ0L0VkaXQgTWVkaWFcIixzaXplOlwibm9ybWFsXCIsYm9keTpoLGJ1dHRvbnM6W3t0eXBlOlwiY2FuY2VsXCIsbmFtZTpcImNhbmNlbFwiLHRleHQ6XCJDYW5jZWxcIn0se3R5cGU6XCJzdWJtaXRcIixuYW1lOlwic2F2ZVwiLHRleHQ6XCJTYXZlXCIscHJpbWFyeTohMH1dLG9uU3VibWl0OmZ1bmN0aW9uKGUpe3ZhciB0PUooZS5nZXREYXRhKCkpO1ooZC5nZXQoKSx0LG0pLGUuY2xvc2UoKX0sb25DaGFuZ2U6ZnVuY3Rpb24oZSx0KXtzd2l0Y2godC5uYW1lKXtjYXNlXCJzb3VyY2VcIjpzPWQuZ2V0KCksbD1KKGUuZ2V0RGF0YSgpLFwic291cmNlXCIpLHMuc291cmNlIT09bC5zb3VyY2UmJihYKGYsbSkoe3VybDpsLnNvdXJjZSxodG1sOlwiXCJ9KSxHKG0sbCkudGhlbihYKGYsbSkpW1wiY2F0Y2hcIl0oUShtKSkpO2JyZWFrO2Nhc2VcImVtYmVkXCI6Yz1KKChvPWUpLmdldERhdGEoKSksdT1WKG0sYy5lbWJlZCksby5zZXREYXRhKEsodSkpO2JyZWFrO2Nhc2VcImRpbWVuc2lvbnNcIjpjYXNlXCJhbHRzb3VyY2VcIjpjYXNlXCJwb3N0ZXJcIjpyPWUsbj10Lm5hbWUsaT1KKHIuZ2V0RGF0YSgpLG4pLGE9SShtLGkpLHIuc2V0RGF0YShLKHAocCh7fSxpKSx7ZW1iZWQ6YX0pKSl9dmFyIHIsbixpLGEsbyxjLHUscyxsO2Quc2V0KEooZS5nZXREYXRhKCkpKX0saW5pdGlhbERhdGE6YX0pfSx0ZT10aW55bWNlLnV0aWwuVG9vbHMucmVzb2x2ZShcInRpbnltY2UuaHRtbC5Ob2RlXCIpLHJlPXRpbnltY2UudXRpbC5Ub29scy5yZXNvbHZlKFwidGlueW1jZS5FbnZcIiksbmU9ZnVuY3Rpb24oYSxlKXtpZighMT09PWEuZ2V0UGFyYW0oXCJtZWRpYV9maWx0ZXJfaHRtbFwiLCEwKSlyZXR1cm4gZTt2YXIgbyxjPUYoKTtyZXR1cm4gayh7dmFsaWRhdGU6ITEsYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHM6ITEsY29tbWVudDpmdW5jdGlvbihlKXtjLmNvbW1lbnQoZSl9LGNkYXRhOmZ1bmN0aW9uKGUpe2MuY2RhdGEoZSl9LHRleHQ6ZnVuY3Rpb24oZSx0KXtjLnRleHQoZSx0KX0sc3RhcnQ6ZnVuY3Rpb24oZSx0LHIpe2lmKG89ITAsXCJzY3JpcHRcIiE9PWUmJlwibm9zY3JpcHRcIiE9PWUmJlwic3ZnXCIhPT1lKXtmb3IodmFyIG49dC5sZW5ndGgtMTswPD1uO24tLSl7dmFyIGk9dFtuXS5uYW1lOzA9PT1pLmluZGV4T2YoXCJvblwiKSYmKGRlbGV0ZSB0Lm1hcFtpXSx0LnNwbGljZShuLDEpKSxcInN0eWxlXCI9PT1pJiYodFtuXS52YWx1ZT1hLmRvbS5zZXJpYWxpemVTdHlsZShhLmRvbS5wYXJzZVN0eWxlKHRbbl0udmFsdWUpLGUpKX1jLnN0YXJ0KGUsdCxyKSxvPSExfX0sZW5kOmZ1bmN0aW9uKGUpe298fGMuZW5kKGUpfX0sJCh7fSkpLnBhcnNlKGUpLGMuZ2V0Q29udGVudCgpfSxpZT1mdW5jdGlvbihlLHQpe3ZhciByPXQubmFtZSxuPW5ldyB0ZShcInNwYW5cIiwxKTtuLmF0dHIoe2NvbnRlbnRFZGl0YWJsZTpcImZhbHNlXCIsc3R5bGU6dC5hdHRyKFwic3R5bGVcIiksXCJkYXRhLW1jZS1vYmplY3RcIjpyLFwiY2xhc3NcIjpcIm1jZS1wcmV2aWV3LW9iamVjdCBtY2Utb2JqZWN0LVwiK3J9KSxhZShlLHQsbik7dmFyIGk9bmV3IHRlKHIsMSk7aS5hdHRyKHtzcmM6dC5hdHRyKFwic3JjXCIpLGFsbG93ZnVsbHNjcmVlbjp0LmF0dHIoXCJhbGxvd2Z1bGxzY3JlZW5cIiksc3R5bGU6dC5hdHRyKFwic3R5bGVcIiksXCJjbGFzc1wiOnQuYXR0cihcImNsYXNzXCIpLHdpZHRoOnQuYXR0cihcIndpZHRoXCIpLGhlaWdodDp0LmF0dHIoXCJoZWlnaHRcIiksZnJhbWVib3JkZXI6XCIwXCJ9KTt2YXIgYT1uZXcgdGUoXCJzcGFuXCIsMSk7cmV0dXJuIGEuYXR0cihcImNsYXNzXCIsXCJtY2Utc2hpbVwiKSxuLmFwcGVuZChpKSxuLmFwcGVuZChhKSxufSxhZT1mdW5jdGlvbihlLHQscil7dmFyIG4saSxhLG89dC5hdHRyaWJ1dGVzO2ZvcihhPW8ubGVuZ3RoO2EtLTspbj1vW2FdLm5hbWUsaT1vW2FdLnZhbHVlLFwid2lkdGhcIiE9PW4mJlwiaGVpZ2h0XCIhPT1uJiZcInN0eWxlXCIhPT1uJiYoXCJkYXRhXCIhPT1uJiZcInNyY1wiIT09bnx8KGk9ZS5jb252ZXJ0VVJMKGksbikpLHIuYXR0cihcImRhdGEtbWNlLXAtXCIrbixpKSk7dmFyIGM9dC5maXJzdENoaWxkJiZ0LmZpcnN0Q2hpbGQudmFsdWU7YyYmKHIuYXR0cihcImRhdGEtbWNlLWh0bWxcIixlc2NhcGUobmUoZSxjKSkpLHIuZmlyc3RDaGlsZD1udWxsKX0sb2U9ZnVuY3Rpb24oZSl7Zm9yKDtlPWUucGFyZW50OylpZihlLmF0dHIoXCJkYXRhLWVwaG94LWVtYmVkLWlyaVwiKXx8KHQ9ZS5hdHRyKFwiY2xhc3NcIikpJiYvXFxidGlueS1wYWdlZW1iZWRcXGIvLnRlc3QodCkpcmV0dXJuITA7dmFyIHQ7cmV0dXJuITF9LGNlPWZ1bmN0aW9uKHUpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQscixuLGksYSxvLGM9ZS5sZW5ndGg7Yy0tOykodD1lW2NdKS5wYXJlbnQmJih0LnBhcmVudC5hdHRyKFwiZGF0YS1tY2Utb2JqZWN0XCIpfHxcInNjcmlwdFwiPT09dC5uYW1lJiYhKHI9QShPKHUpLHQuYXR0cihcInNyY1wiKSkpfHwociYmKHIud2lkdGgmJnQuYXR0cihcIndpZHRoXCIsci53aWR0aC50b1N0cmluZygpKSxyLmhlaWdodCYmdC5hdHRyKFwiaGVpZ2h0XCIsci5oZWlnaHQudG9TdHJpbmcoKSkpLFwiaWZyYW1lXCI9PT10Lm5hbWUmJnUuZ2V0UGFyYW0oXCJtZWRpYV9saXZlX2VtYmVkc1wiLCEwKSYmcmUuY2VGYWxzZT9vZSh0KXx8dC5yZXBsYWNlKGllKHUsdCkpOm9lKHQpfHx0LnJlcGxhY2UoKG49dSxvPXZvaWQgMCxhPShpPXQpLm5hbWUsKG89bmV3IHRlKFwiaW1nXCIsMSkpLnNob3J0RW5kZWQ9ITAsYWUobixpLG8pLG8uYXR0cih7d2lkdGg6aS5hdHRyKFwid2lkdGhcIil8fFwiMzAwXCIsaGVpZ2h0OmkuYXR0cihcImhlaWdodFwiKXx8KFwiYXVkaW9cIj09PWE/XCIzMFwiOlwiMTUwXCIpLHN0eWxlOmkuYXR0cihcInN0eWxlXCIpLHNyYzpyZS50cmFuc3BhcmVudFNyYyxcImRhdGEtbWNlLW9iamVjdFwiOmEsXCJjbGFzc1wiOlwibWNlLW9iamVjdCBtY2Utb2JqZWN0LVwiK2F9KSxvKSkpKX19LHVlPWZ1bmN0aW9uKGUpe3ZhciB0LHI7ZS51aS5yZWdpc3RyeS5hZGRUb2dnbGVCdXR0b24oXCJtZWRpYVwiLHt0b29sdGlwOlwiSW5zZXJ0L2VkaXQgbWVkaWFcIixpY29uOlwiZW1iZWRcIixvbkFjdGlvbjpmdW5jdGlvbigpe2UuZXhlY0NvbW1hbmQoXCJtY2VNZWRpYVwiKX0sb25TZXR1cDoodD1lLHI9W1wiaW1nW2RhdGEtbWNlLW9iamVjdF1cIixcInNwYW5bZGF0YS1tY2Utb2JqZWN0XVwiLFwiZGl2W2RhdGEtZXBob3gtZW1iZWQtaXJpXVwiXSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZWxlY3Rpb24uc2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZChyLmpvaW4oXCIsXCIpLGUuc2V0QWN0aXZlKS51bmJpbmR9KX0pLGUudWkucmVnaXN0cnkuYWRkTWVudUl0ZW0oXCJtZWRpYVwiLHtpY29uOlwiZW1iZWRcIix0ZXh0OlwiTWVkaWEuLi5cIixvbkFjdGlvbjpmdW5jdGlvbigpe2UuZXhlY0NvbW1hbmQoXCJtY2VNZWRpYVwiKX19KX07IWZ1bmN0aW9uIHNlKCl7bi5hZGQoXCJtZWRpYVwiLGZ1bmN0aW9uKGUpe3ZhciB0LGQscixuO3JldHVybih0PWUpLmFkZENvbW1hbmQoXCJtY2VNZWRpYVwiLGZ1bmN0aW9uKCl7ZWUodCl9KSx1ZShlKSxlLm9uKFwiUmVzb2x2ZU5hbWVcIixmdW5jdGlvbihlKXt2YXIgdDsxPT09ZS50YXJnZXQubm9kZVR5cGUmJih0PWUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbWNlLW9iamVjdFwiKSkmJihlLm5hbWU9dCl9KSwoZD1lKS5vbihcInByZUluaXRcIixmdW5jdGlvbigpe3ZhciB0PWQuc2NoZW1hLmdldFNwZWNpYWxFbGVtZW50cygpO1MuZWFjaChcInZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3RcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oZSl7dFtlXT1uZXcgUmVnRXhwKFwiPC9cIitlK1wiW14+XSo+XCIsXCJnaVwiKX0pO3ZhciByPWQuc2NoZW1hLmdldEJvb2xBdHRycygpO1MuZWFjaChcIndlYmtpdGFsbG93ZnVsbHNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW4gYWxsb3dmdWxsc2NyZWVuXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGUpe3JbZV09e319KSxkLnBhcnNlci5hZGROb2RlRmlsdGVyKFwiaWZyYW1lLHZpZGVvLGF1ZGlvLG9iamVjdCxlbWJlZCxzY3JpcHRcIixjZShkKSksZC5zZXJpYWxpemVyLmFkZEF0dHJpYnV0ZUZpbHRlcihcImRhdGEtbWNlLW9iamVjdFwiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG4saSxhLG8sYyx1LHMsbD1lLmxlbmd0aDtsLS07KWlmKChyPWVbbF0pLnBhcmVudCl7Zm9yKHU9ci5hdHRyKHQpLG49bmV3IHRlKHUsMSksXCJhdWRpb1wiIT09dSYmXCJzY3JpcHRcIiE9PXUmJigocz1yLmF0dHIoXCJjbGFzc1wiKSkmJi0xIT09cy5pbmRleE9mKFwibWNlLXByZXZpZXctb2JqZWN0XCIpP24uYXR0cih7d2lkdGg6ci5maXJzdENoaWxkLmF0dHIoXCJ3aWR0aFwiKSxoZWlnaHQ6ci5maXJzdENoaWxkLmF0dHIoXCJoZWlnaHRcIil9KTpuLmF0dHIoe3dpZHRoOnIuYXR0cihcIndpZHRoXCIpLGhlaWdodDpyLmF0dHIoXCJoZWlnaHRcIil9KSksbi5hdHRyKHtzdHlsZTpyLmF0dHIoXCJzdHlsZVwiKX0pLGk9KGE9ci5hdHRyaWJ1dGVzKS5sZW5ndGg7aS0tOyl7dmFyIG09YVtpXS5uYW1lOzA9PT1tLmluZGV4T2YoXCJkYXRhLW1jZS1wLVwiKSYmbi5hdHRyKG0uc3Vic3RyKDExKSxhW2ldLnZhbHVlKX1cInNjcmlwdFwiPT09dSYmbi5hdHRyKFwidHlwZVwiLFwidGV4dC9qYXZhc2NyaXB0XCIpLChvPXIuYXR0cihcImRhdGEtbWNlLWh0bWxcIikpJiYoKGM9bmV3IHRlKFwiI3RleHRcIiwzKSkucmF3PSEwLGMudmFsdWU9bmUoZCx1bmVzY2FwZShvKSksbi5hcHBlbmQoYykpLHIucmVwbGFjZShuKX19KX0pLGQub24oXCJTZXRDb250ZW50XCIsZnVuY3Rpb24oKXtkLiQoXCJzcGFuLm1jZS1wcmV2aWV3LW9iamVjdFwiKS5lYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZC4kKHQpOzA9PT1yLmZpbmQoXCJzcGFuLm1jZS1zaGltXCIpLmxlbmd0aCYmci5hcHBlbmQoJzxzcGFuIGNsYXNzPVwibWNlLXNoaW1cIj48L3NwYW4+Jyl9KX0pLChyPWUpLm9uKFwiY2xpY2sga2V5dXAgdG91Y2hlbmRcIixmdW5jdGlvbigpe3ZhciBlPXIuc2VsZWN0aW9uLmdldE5vZGUoKTtlJiZyLmRvbS5oYXNDbGFzcyhlLFwibWNlLXByZXZpZXctb2JqZWN0XCIpJiZyLmRvbS5nZXRBdHRyaWIoZSxcImRhdGEtbWNlLXNlbGVjdGVkXCIpJiZlLnNldEF0dHJpYnV0ZShcImRhdGEtbWNlLXNlbGVjdGVkXCIsXCIyXCIpfSksci5vbihcIk9iamVjdFNlbGVjdGVkXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tY2Utb2JqZWN0XCIpO1wiYXVkaW9cIiE9PXQmJlwic2NyaXB0XCIhPT10fHxlLnByZXZlbnREZWZhdWx0KCl9KSxyLm9uKFwiT2JqZWN0UmVzaXplZFwiLGZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS50YXJnZXQ7ci5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1jZS1vYmplY3RcIikmJih0PXIuZ2V0QXR0cmlidXRlKFwiZGF0YS1tY2UtaHRtbFwiKSkmJih0PXVuZXNjYXBlKHQpLHIuc2V0QXR0cmlidXRlKFwiZGF0YS1tY2UtaHRtbFwiLGVzY2FwZShFKHQse3dpZHRoOlN0cmluZyhlLndpZHRoKSxoZWlnaHQ6U3RyaW5nKGUuaGVpZ2h0KX0pKSkpfSksbj1lLHtzaG93RGlhbG9nOmZ1bmN0aW9uKCl7ZWUobil9fX0pfSgpfSgpOyJdLCJzb3VyY2VSb290IjoiIn0=